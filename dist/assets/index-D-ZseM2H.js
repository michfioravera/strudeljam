var Yv=Object.defineProperty;var Xv=(r,e,i)=>e in r?Yv(r,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):r[e]=i;var ze=(r,e,i)=>Xv(r,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Th={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function Zv(){if(Mg)return zl;Mg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var f=null;if(h!==void 0&&(f=""+h),o.key!==void 0&&(f=""+o.key),"key"in o){h={};for(var d in o)d!=="key"&&(h[d]=o[d])}else h=o;return o=h.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:h}}return zl.Fragment=e,zl.jsx=i,zl.jsxs=i,zl}var Dg;function Qv(){return Dg||(Dg=1,Th.exports=Zv()),Th.exports}var j=Qv(),xh={exports:{}},xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rg;function Fv(){if(Rg)return xt;Rg=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function T(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function M(x,G,P){this.props=x,this.context=G,this.refs=C,this.updater=P||S}M.prototype.isReactComponent={},M.prototype.setState=function(x,G){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,G,"setState")},M.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function D(){}D.prototype=M.prototype;function k(x,G,P){this.props=x,this.context=G,this.refs=C,this.updater=P||S}var H=k.prototype=new D;H.constructor=k,A(H,M.prototype),H.isPureReactComponent=!0;var N=Array.isArray;function z(){}var w={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function X(x,G,P){var at=P.ref;return{$$typeof:r,type:x,key:G,ref:at!==void 0?at:null,props:P}}function Z(x,G){return X(x.type,G,x.props)}function F(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function W(x){var G={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(P){return G[P]})}var it=/\/+/g;function st(x,G){return typeof x=="object"&&x!==null&&x.key!=null?W(""+x.key):G.toString(36)}function ot(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(z,z):(x.status="pending",x.then(function(G){x.status==="pending"&&(x.status="fulfilled",x.value=G)},function(G){x.status==="pending"&&(x.status="rejected",x.reason=G)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function V(x,G,P,at,nt){var ut=typeof x;(ut==="undefined"||ut==="boolean")&&(x=null);var vt=!1;if(x===null)vt=!0;else switch(ut){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(x.$$typeof){case r:case e:vt=!0;break;case _:return vt=x._init,V(vt(x._payload),G,P,at,nt)}}if(vt)return nt=nt(x),vt=at===""?"."+st(x,0):at,N(nt)?(P="",vt!=null&&(P=vt.replace(it,"$&/")+"/"),V(nt,G,P,"",function(Be){return Be})):nt!=null&&(F(nt)&&(nt=Z(nt,P+(nt.key==null||x&&x.key===nt.key?"":(""+nt.key).replace(it,"$&/")+"/")+vt)),G.push(nt)),1;vt=0;var rt=at===""?".":at+":";if(N(x))for(var qt=0;qt<x.length;qt++)at=x[qt],ut=rt+st(at,qt),vt+=V(at,G,P,ut,nt);else if(qt=T(x),typeof qt=="function")for(x=qt.call(x),qt=0;!(at=x.next()).done;)at=at.value,ut=rt+st(at,qt++),vt+=V(at,G,P,ut,nt);else if(ut==="object"){if(typeof x.then=="function")return V(ot(x),G,P,at,nt);throw G=String(x),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return vt}function Y(x,G,P){if(x==null)return x;var at=[],nt=0;return V(x,at,"","",function(ut){return G.call(P,ut,nt++)}),at}function $(x){if(x._status===-1){var G=x._result;G=G(),G.then(function(P){(x._status===0||x._status===-1)&&(x._status=1,x._result=P)},function(P){(x._status===0||x._status===-1)&&(x._status=2,x._result=P)}),x._status===-1&&(x._status=0,x._result=G)}if(x._status===1)return x._result.default;throw x._result}var et=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},lt={map:Y,forEach:function(x,G,P){Y(x,function(){G.apply(this,arguments)},P)},count:function(x){var G=0;return Y(x,function(){G++}),G},toArray:function(x){return Y(x,function(G){return G})||[]},only:function(x){if(!F(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return xt.Activity=y,xt.Children=lt,xt.Component=M,xt.Fragment=i,xt.Profiler=o,xt.PureComponent=k,xt.StrictMode=a,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,xt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return w.H.useMemoCache(x)}},xt.cache=function(x){return function(){return x.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(x,G,P){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var at=A({},x.props),nt=x.key;if(G!=null)for(ut in G.key!==void 0&&(nt=""+G.key),G)!O.call(G,ut)||ut==="key"||ut==="__self"||ut==="__source"||ut==="ref"&&G.ref===void 0||(at[ut]=G[ut]);var ut=arguments.length-2;if(ut===1)at.children=P;else if(1<ut){for(var vt=Array(ut),rt=0;rt<ut;rt++)vt[rt]=arguments[rt+2];at.children=vt}return X(x.type,nt,at)},xt.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:h,_context:x},x},xt.createElement=function(x,G,P){var at,nt={},ut=null;if(G!=null)for(at in G.key!==void 0&&(ut=""+G.key),G)O.call(G,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(nt[at]=G[at]);var vt=arguments.length-2;if(vt===1)nt.children=P;else if(1<vt){for(var rt=Array(vt),qt=0;qt<vt;qt++)rt[qt]=arguments[qt+2];nt.children=rt}if(x&&x.defaultProps)for(at in vt=x.defaultProps,vt)nt[at]===void 0&&(nt[at]=vt[at]);return X(x,ut,nt)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(x){return{$$typeof:d,render:x}},xt.isValidElement=F,xt.lazy=function(x){return{$$typeof:_,_payload:{_status:-1,_result:x},_init:$}},xt.memo=function(x,G){return{$$typeof:p,type:x,compare:G===void 0?null:G}},xt.startTransition=function(x){var G=w.T,P={};w.T=P;try{var at=x(),nt=w.S;nt!==null&&nt(P,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(z,et)}catch(ut){et(ut)}finally{G!==null&&P.types!==null&&(G.types=P.types),w.T=G}},xt.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},xt.use=function(x){return w.H.use(x)},xt.useActionState=function(x,G,P){return w.H.useActionState(x,G,P)},xt.useCallback=function(x,G){return w.H.useCallback(x,G)},xt.useContext=function(x){return w.H.useContext(x)},xt.useDebugValue=function(){},xt.useDeferredValue=function(x,G){return w.H.useDeferredValue(x,G)},xt.useEffect=function(x,G){return w.H.useEffect(x,G)},xt.useEffectEvent=function(x){return w.H.useEffectEvent(x)},xt.useId=function(){return w.H.useId()},xt.useImperativeHandle=function(x,G,P){return w.H.useImperativeHandle(x,G,P)},xt.useInsertionEffect=function(x,G){return w.H.useInsertionEffect(x,G)},xt.useLayoutEffect=function(x,G){return w.H.useLayoutEffect(x,G)},xt.useMemo=function(x,G){return w.H.useMemo(x,G)},xt.useOptimistic=function(x,G){return w.H.useOptimistic(x,G)},xt.useReducer=function(x,G,P){return w.H.useReducer(x,G,P)},xt.useRef=function(x){return w.H.useRef(x)},xt.useState=function(x){return w.H.useState(x)},xt.useSyncExternalStore=function(x,G,P){return w.H.useSyncExternalStore(x,G,P)},xt.useTransition=function(){return w.H.useTransition()},xt.version="19.2.0",xt}var kg;function Bh(){return kg||(kg=1,xh.exports=Fv()),xh.exports}var Tt=Bh(),Ah={exports:{}},Vl={},Ch={exports:{}},wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function Wv(){return zg||(zg=1,(function(r){function e(V,Y){var $=V.length;V.push(Y);t:for(;0<$;){var et=$-1>>>1,lt=V[et];if(0<o(lt,Y))V[et]=Y,V[$]=lt,$=et;else break t}}function i(V){return V.length===0?null:V[0]}function a(V){if(V.length===0)return null;var Y=V[0],$=V.pop();if($!==Y){V[0]=$;t:for(var et=0,lt=V.length,x=lt>>>1;et<x;){var G=2*(et+1)-1,P=V[G],at=G+1,nt=V[at];if(0>o(P,$))at<lt&&0>o(nt,P)?(V[et]=nt,V[at]=$,et=at):(V[et]=P,V[G]=$,et=G);else if(at<lt&&0>o(nt,$))V[et]=nt,V[at]=$,et=at;else break t}}return Y}function o(V,Y){var $=V.sortIndex-Y.sortIndex;return $!==0?$:V.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var m=[],p=[],_=1,y=null,b=3,T=!1,S=!1,A=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function H(V){for(var Y=i(p);Y!==null;){if(Y.callback===null)a(p);else if(Y.startTime<=V)a(p),Y.sortIndex=Y.expirationTime,e(m,Y);else break;Y=i(p)}}function N(V){if(A=!1,H(V),!S)if(i(m)!==null)S=!0,z||(z=!0,W());else{var Y=i(p);Y!==null&&ot(N,Y.startTime-V)}}var z=!1,w=-1,O=5,X=-1;function Z(){return C?!0:!(r.unstable_now()-X<O)}function F(){if(C=!1,z){var V=r.unstable_now();X=V;var Y=!0;try{t:{S=!1,A&&(A=!1,D(w),w=-1),T=!0;var $=b;try{e:{for(H(V),y=i(m);y!==null&&!(y.expirationTime>V&&Z());){var et=y.callback;if(typeof et=="function"){y.callback=null,b=y.priorityLevel;var lt=et(y.expirationTime<=V);if(V=r.unstable_now(),typeof lt=="function"){y.callback=lt,H(V),Y=!0;break e}y===i(m)&&a(m),H(V)}else a(m);y=i(m)}if(y!==null)Y=!0;else{var x=i(p);x!==null&&ot(N,x.startTime-V),Y=!1}}break t}finally{y=null,b=$,T=!1}Y=void 0}}finally{Y?W():z=!1}}}var W;if(typeof k=="function")W=function(){k(F)};else if(typeof MessageChannel<"u"){var it=new MessageChannel,st=it.port2;it.port1.onmessage=F,W=function(){st.postMessage(null)}}else W=function(){M(F,0)};function ot(V,Y){w=M(function(){V(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(V){V.callback=null},r.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_next=function(V){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var $=b;b=Y;try{return V()}finally{b=$}},r.unstable_requestPaint=function(){C=!0},r.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var $=b;b=V;try{return Y()}finally{b=$}},r.unstable_scheduleCallback=function(V,Y,$){var et=r.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?et+$:et):$=et,V){case 1:var lt=-1;break;case 2:lt=250;break;case 5:lt=1073741823;break;case 4:lt=1e4;break;default:lt=5e3}return lt=$+lt,V={id:_++,callback:Y,priorityLevel:V,startTime:$,expirationTime:lt,sortIndex:-1},$>et?(V.sortIndex=$,e(p,V),i(m)===null&&V===i(p)&&(A?(D(w),w=-1):A=!0,ot(N,$-et))):(V.sortIndex=lt,e(m,V),S||T||(S=!0,z||(z=!0,W()))),V},r.unstable_shouldYield=Z,r.unstable_wrapCallback=function(V){var Y=b;return function(){var $=b;b=Y;try{return V.apply(this,arguments)}finally{b=$}}}})(wh)),wh}var Vg;function Kv(){return Vg||(Vg=1,Ch.exports=Wv()),Ch.exports}var Eh={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Jv(){if(jg)return qe;jg=1;var r=Bh();function e(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)p+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(m,p,_){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:m,containerInfo:p,implementation:_}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qe.createPortal=function(m,p){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return h(m,p,null,_)},qe.flushSync=function(m){var p=f.T,_=a.p;try{if(f.T=null,a.p=2,m)return m()}finally{f.T=p,a.p=_,a.d.f()}},qe.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(m,p))},qe.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},qe.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;_==="style"?a.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:T}):_==="script"&&a.d.X(m,{crossOrigin:y,integrity:b,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},qe.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var _=d(p.as,p.crossOrigin);a.d.M(m,{crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(m)},qe.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var _=p.as,y=d(_,p.crossOrigin);a.d.L(m,_,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},qe.preloadModule=function(m,p){if(typeof m=="string")if(p){var _=d(p.as,p.crossOrigin);a.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:_,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(m)},qe.requestFormReset=function(m){a.d.r(m)},qe.unstable_batchedUpdates=function(m,p){return m(p)},qe.useFormState=function(m,p,_){return f.H.useFormState(m,p,_)},qe.useFormStatus=function(){return f.H.useHostTransitionStatus()},qe.version="19.2.0",qe}var qg;function $v(){if(qg)return Eh.exports;qg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Eh.exports=Jv(),Eh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function Pv(){if(Ug)return Vl;Ug=1;var r=Kv(),e=Bh(),i=$v();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function d(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function m(t){if(h(t)!==t)throw Error(a(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var u=c.alternate;if(u===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===u.child){for(u=c.child;u;){if(u===s)return m(c),t;if(u===l)return m(c),n;u=u.sibling}throw Error(a(188))}if(s.return!==l.return)s=c,l=u;else{for(var g=!1,v=c.child;v;){if(v===s){g=!0,s=c,l=u;break}if(v===l){g=!0,l=c,s=u;break}v=v.sibling}if(!g){for(v=u.child;v;){if(v===s){g=!0,s=u,l=c;break}if(v===l){g=!0,l=u,s=c;break}v=v.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),k=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function W(t){return t===null||typeof t!="object"?null:(t=F&&t[F]||t["@@iterator"],typeof t=="function"?t:null)}var it=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===it?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case A:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case N:return"Suspense";case z:return"SuspenseList";case X:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case S:return"Portal";case k:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case H:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return n=t.displayName||null,n!==null?n:st(t.type)||"Memo";case O:n=t._payload,t=t._init;try{return st(t(n))}catch{}}return null}var ot=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},et=[],lt=-1;function x(t){return{current:t}}function G(t){0>lt||(t.current=et[lt],et[lt]=null,lt--)}function P(t,n){lt++,et[lt]=t.current,t.current=n}var at=x(null),nt=x(null),ut=x(null),vt=x(null);function rt(t,n){switch(P(ut,n),P(nt,t),P(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Pm(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Pm(n),t=tg(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}G(at),P(at,t)}function qt(){G(at),G(nt),G(ut)}function Be(t){t.memoizedState!==null&&P(vt,t);var n=at.current,s=tg(n,t.type);n!==s&&(P(nt,t),P(at,s))}function sn(t){nt.current===t&&(G(at),G(nt)),vt.current===t&&(G(vt),Ml._currentValue=$)}var ht,bt;function St(t){if(ht===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ht=n&&n[1]||"",bt=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+t+bt}var tt=!1;function pt(t,n){if(!t||tt)return"";tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(I){var B=I}Reflect.construct(t,[],J)}else{try{J.call()}catch(I){B=I}t.call(J.prototype)}}else{try{throw Error()}catch(I){B=I}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(I){if(I&&B&&typeof I.stack=="string")return[I.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=l.DetermineComponentFrameRoot(),g=u[0],v=u[1];if(g&&v){var E=g.split(`
`),L=v.split(`
`);for(c=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===E.length||c===L.length)for(l=E.length-1,c=L.length-1;1<=l&&0<=c&&E[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(E[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||E[l]!==L[c]){var Q=`
`+E[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{tt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?St(s):""}function ae(t,n){switch(t.tag){case 26:case 27:case 5:return St(t.type);case 16:return St("Lazy");case 13:return t.child!==n&&n!==null?St("Suspense Fallback"):St("Suspense");case 19:return St("SuspenseList");case 0:case 15:return pt(t.type,!1);case 11:return pt(t.type.render,!1);case 1:return pt(t.type,!0);case 31:return St("Activity");default:return""}}function Kt(t){try{var n="",s=null;do n+=ae(t,s),s=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Dt=Object.prototype.hasOwnProperty,Jt=r.unstable_scheduleCallback,je=r.unstable_cancelCallback,Gn=r.unstable_shouldYield,hi=r.unstable_requestPaint,Ne=r.unstable_now,cc=r.unstable_getCurrentPriorityLevel,tr=r.unstable_ImmediatePriority,Rf=r.unstable_UserBlockingPriority,er=r.unstable_NormalPriority,C_=r.unstable_LowPriority,kf=r.unstable_IdlePriority,w_=r.log,E_=r.unstable_setDisableYieldValue,Ga=null,an=null;function Es(t){if(typeof w_=="function"&&E_(t),an&&typeof an.setStrictMode=="function")try{an.setStrictMode(Ga,t)}catch{}}var ln=Math.clz32?Math.clz32:M_,N_=Math.log,O_=Math.LN2;function M_(t){return t>>>=0,t===0?32:31-(N_(t)/O_|0)|0}var nr=256,sr=262144,ir=4194304;function fi(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ar(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,u=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var v=l&134217727;return v!==0?(l=v&~u,l!==0?c=fi(l):(g&=v,g!==0?c=fi(g):s||(s=v&~t,s!==0&&(c=fi(s))))):(v=l&~u,v!==0?c=fi(v):g!==0?c=fi(g):s||(s=l&~t,s!==0&&(c=fi(s)))),c===0?0:n!==0&&n!==c&&(n&u)===0&&(u=c&-c,s=n&-n,u>=s||u===32&&(s&4194048)!==0)?n:c}function Ia(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function D_(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zf(){var t=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),t}function uc(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function Ya(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function R_(t,n,s,l,c,u){var g=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var v=t.entanglements,E=t.expirationTimes,L=t.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-ln(s),J=1<<Q;v[Q]=0,E[Q]=-1;var B=L[Q];if(B!==null)for(L[Q]=null,Q=0;Q<B.length;Q++){var I=B[Q];I!==null&&(I.lane&=-536870913)}s&=~J}l!==0&&Vf(t,l,0),u!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=u&~(g&~n))}function Vf(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ln(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function jf(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-ln(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function qf(t,n){var s=n&-n;return s=(s&42)!==0?1:hc(s),(s&(t.suspendedLanes|n))!==0?0:s}function hc(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fc(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uf(){var t=Y.p;return t!==0?t:(t=window.event,t===void 0?32:xg(t.type))}function Lf(t,n){var s=Y.p;try{return Y.p=t,n()}finally{Y.p=s}}var Ns=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Ns,Ze="__reactProps$"+Ns,Hi="__reactContainer$"+Ns,dc="__reactEvents$"+Ns,k_="__reactListeners$"+Ns,z_="__reactHandles$"+Ns,Bf="__reactResources$"+Ns,Xa="__reactMarker$"+Ns;function pc(t){delete t[Oe],delete t[Ze],delete t[dc],delete t[k_],delete t[z_]}function Gi(t){var n=t[Oe];if(n)return n;for(var s=t.parentNode;s;){if(n=s[Hi]||s[Oe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=rg(t);t!==null;){if(s=t[Oe])return s;t=rg(t)}return n}t=s,s=t.parentNode}return null}function Ii(t){if(t=t[Oe]||t[Hi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Za(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Yi(t){var n=t[Bf];return n||(n=t[Bf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(t){t[Xa]=!0}var Hf=new Set,Gf={};function di(t,n){Xi(t,n),Xi(t+"Capture",n)}function Xi(t,n){for(Gf[t]=n,t=0;t<n.length;t++)Hf.add(n[t])}var V_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),If={},Yf={};function j_(t){return Dt.call(Yf,t)?!0:Dt.call(If,t)?!1:V_.test(t)?Yf[t]=!0:(If[t]=!0,!1)}function lr(t,n,s){if(j_(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function rr(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function Pn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}function _n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function q_(t,n,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,u=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){s=""+g,u.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function mc(t){if(!t._valueTracker){var n=Xf(t)?"checked":"value";t._valueTracker=q_(t,n,""+t[n])}}function Zf(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Xf(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var U_=/[\n"\\]/g;function yn(t){return t.replace(U_,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function gc(t,n,s,l,c,u,g,v){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+_n(n)):t.value!==""+_n(n)&&(t.value=""+_n(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?_c(t,g,_n(n)):s!=null?_c(t,g,_n(s)):l!=null&&t.removeAttribute("value"),c==null&&u!=null&&(t.defaultChecked=!!u),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.name=""+_n(v):t.removeAttribute("name")}function Qf(t,n,s,l,c,u,g,v){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(t.type=u),n!=null||s!=null){if(!(u!=="submit"&&u!=="reset"||n!=null)){mc(t);return}s=s!=null?""+_n(s):"",n=n!=null?""+_n(n):s,v||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=v?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),mc(t)}function _c(t,n,s){n==="number"&&or(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Zi(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+_n(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ff(t,n,s){if(n!=null&&(n=""+_n(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+_n(s):""}function Wf(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(ot(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=_n(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),mc(t)}function Qi(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var L_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kf(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||L_.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Jf(t,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Kf(t,c,l)}else for(var u in n)n.hasOwnProperty(u)&&Kf(t,u,n[u])}function yc(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),H_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cr(t){return H_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ts(){}var vc=null;function bc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fi=null,Wi=null;function $f(t){var n=Ii(t);if(n&&(t=n.stateNode)){var s=t[Ze]||null;t:switch(t=n.stateNode,n.type){case"input":if(gc(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[Ze]||null;if(!c)throw Error(a(90));gc(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Zf(l)}break t;case"textarea":Ff(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Zi(t,!!s.multiple,n,!1)}}}var Sc=!1;function Pf(t,n,s){if(Sc)return t(n,s);Sc=!0;try{var l=t(n);return l}finally{if(Sc=!1,(Fi!==null||Wi!==null)&&(Kr(),Fi&&(n=Fi,t=Wi,Wi=Fi=null,$f(n),t)))for(n=0;n<t.length;n++)$f(t[n])}}function Qa(t,n){var s=t.stateNode;if(s===null)return null;var l=s[Ze]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tc=!1;if(es)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){Tc=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{Tc=!1}var Os=null,xc=null,ur=null;function td(){if(ur)return ur;var t,n=xc,s=n.length,l,c="value"in Os?Os.value:Os.textContent,u=c.length;for(t=0;t<s&&n[t]===c[t];t++);var g=s-t;for(l=1;l<=g&&n[s-l]===c[u-l];l++);return ur=c.slice(t,1<l?1-l:void 0)}function hr(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function fr(){return!0}function ed(){return!1}function Qe(t){function n(s,l,c,u,g){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=u,this.target=g,this.currentTarget=null;for(var v in t)t.hasOwnProperty(v)&&(s=t[v],this[v]=s?s(u):u[v]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?fr:ed,this.isPropagationStopped=ed,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),n}var pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=Qe(pi),Wa=y({},pi,{view:0,detail:0}),G_=Qe(Wa),Ac,Cc,Ka,pr=y({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Ac=t.screenX-Ka.screenX,Cc=t.screenY-Ka.screenY):Cc=Ac=0,Ka=t),Ac)},movementY:function(t){return"movementY"in t?t.movementY:Cc}}),nd=Qe(pr),I_=y({},pr,{dataTransfer:0}),Y_=Qe(I_),X_=y({},Wa,{relatedTarget:0}),wc=Qe(X_),Z_=y({},pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Q_=Qe(Z_),F_=y({},pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),W_=Qe(F_),K_=y({},pi,{data:0}),sd=Qe(K_),J_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},P_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ty(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=P_[t])?!!n[t]:!1}function Ec(){return ty}var ey=y({},Wa,{key:function(t){if(t.key){var n=J_[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=hr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ec,charCode:function(t){return t.type==="keypress"?hr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ny=Qe(ey),sy=y({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),id=Qe(sy),iy=y({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ec}),ay=Qe(iy),ly=y({},pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ry=Qe(ly),oy=y({},pr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cy=Qe(oy),uy=y({},pi,{newState:0,oldState:0}),hy=Qe(uy),fy=[9,13,27,32],Nc=es&&"CompositionEvent"in window,Ja=null;es&&"documentMode"in document&&(Ja=document.documentMode);var dy=es&&"TextEvent"in window&&!Ja,ad=es&&(!Nc||Ja&&8<Ja&&11>=Ja),ld=" ",rd=!1;function od(t,n){switch(t){case"keyup":return fy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function py(t,n){switch(t){case"compositionend":return cd(n);case"keypress":return n.which!==32?null:(rd=!0,ld);case"textInput":return t=n.data,t===ld&&rd?null:t;default:return null}}function my(t,n){if(Ki)return t==="compositionend"||!Nc&&od(t,n)?(t=td(),ur=xc=Os=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ad&&n.locale!=="ko"?null:n.data;default:return null}}var gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ud(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!gy[t.type]:n==="textarea"}function hd(t,n,s,l){Fi?Wi?Wi.push(l):Wi=[l]:Fi=l,n=so(n,"onChange"),0<n.length&&(s=new dr("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var $a=null,Pa=null;function _y(t){Qm(t,0)}function mr(t){var n=Za(t);if(Zf(n))return t}function fd(t,n){if(t==="change")return n}var dd=!1;if(es){var Oc;if(es){var Mc="oninput"in document;if(!Mc){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),Mc=typeof pd.oninput=="function"}Oc=Mc}else Oc=!1;dd=Oc&&(!document.documentMode||9<document.documentMode)}function md(){$a&&($a.detachEvent("onpropertychange",gd),Pa=$a=null)}function gd(t){if(t.propertyName==="value"&&mr(Pa)){var n=[];hd(n,Pa,t,bc(t)),Pf(_y,n)}}function yy(t,n,s){t==="focusin"?(md(),$a=n,Pa=s,$a.attachEvent("onpropertychange",gd)):t==="focusout"&&md()}function vy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return mr(Pa)}function by(t,n){if(t==="click")return mr(n)}function Sy(t,n){if(t==="input"||t==="change")return mr(n)}function Ty(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var rn=typeof Object.is=="function"?Object.is:Ty;function tl(t,n){if(rn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Dt.call(n,c)||!rn(t[c],n[c]))return!1}return!0}function _d(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yd(t,n){var s=_d(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_d(s)}}function vd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?vd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=or(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=or(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var xy=es&&"documentMode"in document&&11>=document.documentMode,Ji=null,Rc=null,el=null,kc=!1;function Sd(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kc||Ji==null||Ji!==or(l)||(l=Ji,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&tl(el,l)||(el=l,l=so(Rc,"onSelect"),0<l.length&&(n=new dr("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Ji)))}function mi(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var $i={animationend:mi("Animation","AnimationEnd"),animationiteration:mi("Animation","AnimationIteration"),animationstart:mi("Animation","AnimationStart"),transitionrun:mi("Transition","TransitionRun"),transitionstart:mi("Transition","TransitionStart"),transitioncancel:mi("Transition","TransitionCancel"),transitionend:mi("Transition","TransitionEnd")},zc={},Td={};es&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function gi(t){if(zc[t])return zc[t];if(!$i[t])return t;var n=$i[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in Td)return zc[t]=n[s];return t}var xd=gi("animationend"),Ad=gi("animationiteration"),Cd=gi("animationstart"),Ay=gi("transitionrun"),Cy=gi("transitionstart"),wy=gi("transitioncancel"),wd=gi("transitionend"),Ed=new Map,Vc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vc.push("scrollEnd");function Dn(t,n){Ed.set(t,n),di(n,[t])}var gr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},vn=[],Pi=0,jc=0;function _r(){for(var t=Pi,n=jc=Pi=0;n<t;){var s=vn[n];vn[n++]=null;var l=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var u=vn[n];if(vn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}u!==0&&Nd(s,c,u)}}function yr(t,n,s,l){vn[Pi++]=t,vn[Pi++]=n,vn[Pi++]=s,vn[Pi++]=l,jc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,s,l){return yr(t,n,s,l),vr(t)}function _i(t,n){return yr(t,null,null,n),vr(t)}function Nd(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,u=t.return;u!==null;)u.childLanes|=s,l=u.alternate,l!==null&&(l.childLanes|=s),u.tag===22&&(t=u.stateNode,t===null||t._visibility&1||(c=!0)),t=u,u=u.return;return t.tag===3?(u=t.stateNode,c&&n!==null&&(c=31-ln(s),t=u.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),u):null}function vr(t){if(50<xl)throw xl=0,Zu=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ta={};function Ey(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,s,l){return new Ey(t,n,s,l)}function Uc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,n){var s=t.alternate;return s===null?(s=on(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Od(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function br(t,n,s,l,c,u){var g=0;if(l=t,typeof t=="function")Uc(t)&&(g=1);else if(typeof t=="string")g=Rv(t,s,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case X:return t=on(31,s,n,c),t.elementType=X,t.lanes=u,t;case A:return yi(s.children,c,u,n);case C:g=8,c|=24;break;case M:return t=on(12,s,n,c|2),t.elementType=M,t.lanes=u,t;case N:return t=on(13,s,n,c),t.elementType=N,t.lanes=u,t;case z:return t=on(19,s,n,c),t.elementType=z,t.lanes=u,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:g=10;break t;case D:g=9;break t;case H:g=11;break t;case w:g=14;break t;case O:g=16,l=null;break t}g=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=on(g,s,n,c),n.elementType=t,n.type=l,n.lanes=u,n}function yi(t,n,s,l){return t=on(7,t,l,n),t.lanes=s,t}function Lc(t,n,s){return t=on(6,t,null,n),t.lanes=s,t}function Md(t){var n=on(18,null,null,0);return n.stateNode=t,n}function Bc(t,n,s){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Dd=new WeakMap;function bn(t,n){if(typeof t=="object"&&t!==null){var s=Dd.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Kt(n)},Dd.set(t,n),n)}return{value:t,source:n,stack:Kt(n)}}var ea=[],na=0,Sr=null,nl=0,Sn=[],Tn=0,Ms=null,In=1,Yn="";function ss(t,n){ea[na++]=nl,ea[na++]=Sr,Sr=t,nl=n}function Rd(t,n,s){Sn[Tn++]=In,Sn[Tn++]=Yn,Sn[Tn++]=Ms,Ms=t;var l=In;t=Yn;var c=32-ln(l)-1;l&=~(1<<c),s+=1;var u=32-ln(n)+c;if(30<u){var g=c-c%5;u=(l&(1<<g)-1).toString(32),l>>=g,c-=g,In=1<<32-ln(n)+c|s<<c|l,Yn=u+t}else In=1<<u|s<<c|l,Yn=t}function Hc(t){t.return!==null&&(ss(t,1),Rd(t,1,0))}function Gc(t){for(;t===Sr;)Sr=ea[--na],ea[na]=null,nl=ea[--na],ea[na]=null;for(;t===Ms;)Ms=Sn[--Tn],Sn[Tn]=null,Yn=Sn[--Tn],Sn[Tn]=null,In=Sn[--Tn],Sn[Tn]=null}function kd(t,n){Sn[Tn++]=In,Sn[Tn++]=Yn,Sn[Tn++]=Ms,In=n.id,Yn=n.overflow,Ms=t}var Me=null,Pt=null,Rt=!1,Ds=null,xn=!1,Ic=Error(a(519));function Rs(t){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(bn(n,t)),Ic}function zd(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[Oe]=t,n[Ze]=l,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<Cl.length;s++)Nt(Cl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),Qf(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),Wf(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Jm(n.textContent,s)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=ts),n=!0):n=!1,n||Rs(t,!0)}function Vd(t){for(Me=t.return;Me;)switch(Me.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:Me=Me.return}}function sa(t){if(t!==Me)return!1;if(!Rt)return Vd(t),Rt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||rh(t.type,t.memoizedProps)),s=!s),s&&Pt&&Rs(t),Vd(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Pt=lg(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Pt=lg(t)}else n===27?(n=Pt,Zs(t.type)?(t=fh,fh=null,Pt=t):Pt=n):Pt=Me?Cn(t.stateNode.nextSibling):null;return!0}function vi(){Pt=Me=null,Rt=!1}function Yc(){var t=Ds;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Ds=null),t}function sl(t){Ds===null?Ds=[t]:Ds.push(t)}var Xc=x(null),bi=null,is=null;function ks(t,n,s){P(Xc,n._currentValue),n._currentValue=s}function as(t){t._currentValue=Xc.current,G(Xc)}function Zc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Qc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var u=c.dependencies;if(u!==null){var g=c.child;u=u.firstContext;t:for(;u!==null;){var v=u;u=c;for(var E=0;E<n.length;E++)if(v.context===n[E]){u.lanes|=s,v=u.alternate,v!==null&&(v.lanes|=s),Zc(u.return,s,t),l||(g=null);break t}u=v.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(a(341));g.lanes|=s,u=g.alternate,u!==null&&(u.lanes|=s),Zc(g,s,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ia(t,n,s,l){t=null;for(var c=n,u=!1;c!==null;){if(!u){if((c.flags&524288)!==0)u=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var v=c.type;rn(c.pendingProps.value,g.value)||(t!==null?t.push(v):t=[v])}}else if(c===vt.current){if(g=c.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}c=c.return}t!==null&&Qc(n,t,s,l),n.flags|=262144}function Tr(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Si(t){bi=t,is=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function De(t){return jd(bi,t)}function xr(t,n){return bi===null&&Si(t),jd(t,n)}function jd(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(t===null)throw Error(a(308));is=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else is=is.next=n;return s}var Ny=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},Oy=r.unstable_scheduleCallback,My=r.unstable_NormalPriority,pe={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new Ny,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&Oy(My,function(){t.controller.abort()})}var al=null,Wc=0,aa=0,la=null;function Dy(t,n){if(al===null){var s=al=[];Wc=0,aa=$u(),la={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wc++,n.then(qd,qd),n}function qd(){if(--Wc===0&&al!==null){la!==null&&(la.status="fulfilled");var t=al;al=null,aa=0,la=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Ry(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Ud=V.S;V.S=function(t,n){Sm=Ne(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Dy(t,n),Ud!==null&&Ud(t,n)};var Ti=x(null);function Kc(){var t=Ti.current;return t!==null?t:Qt.pooledCache}function Ar(t,n){n===null?P(Ti,Ti.current):P(Ti,n.pool)}function Ld(){var t=Kc();return t===null?null:{parent:pe._currentValue,pool:t}}var ra=Error(a(460)),Jc=Error(a(474)),Cr=Error(a(542)),wr={then:function(){}};function Bd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hd(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(ts,ts),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Id(t),t;default:if(typeof n.status=="string")n.then(ts,ts);else{if(t=Qt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Id(t),t}throw Ai=n,ra}}function xi(t){try{var n=t._init;return n(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ai=s,ra):s}}var Ai=null;function Gd(){if(Ai===null)throw Error(a(459));var t=Ai;return Ai=null,t}function Id(t){if(t===ra||t===Cr)throw Error(a(483))}var oa=null,ll=0;function Er(t){var n=ll;return ll+=1,oa===null&&(oa=[]),Hd(oa,t,n)}function rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nr(t,n){throw n.$$typeof===b?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Yd(t){function n(q,R){if(t){var U=q.deletions;U===null?(q.deletions=[R],q.flags|=16):U.push(R)}}function s(q,R){if(!t)return null;for(;R!==null;)n(q,R),R=R.sibling;return null}function l(q){for(var R=new Map;q!==null;)q.key!==null?R.set(q.key,q):R.set(q.index,q),q=q.sibling;return R}function c(q,R){return q=ns(q,R),q.index=0,q.sibling=null,q}function u(q,R,U){return q.index=U,t?(U=q.alternate,U!==null?(U=U.index,U<R?(q.flags|=67108866,R):U):(q.flags|=67108866,R)):(q.flags|=1048576,R)}function g(q){return t&&q.alternate===null&&(q.flags|=67108866),q}function v(q,R,U,K){return R===null||R.tag!==6?(R=Lc(U,q.mode,K),R.return=q,R):(R=c(R,U),R.return=q,R)}function E(q,R,U,K){var gt=U.type;return gt===A?Q(q,R,U.props.children,K,U.key):R!==null&&(R.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===O&&xi(gt)===R.type)?(R=c(R,U.props),rl(R,U),R.return=q,R):(R=br(U.type,U.key,U.props,null,q.mode,K),rl(R,U),R.return=q,R)}function L(q,R,U,K){return R===null||R.tag!==4||R.stateNode.containerInfo!==U.containerInfo||R.stateNode.implementation!==U.implementation?(R=Bc(U,q.mode,K),R.return=q,R):(R=c(R,U.children||[]),R.return=q,R)}function Q(q,R,U,K,gt){return R===null||R.tag!==7?(R=yi(U,q.mode,K,gt),R.return=q,R):(R=c(R,U),R.return=q,R)}function J(q,R,U){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Lc(""+R,q.mode,U),R.return=q,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return U=br(R.type,R.key,R.props,null,q.mode,U),rl(U,R),U.return=q,U;case S:return R=Bc(R,q.mode,U),R.return=q,R;case O:return R=xi(R),J(q,R,U)}if(ot(R)||W(R))return R=yi(R,q.mode,U,null),R.return=q,R;if(typeof R.then=="function")return J(q,Er(R),U);if(R.$$typeof===k)return J(q,xr(q,R),U);Nr(q,R)}return null}function B(q,R,U,K){var gt=R!==null?R.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return gt!==null?null:v(q,R,""+U,K);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return U.key===gt?E(q,R,U,K):null;case S:return U.key===gt?L(q,R,U,K):null;case O:return U=xi(U),B(q,R,U,K)}if(ot(U)||W(U))return gt!==null?null:Q(q,R,U,K,null);if(typeof U.then=="function")return B(q,R,Er(U),K);if(U.$$typeof===k)return B(q,R,xr(q,U),K);Nr(q,U)}return null}function I(q,R,U,K,gt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return q=q.get(U)||null,v(R,q,""+K,gt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case T:return q=q.get(K.key===null?U:K.key)||null,E(R,q,K,gt);case S:return q=q.get(K.key===null?U:K.key)||null,L(R,q,K,gt);case O:return K=xi(K),I(q,R,U,K,gt)}if(ot(K)||W(K))return q=q.get(U)||null,Q(R,q,K,gt,null);if(typeof K.then=="function")return I(q,R,U,Er(K),gt);if(K.$$typeof===k)return I(q,R,U,xr(R,K),gt);Nr(R,K)}return null}function ct(q,R,U,K){for(var gt=null,zt=null,ft=R,Ct=R=0,Mt=null;ft!==null&&Ct<U.length;Ct++){ft.index>Ct?(Mt=ft,ft=null):Mt=ft.sibling;var Vt=B(q,ft,U[Ct],K);if(Vt===null){ft===null&&(ft=Mt);break}t&&ft&&Vt.alternate===null&&n(q,ft),R=u(Vt,R,Ct),zt===null?gt=Vt:zt.sibling=Vt,zt=Vt,ft=Mt}if(Ct===U.length)return s(q,ft),Rt&&ss(q,Ct),gt;if(ft===null){for(;Ct<U.length;Ct++)ft=J(q,U[Ct],K),ft!==null&&(R=u(ft,R,Ct),zt===null?gt=ft:zt.sibling=ft,zt=ft);return Rt&&ss(q,Ct),gt}for(ft=l(ft);Ct<U.length;Ct++)Mt=I(ft,q,Ct,U[Ct],K),Mt!==null&&(t&&Mt.alternate!==null&&ft.delete(Mt.key===null?Ct:Mt.key),R=u(Mt,R,Ct),zt===null?gt=Mt:zt.sibling=Mt,zt=Mt);return t&&ft.forEach(function(Js){return n(q,Js)}),Rt&&ss(q,Ct),gt}function yt(q,R,U,K){if(U==null)throw Error(a(151));for(var gt=null,zt=null,ft=R,Ct=R=0,Mt=null,Vt=U.next();ft!==null&&!Vt.done;Ct++,Vt=U.next()){ft.index>Ct?(Mt=ft,ft=null):Mt=ft.sibling;var Js=B(q,ft,Vt.value,K);if(Js===null){ft===null&&(ft=Mt);break}t&&ft&&Js.alternate===null&&n(q,ft),R=u(Js,R,Ct),zt===null?gt=Js:zt.sibling=Js,zt=Js,ft=Mt}if(Vt.done)return s(q,ft),Rt&&ss(q,Ct),gt;if(ft===null){for(;!Vt.done;Ct++,Vt=U.next())Vt=J(q,Vt.value,K),Vt!==null&&(R=u(Vt,R,Ct),zt===null?gt=Vt:zt.sibling=Vt,zt=Vt);return Rt&&ss(q,Ct),gt}for(ft=l(ft);!Vt.done;Ct++,Vt=U.next())Vt=I(ft,q,Ct,Vt.value,K),Vt!==null&&(t&&Vt.alternate!==null&&ft.delete(Vt.key===null?Ct:Vt.key),R=u(Vt,R,Ct),zt===null?gt=Vt:zt.sibling=Vt,zt=Vt);return t&&ft.forEach(function(Iv){return n(q,Iv)}),Rt&&ss(q,Ct),gt}function Xt(q,R,U,K){if(typeof U=="object"&&U!==null&&U.type===A&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case T:t:{for(var gt=U.key;R!==null;){if(R.key===gt){if(gt=U.type,gt===A){if(R.tag===7){s(q,R.sibling),K=c(R,U.props.children),K.return=q,q=K;break t}}else if(R.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===O&&xi(gt)===R.type){s(q,R.sibling),K=c(R,U.props),rl(K,U),K.return=q,q=K;break t}s(q,R);break}else n(q,R);R=R.sibling}U.type===A?(K=yi(U.props.children,q.mode,K,U.key),K.return=q,q=K):(K=br(U.type,U.key,U.props,null,q.mode,K),rl(K,U),K.return=q,q=K)}return g(q);case S:t:{for(gt=U.key;R!==null;){if(R.key===gt)if(R.tag===4&&R.stateNode.containerInfo===U.containerInfo&&R.stateNode.implementation===U.implementation){s(q,R.sibling),K=c(R,U.children||[]),K.return=q,q=K;break t}else{s(q,R);break}else n(q,R);R=R.sibling}K=Bc(U,q.mode,K),K.return=q,q=K}return g(q);case O:return U=xi(U),Xt(q,R,U,K)}if(ot(U))return ct(q,R,U,K);if(W(U)){if(gt=W(U),typeof gt!="function")throw Error(a(150));return U=gt.call(U),yt(q,R,U,K)}if(typeof U.then=="function")return Xt(q,R,Er(U),K);if(U.$$typeof===k)return Xt(q,R,xr(q,U),K);Nr(q,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,R!==null&&R.tag===6?(s(q,R.sibling),K=c(R,U),K.return=q,q=K):(s(q,R),K=Lc(U,q.mode,K),K.return=q,q=K),g(q)):s(q,R)}return function(q,R,U,K){try{ll=0;var gt=Xt(q,R,U,K);return oa=null,gt}catch(ft){if(ft===ra||ft===Cr)throw ft;var zt=on(29,ft,null,q.mode);return zt.lanes=K,zt.return=q,zt}finally{}}}var Ci=Yd(!0),Xd=Yd(!1),zs=!1;function $c(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function js(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ut&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=vr(t),Nd(t,null,s),n}return yr(t,l,n,s),vr(t)}function ol(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,jf(t,s)}}function tu(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,u=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};u===null?c=u=g:u=u.next=g,s=s.next}while(s!==null);u===null?c=u=n:u=u.next=n}else c=u=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:u,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var eu=!1;function cl(){if(eu){var t=la;if(t!==null)throw t}}function ul(t,n,s,l){eu=!1;var c=t.updateQueue;zs=!1;var u=c.firstBaseUpdate,g=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var E=v,L=E.next;E.next=null,g===null?u=L:g.next=L,g=E;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,v=Q.lastBaseUpdate,v!==g&&(v===null?Q.firstBaseUpdate=L:v.next=L,Q.lastBaseUpdate=E))}if(u!==null){var J=c.baseState;g=0,Q=L=E=null,v=u;do{var B=v.lane&-536870913,I=B!==v.lane;if(I?(Ot&B)===B:(l&B)===B){B!==0&&B===aa&&(eu=!0),Q!==null&&(Q=Q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ct=t,yt=v;B=n;var Xt=s;switch(yt.tag){case 1:if(ct=yt.payload,typeof ct=="function"){J=ct.call(Xt,J,B);break t}J=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=yt.payload,B=typeof ct=="function"?ct.call(Xt,J,B):ct,B==null)break t;J=y({},J,B);break t;case 2:zs=!0}}B=v.callback,B!==null&&(t.flags|=64,I&&(t.flags|=8192),I=c.callbacks,I===null?c.callbacks=[B]:I.push(B))}else I={lane:B,tag:v.tag,payload:v.payload,callback:v.callback,next:null},Q===null?(L=Q=I,E=J):Q=Q.next=I,g|=B;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;I=v,v=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);Q===null&&(E=J),c.baseState=E,c.firstBaseUpdate=L,c.lastBaseUpdate=Q,u===null&&(c.shared.lanes=0),Hs|=g,t.lanes=g,t.memoizedState=J}}function Zd(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function Qd(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Zd(s[t],n)}var ca=x(null),Or=x(0);function Fd(t,n){t=ps,P(Or,t),P(ca,n),ps=t|n.baseLanes}function nu(){P(Or,ps),P(ca,ca.current)}function su(){ps=Or.current,G(ca),G(Or)}var cn=x(null),An=null;function qs(t){var n=t.alternate;P(he,he.current&1),P(cn,t),An===null&&(n===null||ca.current!==null||n.memoizedState!==null)&&(An=t)}function iu(t){P(he,he.current),P(cn,t),An===null&&(An=t)}function Wd(t){t.tag===22?(P(he,he.current),P(cn,t),An===null&&(An=t)):Us()}function Us(){P(he,he.current),P(cn,cn.current)}function un(t){G(cn),An===t&&(An=null),G(he)}var he=x(0);function Mr(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||uh(s)||hh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ls=0,At=null,It=null,me=null,Dr=!1,ua=!1,wi=!1,Rr=0,hl=0,ha=null,ky=0;function re(){throw Error(a(321))}function au(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!rn(t[s],n[s]))return!1;return!0}function lu(t,n,s,l,c,u){return ls=u,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,V.H=t===null||t.memoizedState===null?Rp:Su,wi=!1,u=s(l,c),wi=!1,ua&&(u=Jd(n,s,l,c)),Kd(t),u}function Kd(t){V.H=pl;var n=It!==null&&It.next!==null;if(ls=0,me=It=At=null,Dr=!1,hl=0,ha=null,n)throw Error(a(300));t===null||ge||(t=t.dependencies,t!==null&&Tr(t)&&(ge=!0))}function Jd(t,n,s,l){At=t;var c=0;do{if(ua&&(ha=null),hl=0,ua=!1,25<=c)throw Error(a(301));if(c+=1,me=It=null,t.updateQueue!=null){var u=t.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}V.H=kp,u=n(s,l)}while(ua);return u}function zy(){var t=V.H,n=t.useState()[0];return n=typeof n.then=="function"?fl(n):n,t=t.useState()[0],(It!==null?It.memoizedState:null)!==t&&(At.flags|=1024),n}function ru(){var t=Rr!==0;return Rr=0,t}function ou(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function cu(t){if(Dr){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Dr=!1}ls=0,me=It=At=null,ua=!1,hl=Rr=0,ha=null}function He(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function fe(){if(It===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,It=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function kr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var n=hl;return hl+=1,ha===null&&(ha=[]),t=Hd(ha,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,V.H=n===null||n.memoizedState===null?Rp:Su),t}function zr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===k)return De(t)}throw Error(a(438,String(t)))}function uu(t){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=kr(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=Z;return n.index++,s}function rs(t,n){return typeof n=="function"?n(t):n}function Vr(t){var n=fe();return hu(n,It,t)}function hu(t,n,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var c=t.baseQueue,u=l.pending;if(u!==null){if(c!==null){var g=c.next;c.next=u.next,u.next=g}n.baseQueue=c=u,l.pending=null}if(u=t.baseState,c===null)t.memoizedState=u;else{n=c.next;var v=g=null,E=null,L=n,Q=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Ot&J)===J:(ls&J)===J){var B=L.revertLane;if(B===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===aa&&(Q=!0);else if((ls&B)===B){L=L.next,B===aa&&(Q=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(v=E=J,g=u):E=E.next=J,At.lanes|=B,Hs|=B;J=L.action,wi&&s(u,J),u=L.hasEagerState?L.eagerState:s(u,J)}else B={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(v=E=B,g=u):E=E.next=B,At.lanes|=J,Hs|=J;L=L.next}while(L!==null&&L!==n);if(E===null?g=u:E.next=v,!rn(u,t.memoizedState)&&(ge=!0,Q&&(s=la,s!==null)))throw s;t.memoizedState=u,t.baseState=g,t.baseQueue=E,l.lastRenderedState=u}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function fu(t){var n=fe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,u=n.memoizedState;if(c!==null){s.pending=null;var g=c=c.next;do u=t(u,g.action),g=g.next;while(g!==c);rn(u,n.memoizedState)||(ge=!0),n.memoizedState=u,n.baseQueue===null&&(n.baseState=u),s.lastRenderedState=u}return[u,l]}function $d(t,n,s){var l=At,c=fe(),u=Rt;if(u){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!rn((It||c).memoizedState,s);if(g&&(c.memoizedState=s,ge=!0),c=c.queue,mu(ep.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,fa(9,{destroy:void 0},tp.bind(null,l,c,s,n),null),Qt===null)throw Error(a(349));u||(ls&127)!==0||Pd(l,n,s)}return s}function Pd(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=kr(),At.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function tp(t,n,s,l){n.value=s,n.getSnapshot=l,np(n)&&sp(t)}function ep(t,n,s){return s(function(){np(n)&&sp(t)})}function np(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!rn(t,s)}catch{return!0}}function sp(t){var n=_i(t,2);n!==null&&$e(n,t,2)}function du(t){var n=He();if(typeof t=="function"){var s=t;if(t=s(),wi){Es(!0);try{s()}finally{Es(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:t},n}function ip(t,n,s,l){return t.baseState=s,hu(t,It,typeof l=="function"?l:rs)}function Vy(t,n,s,l,c){if(Ur(t))throw Error(a(485));if(t=n.action,t!==null){var u={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){u.listeners.push(g)}};V.T!==null?s(!0):u.isTransition=!1,l(u),s=n.pending,s===null?(u.next=n.pending=u,ap(n,u)):(u.next=s.next,n.pending=s.next=u)}}function ap(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var u=V.T,g={};V.T=g;try{var v=s(c,l),E=V.S;E!==null&&E(g,v),lp(t,n,v)}catch(L){pu(t,n,L)}finally{u!==null&&g.types!==null&&(u.types=g.types),V.T=u}}else try{u=s(c,l),lp(t,n,u)}catch(L){pu(t,n,L)}}function lp(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){rp(t,n,l)},function(l){return pu(t,n,l)}):rp(t,n,s)}function rp(t,n,s){n.status="fulfilled",n.value=s,op(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,ap(t,s)))}function pu(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==l)}t.action=null}function op(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cp(t,n){return n}function up(t,n){if(Rt){var s=Qt.formState;if(s!==null){t:{var l=At;if(Rt){if(Pt){e:{for(var c=Pt,u=xn;c.nodeType!==8;){if(!u){c=null;break e}if(c=Cn(c.nextSibling),c===null){c=null;break e}}u=c.data,c=u==="F!"||u==="F"?c:null}if(c){Pt=Cn(c.nextSibling),l=c.data==="F!";break t}}Rs(l)}l=!1}l&&(n=s[0])}}return s=He(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},s.queue=l,s=Op.bind(null,At,l),l.dispatch=s,l=du(!1),u=bu.bind(null,At,!1,l.queue),l=He(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=Vy.bind(null,At,c,u,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function hp(t){var n=fe();return fp(n,It,t)}function fp(t,n,s){if(n=hu(t,n,cp)[0],t=Vr(rs)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=fl(n)}catch(g){throw g===ra?Cr:g}else l=n;n=fe();var c=n.queue,u=c.dispatch;return s!==n.memoizedState&&(At.flags|=2048,fa(9,{destroy:void 0},jy.bind(null,c,s),null)),[l,u,t]}function jy(t,n){t.action=n}function dp(t){var n=fe(),s=It;if(s!==null)return fp(n,s,t);fe(),n=n.memoizedState,s=fe();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function fa(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=kr(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function pp(){return fe().memoizedState}function jr(t,n,s,l){var c=He();At.flags|=t,c.memoizedState=fa(1|n,{destroy:void 0},s,l===void 0?null:l)}function qr(t,n,s,l){var c=fe();l=l===void 0?null:l;var u=c.memoizedState.inst;It!==null&&l!==null&&au(l,It.memoizedState.deps)?c.memoizedState=fa(n,u,s,l):(At.flags|=t,c.memoizedState=fa(1|n,u,s,l))}function mp(t,n){jr(8390656,8,t,n)}function mu(t,n){qr(2048,8,t,n)}function qy(t){At.flags|=4;var n=At.updateQueue;if(n===null)n=kr(),At.updateQueue=n,n.events=[t];else{var s=n.events;s===null?n.events=[t]:s.push(t)}}function gp(t){var n=fe().memoizedState;return qy({ref:n,nextImpl:t}),function(){if((Ut&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(t,n){return qr(4,2,t,n)}function yp(t,n){return qr(4,4,t,n)}function vp(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function bp(t,n,s){s=s!=null?s.concat([t]):null,qr(4,4,vp.bind(null,n,t),s)}function gu(){}function Sp(t,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&au(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function Tp(t,n){var s=fe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&au(n,l[1]))return l[0];if(l=t(),wi){Es(!0);try{t()}finally{Es(!1)}}return s.memoizedState=[l,n],l}function _u(t,n,s){return s===void 0||(ls&1073741824)!==0&&(Ot&261930)===0?t.memoizedState=n:(t.memoizedState=s,t=xm(),At.lanes|=t,Hs|=t,s)}function xp(t,n,s,l){return rn(s,n)?s:ca.current!==null?(t=_u(t,s,l),rn(t,n)||(ge=!0),t):(ls&42)===0||(ls&1073741824)!==0&&(Ot&261930)===0?(ge=!0,t.memoizedState=s):(t=xm(),At.lanes|=t,Hs|=t,n)}function Ap(t,n,s,l,c){var u=Y.p;Y.p=u!==0&&8>u?u:8;var g=V.T,v={};V.T=v,bu(t,!1,n,s);try{var E=c(),L=V.S;if(L!==null&&L(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var Q=Ry(E,l);dl(t,n,Q,dn(t))}else dl(t,n,l,dn(t))}catch(J){dl(t,n,{then:function(){},status:"rejected",reason:J},dn())}finally{Y.p=u,g!==null&&v.types!==null&&(g.types=v.types),V.T=g}}function Uy(){}function yu(t,n,s,l){if(t.tag!==5)throw Error(a(476));var c=Cp(t).queue;Ap(t,c,n,$,s===null?Uy:function(){return wp(t),s(l)})}function Cp(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:$},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rs,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function wp(t){var n=Cp(t);n.next===null&&(n=t.alternate.memoizedState),dl(t,n.next.queue,{},dn())}function vu(){return De(Ml)}function Ep(){return fe().memoizedState}function Np(){return fe().memoizedState}function Ly(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=dn();t=Vs(s);var l=js(n,t,s);l!==null&&($e(l,n,s),ol(l,n,s)),n={cache:Fc()},t.payload=n;return}n=n.return}}function By(t,n,s){var l=dn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ur(t)?Mp(n,s):(s=qc(t,n,s,l),s!==null&&($e(s,t,l),Dp(s,n,l)))}function Op(t,n,s){var l=dn();dl(t,n,s,l)}function dl(t,n,s,l){var c={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ur(t))Mp(n,c);else{var u=t.alternate;if(t.lanes===0&&(u===null||u.lanes===0)&&(u=n.lastRenderedReducer,u!==null))try{var g=n.lastRenderedState,v=u(g,s);if(c.hasEagerState=!0,c.eagerState=v,rn(v,g))return yr(t,n,c,0),Qt===null&&_r(),!1}catch{}finally{}if(s=qc(t,n,c,l),s!==null)return $e(s,t,l),Dp(s,n,l),!0}return!1}function bu(t,n,s,l){if(l={lane:2,revertLane:$u(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ur(t)){if(n)throw Error(a(479))}else n=qc(t,s,l,2),n!==null&&$e(n,t,2)}function Ur(t){var n=t.alternate;return t===At||n!==null&&n===At}function Mp(t,n){ua=Dr=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Dp(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,jf(t,s)}}var pl={readContext:De,use:zr,useCallback:re,useContext:re,useEffect:re,useImperativeHandle:re,useLayoutEffect:re,useInsertionEffect:re,useMemo:re,useReducer:re,useRef:re,useState:re,useDebugValue:re,useDeferredValue:re,useTransition:re,useSyncExternalStore:re,useId:re,useHostTransitionStatus:re,useFormState:re,useActionState:re,useOptimistic:re,useMemoCache:re,useCacheRefresh:re};pl.useEffectEvent=re;var Rp={readContext:De,use:zr,useCallback:function(t,n){return He().memoizedState=[t,n===void 0?null:n],t},useContext:De,useEffect:mp,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,jr(4194308,4,vp.bind(null,n,t),s)},useLayoutEffect:function(t,n){return jr(4194308,4,t,n)},useInsertionEffect:function(t,n){jr(4,2,t,n)},useMemo:function(t,n){var s=He();n=n===void 0?null:n;var l=t();if(wi){Es(!0);try{t()}finally{Es(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=He();if(s!==void 0){var c=s(n);if(wi){Es(!0);try{s(n)}finally{Es(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=By.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=He();return t={current:t},n.memoizedState=t},useState:function(t){t=du(t);var n=t.queue,s=Op.bind(null,At,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:gu,useDeferredValue:function(t,n){var s=He();return _u(s,t,n)},useTransition:function(){var t=du(!1);return t=Ap.bind(null,At,t.queue,!0,!1),He().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=At,c=He();if(Rt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Qt===null)throw Error(a(349));(Ot&127)!==0||Pd(l,n,s)}c.memoizedState=s;var u={value:s,getSnapshot:n};return c.queue=u,mp(ep.bind(null,l,u,t),[t]),l.flags|=2048,fa(9,{destroy:void 0},tp.bind(null,l,u,s,n),null),s},useId:function(){var t=He(),n=Qt.identifierPrefix;if(Rt){var s=Yn,l=In;s=(l&~(1<<32-ln(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Rr++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=ky++,n="_"+n+"r_"+s.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:vu,useFormState:up,useActionState:up,useOptimistic:function(t){var n=He();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=bu.bind(null,At,!0,s),s.dispatch=n,[t,n]},useMemoCache:uu,useCacheRefresh:function(){return He().memoizedState=Ly.bind(null,At)},useEffectEvent:function(t){var n=He(),s={impl:t};return n.memoizedState=s,function(){if((Ut&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Su={readContext:De,use:zr,useCallback:Sp,useContext:De,useEffect:mu,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Tp,useReducer:Vr,useRef:pp,useState:function(){return Vr(rs)},useDebugValue:gu,useDeferredValue:function(t,n){var s=fe();return xp(s,It.memoizedState,t,n)},useTransition:function(){var t=Vr(rs)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:$d,useId:Ep,useHostTransitionStatus:vu,useFormState:hp,useActionState:hp,useOptimistic:function(t,n){var s=fe();return ip(s,It,t,n)},useMemoCache:uu,useCacheRefresh:Np};Su.useEffectEvent=gp;var kp={readContext:De,use:zr,useCallback:Sp,useContext:De,useEffect:mu,useImperativeHandle:bp,useInsertionEffect:_p,useLayoutEffect:yp,useMemo:Tp,useReducer:fu,useRef:pp,useState:function(){return fu(rs)},useDebugValue:gu,useDeferredValue:function(t,n){var s=fe();return It===null?_u(s,t,n):xp(s,It.memoizedState,t,n)},useTransition:function(){var t=fu(rs)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:fl(t),n]},useSyncExternalStore:$d,useId:Ep,useHostTransitionStatus:vu,useFormState:dp,useActionState:dp,useOptimistic:function(t,n){var s=fe();return It!==null?ip(s,It,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:uu,useCacheRefresh:Np};kp.useEffectEvent=gp;function Tu(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:y({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var xu={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=dn(),c=Vs(l);c.payload=n,s!=null&&(c.callback=s),n=js(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=dn(),c=Vs(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=js(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=dn(),l=Vs(s);l.tag=2,n!=null&&(l.callback=n),n=js(t,l,s),n!==null&&($e(n,t,s),ol(n,t,s))}};function zp(t,n,s,l,c,u,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,u,g):n.prototype&&n.prototype.isPureReactComponent?!tl(s,l)||!tl(c,u):!0}function Vp(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&xu.enqueueReplaceState(n,n.state,null)}function Ei(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=y({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}function jp(t){gr(t)}function qp(t){console.error(t)}function Up(t){gr(t)}function Lr(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Lp(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Au(t,n,s){return s=Vs(s),s.tag=3,s.payload={element:null},s.callback=function(){Lr(t,n)},s}function Bp(t){return t=Vs(t),t.tag=3,t}function Hp(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var u=l.value;t.payload=function(){return c(u)},t.callback=function(){Lp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Lp(n,s,l),typeof c!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var v=l.stack;this.componentDidCatch(l.value,{componentStack:v!==null?v:""})})}function Hy(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ia(n,s,c,!0),s=cn.current,s!==null){switch(s.tag){case 31:case 13:return An===null?Jr():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===wr?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wu(t,l,c)),!1;case 22:return s.flags|=65536,l===wr?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wu(t,l,c)),!1}throw Error(a(435,s.tag))}return Wu(t,l,c),Jr(),!1}if(Rt)return n=cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Ic&&(t=Error(a(422),{cause:l}),sl(bn(t,s)))):(l!==Ic&&(n=Error(a(423),{cause:l}),sl(bn(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=bn(l,s),c=Au(t.stateNode,l,c),tu(t,c),oe!==4&&(oe=2)),!1;var u=Error(a(520),{cause:l});if(u=bn(u,s),Tl===null?Tl=[u]:Tl.push(u),oe!==4&&(oe=2),n===null)return!0;l=bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Au(s.stateNode,l,t),tu(s,t),!1;case 1:if(n=s.type,u=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Gs===null||!Gs.has(u))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Bp(c),Hp(c,t,s,l),tu(s,c),!1}s=s.return}while(s!==null);return!1}var Cu=Error(a(461)),ge=!1;function Re(t,n,s,l){n.child=t===null?Xd(n,null,s,l):Ci(n,t.child,s,l)}function Gp(t,n,s,l,c){s=s.render;var u=n.ref;if("ref"in l){var g={};for(var v in l)v!=="ref"&&(g[v]=l[v])}else g=l;return Si(n),l=lu(t,n,s,g,u,c),v=ru(),t!==null&&!ge?(ou(t,n,c),os(t,n,c)):(Rt&&v&&Hc(n),n.flags|=1,Re(t,n,l,c),n.child)}function Ip(t,n,s,l,c){if(t===null){var u=s.type;return typeof u=="function"&&!Uc(u)&&u.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=u,Yp(t,n,u,l,c)):(t=br(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(u=t.child,!ku(t,c)){var g=u.memoizedProps;if(s=s.compare,s=s!==null?s:tl,s(g,l)&&t.ref===n.ref)return os(t,n,c)}return n.flags|=1,t=ns(u,l),t.ref=n.ref,t.return=n,n.child=t}function Yp(t,n,s,l,c){if(t!==null){var u=t.memoizedProps;if(tl(u,l)&&t.ref===n.ref)if(ge=!1,n.pendingProps=l=u,ku(t,c))(t.flags&131072)!==0&&(ge=!0);else return n.lanes=t.lanes,os(t,n,c)}return wu(t,n,s,l,c)}function Xp(t,n,s,l){var c=l.children,u=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(u=u!==null?u.baseLanes|s:s,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~u}else l=0,n.child=null;return Zp(t,n,u,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ar(n,u!==null?u.cachePool:null),u!==null?Fd(n,u):nu(),Wd(n);else return l=n.lanes=536870912,Zp(t,n,u!==null?u.baseLanes|s:s,s,l)}else u!==null?(Ar(n,u.cachePool),Fd(n,u),Us(),n.memoizedState=null):(t!==null&&Ar(n,null),nu(),Us());return Re(t,n,c,s),n.child}function ml(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zp(t,n,s,l,c){var u=Kc();return u=u===null?null:{parent:pe._currentValue,pool:u},n.memoizedState={baseLanes:s,cachePool:u},t!==null&&Ar(n,null),nu(),Wd(n),t!==null&&ia(t,n,l,!0),n.childLanes=c,null}function Br(t,n){return n=Gr({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Qp(t,n,s){return Ci(n,t.child,null,s),t=Br(n,n.pendingProps),t.flags|=2,un(n),n.memoizedState=null,t}function Gy(t,n,s){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Rt){if(l.mode==="hidden")return t=Br(n,l),n.lanes=536870912,ml(null,t);if(iu(n),(t=Pt)?(t=ag(t,xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:In,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},s=Md(t),s.return=n,n.child=s,Me=n,Pt=null)):t=null,t===null)throw Rs(n);return n.lanes=536870912,null}return Br(n,l)}var u=t.memoizedState;if(u!==null){var g=u.dehydrated;if(iu(n),c)if(n.flags&256)n.flags&=-257,n=Qp(t,n,s);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(a(558));else if(ge||ia(t,n,s,!1),c=(s&t.childLanes)!==0,ge||c){if(l=Qt,l!==null&&(g=qf(l,s),g!==0&&g!==u.retryLane))throw u.retryLane=g,_i(t,g),$e(l,t,g),Cu;Jr(),n=Qp(t,n,s)}else t=u.treeContext,Pt=Cn(g.nextSibling),Me=n,Rt=!0,Ds=null,xn=!1,t!==null&&kd(n,t),n=Br(n,l),n.flags|=4096;return n}return t=ns(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Hr(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function wu(t,n,s,l,c){return Si(n),s=lu(t,n,s,l,void 0,c),l=ru(),t!==null&&!ge?(ou(t,n,c),os(t,n,c)):(Rt&&l&&Hc(n),n.flags|=1,Re(t,n,s,c),n.child)}function Fp(t,n,s,l,c,u){return Si(n),n.updateQueue=null,s=Jd(n,l,s,c),Kd(t),l=ru(),t!==null&&!ge?(ou(t,n,u),os(t,n,u)):(Rt&&l&&Hc(n),n.flags|=1,Re(t,n,s,u),n.child)}function Wp(t,n,s,l,c){if(Si(n),n.stateNode===null){var u=ta,g=s.contextType;typeof g=="object"&&g!==null&&(u=De(g)),u=new s(l,u),n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=xu,n.stateNode=u,u._reactInternals=n,u=n.stateNode,u.props=l,u.state=n.memoizedState,u.refs={},$c(n),g=s.contextType,u.context=typeof g=="object"&&g!==null?De(g):ta,u.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Tu(n,s,g,l),u.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(g=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),g!==u.state&&xu.enqueueReplaceState(u,u.state,null),ul(n,l,u,c),cl(),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){u=n.stateNode;var v=n.memoizedProps,E=Ei(s,v);u.props=E;var L=u.context,Q=s.contextType;g=ta,typeof Q=="object"&&Q!==null&&(g=De(Q));var J=s.getDerivedStateFromProps;Q=typeof J=="function"||typeof u.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,Q||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(v||L!==g)&&Vp(n,u,l,g),zs=!1;var B=n.memoizedState;u.state=B,ul(n,l,u,c),cl(),L=n.memoizedState,v||B!==L||zs?(typeof J=="function"&&(Tu(n,s,J,l),L=n.memoizedState),(E=zs||zp(n,s,E,l,B,L,g))?(Q||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(n.flags|=4194308)):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),u.props=l,u.state=L,u.context=g,l=E):(typeof u.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{u=n.stateNode,Pc(t,n),g=n.memoizedProps,Q=Ei(s,g),u.props=Q,J=n.pendingProps,B=u.context,L=s.contextType,E=ta,typeof L=="object"&&L!==null&&(E=De(L)),v=s.getDerivedStateFromProps,(L=typeof v=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g!==J||B!==E)&&Vp(n,u,l,E),zs=!1,B=n.memoizedState,u.state=B,ul(n,l,u,c),cl();var I=n.memoizedState;g!==J||B!==I||zs||t!==null&&t.dependencies!==null&&Tr(t.dependencies)?(typeof v=="function"&&(Tu(n,s,v,l),I=n.memoizedState),(Q=zs||zp(n,s,Q,l,B,I,E)||t!==null&&t.dependencies!==null&&Tr(t.dependencies))?(L||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(l,I,E),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(l,I,E)),typeof u.componentDidUpdate=="function"&&(n.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof u.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=I),u.props=l,u.state=I,u.context=E,l=Q):(typeof u.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return u=l,Hr(t,n),l=(n.flags&128)!==0,u||l?(u=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:u.render(),n.flags|=1,t!==null&&l?(n.child=Ci(n,t.child,null,c),n.child=Ci(n,null,s,c)):Re(t,n,s,c),n.memoizedState=u.state,t=n.child):t=os(t,n,c),t}function Kp(t,n,s,l){return vi(),n.flags|=256,Re(t,n,s,l),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nu(t){return{baseLanes:t,cachePool:Ld()}}function Ou(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=fn),t}function Jp(t,n,s){var l=n.pendingProps,c=!1,u=(n.flags&128)!==0,g;if((g=u)||(g=t!==null&&t.memoizedState===null?!1:(he.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Rt){if(c?qs(n):Us(),(t=Pt)?(t=ag(t,xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ms!==null?{id:In,overflow:Yn}:null,retryLane:536870912,hydrationErrors:null},s=Md(t),s.return=n,n.child=s,Me=n,Pt=null)):t=null,t===null)throw Rs(n);return hh(t)?n.lanes=32:n.lanes=536870912,null}var v=l.children;return l=l.fallback,c?(Us(),c=n.mode,v=Gr({mode:"hidden",children:v},c),l=yi(l,c,s,null),v.return=n,l.return=n,v.sibling=l,n.child=v,l=n.child,l.memoizedState=Nu(s),l.childLanes=Ou(t,g,s),n.memoizedState=Eu,ml(null,l)):(qs(n),Mu(n,v))}var E=t.memoizedState;if(E!==null&&(v=E.dehydrated,v!==null)){if(u)n.flags&256?(qs(n),n.flags&=-257,n=Du(t,n,s)):n.memoizedState!==null?(Us(),n.child=t.child,n.flags|=128,n=null):(Us(),v=l.fallback,c=n.mode,l=Gr({mode:"visible",children:l.children},c),v=yi(v,c,s,null),v.flags|=2,l.return=n,v.return=n,l.sibling=v,n.child=l,Ci(n,t.child,null,s),l=n.child,l.memoizedState=Nu(s),l.childLanes=Ou(t,g,s),n.memoizedState=Eu,n=ml(null,l));else if(qs(n),hh(v)){if(g=v.nextSibling&&v.nextSibling.dataset,g)var L=g.dgst;g=L,l=Error(a(419)),l.stack="",l.digest=g,sl({value:l,source:null,stack:null}),n=Du(t,n,s)}else if(ge||ia(t,n,s,!1),g=(s&t.childLanes)!==0,ge||g){if(g=Qt,g!==null&&(l=qf(g,s),l!==0&&l!==E.retryLane))throw E.retryLane=l,_i(t,l),$e(g,t,l),Cu;uh(v)||Jr(),n=Du(t,n,s)}else uh(v)?(n.flags|=192,n.child=t.child,n=null):(t=E.treeContext,Pt=Cn(v.nextSibling),Me=n,Rt=!0,Ds=null,xn=!1,t!==null&&kd(n,t),n=Mu(n,l.children),n.flags|=4096);return n}return c?(Us(),v=l.fallback,c=n.mode,E=t.child,L=E.sibling,l=ns(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,L!==null?v=ns(L,v):(v=yi(v,c,s,null),v.flags|=2),v.return=n,l.return=n,l.sibling=v,n.child=l,ml(null,l),l=n.child,v=t.child.memoizedState,v===null?v=Nu(s):(c=v.cachePool,c!==null?(E=pe._currentValue,c=c.parent!==E?{parent:E,pool:E}:c):c=Ld(),v={baseLanes:v.baseLanes|s,cachePool:c}),l.memoizedState=v,l.childLanes=Ou(t,g,s),n.memoizedState=Eu,ml(t.child,l)):(qs(n),s=t.child,t=s.sibling,s=ns(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=s,n.memoizedState=null,s)}function Mu(t,n){return n=Gr({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Gr(t,n){return t=on(22,t,null,n),t.lanes=0,t}function Du(t,n,s){return Ci(n,t.child,null,s),t=Mu(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function $p(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Zc(t.return,n,s)}function Ru(t,n,s,l,c,u){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c,treeForkCount:u}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=c,g.treeForkCount=u)}function Pp(t,n,s){var l=n.pendingProps,c=l.revealOrder,u=l.tail;l=l.children;var g=he.current,v=(g&2)!==0;if(v?(g=g&1|2,n.flags|=128):g&=1,P(he,g),Re(t,n,l,s),l=Rt?nl:0,!v&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$p(t,s,n);else if(t.tag===19)$p(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&Mr(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Ru(n,!1,c,s,u,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Mr(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Ru(n,!0,s,null,u,l);break;case"together":Ru(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function os(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),Hs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ia(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,s=ns(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=ns(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function ku(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Tr(t)))}function Iy(t,n,s){switch(n.tag){case 3:rt(n,n.stateNode.containerInfo),ks(n,pe,t.memoizedState.cache),vi();break;case 27:case 5:Be(n);break;case 4:rt(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,iu(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Jp(t,n,s):(qs(n),t=os(t,n,s),t!==null?t.sibling:null);qs(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ia(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Pp(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),P(he,he.current),l)break;return null;case 22:return n.lanes=0,Xp(t,n,s,n.pendingProps);case 24:ks(n,pe,t.memoizedState.cache)}return os(t,n,s)}function tm(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)ge=!0;else{if(!ku(t,s)&&(n.flags&128)===0)return ge=!1,Iy(t,n,s);ge=(t.flags&131072)!==0}else ge=!1,Rt&&(n.flags&1048576)!==0&&Rd(n,nl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=xi(n.elementType),n.type=t,typeof t=="function")Uc(t)?(l=Ei(t,l),n.tag=1,n=Wp(null,n,t,l,s)):(n.tag=0,n=wu(null,n,t,l,s));else{if(t!=null){var c=t.$$typeof;if(c===H){n.tag=11,n=Gp(null,n,t,l,s);break t}else if(c===w){n.tag=14,n=Ip(null,n,t,l,s);break t}}throw n=st(t)||t,Error(a(306,n,""))}}return n;case 0:return wu(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=Ei(l,n.pendingProps),Wp(t,n,l,c,s);case 3:t:{if(rt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var u=n.memoizedState;c=u.element,Pc(t,n),ul(n,l,null,s);var g=n.memoizedState;if(l=g.cache,ks(n,pe,l),l!==u.cache&&Qc(n,[pe],s,!0),cl(),l=g.element,u.isDehydrated)if(u={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=u,n.memoizedState=u,n.flags&256){n=Kp(t,n,l,s);break t}else if(l!==c){c=bn(Error(a(424)),n),sl(c),n=Kp(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Pt=Cn(t.firstChild),Me=n,Rt=!0,Ds=null,xn=!0,s=Xd(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(vi(),l===c){n=os(t,n,s);break t}Re(t,n,l,s)}n=n.child}return n;case 26:return Hr(t,n),t===null?(s=hg(n.type,null,n.pendingProps,null))?n.memoizedState=s:Rt||(s=n.type,t=n.pendingProps,l=io(ut.current).createElement(s),l[Oe]=n,l[Ze]=t,ke(l,s,t),xe(l),n.stateNode=l):n.memoizedState=hg(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Be(n),t===null&&Rt&&(l=n.stateNode=og(n.type,n.pendingProps,ut.current),Me=n,xn=!0,c=Pt,Zs(n.type)?(fh=c,Pt=Cn(l.firstChild)):Pt=c),Re(t,n,n.pendingProps.children,s),Hr(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Rt&&((c=l=Pt)&&(l=vv(l,n.type,n.pendingProps,xn),l!==null?(n.stateNode=l,Me=n,Pt=Cn(l.firstChild),xn=!1,c=!0):c=!1),c||Rs(n)),Be(n),c=n.type,u=n.pendingProps,g=t!==null?t.memoizedProps:null,l=u.children,rh(c,u)?l=null:g!==null&&rh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=lu(t,n,zy,null,null,s),Ml._currentValue=c),Hr(t,n),Re(t,n,l,s),n.child;case 6:return t===null&&Rt&&((t=s=Pt)&&(s=bv(s,n.pendingProps,xn),s!==null?(n.stateNode=s,Me=n,Pt=null,t=!0):t=!1),t||Rs(n)),null;case 13:return Jp(t,n,s);case 4:return rt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ci(n,null,l,s):Re(t,n,l,s),n.child;case 11:return Gp(t,n,n.type,n.pendingProps,s);case 7:return Re(t,n,n.pendingProps,s),n.child;case 8:return Re(t,n,n.pendingProps.children,s),n.child;case 12:return Re(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,ks(n,n.type,l.value),Re(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Si(n),c=De(c),l=l(c),n.flags|=1,Re(t,n,l,s),n.child;case 14:return Ip(t,n,n.type,n.pendingProps,s);case 15:return Yp(t,n,n.type,n.pendingProps,s);case 19:return Pp(t,n,s);case 31:return Gy(t,n,s);case 22:return Xp(t,n,s,n.pendingProps);case 24:return Si(n),l=De(pe),t===null?(c=Kc(),c===null&&(c=Qt,u=Fc(),c.pooledCache=u,u.refCount++,u!==null&&(c.pooledCacheLanes|=s),c=u),n.memoizedState={parent:l,cache:c},$c(n),ks(n,pe,c)):((t.lanes&s)!==0&&(Pc(t,n),ul(n,null,null,s),cl()),c=t.memoizedState,u=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ks(n,pe,l)):(l=u.cache,ks(n,pe,l),l!==c.cache&&Qc(n,[pe],s,!0))),Re(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cs(t){t.flags|=4}function zu(t,n,s,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Em())t.flags|=8192;else throw Ai=wr,Jc}else t.flags&=-16777217}function em(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gg(n))if(Em())t.flags|=8192;else throw Ai=wr,Jc}function Ir(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?zf():536870912,t.lanes|=n,ga|=n)}function gl(t,n){if(!Rt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function Yy(t,n,s){var l=n.pendingProps;switch(Gc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),as(pe),qt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(sa(n)?cs(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yc())),te(n),null;case 26:var c=n.type,u=n.memoizedState;return t===null?(cs(n),u!==null?(te(n),em(n,u)):(te(n),zu(n,c,null,l,s))):u?u!==t.memoizedState?(cs(n),te(n),em(n,u)):(te(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&cs(n),te(n),zu(n,c,t,l,s)),null;case 27:if(sn(n),s=ut.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}t=at.current,sa(n)?zd(n):(t=og(c,l,s),n.stateNode=t,cs(n))}return te(n),null;case 5:if(sn(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(u=at.current,sa(n))zd(n);else{var g=io(ut.current);switch(u){case 1:u=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:u=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":u=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":u=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":u=g.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?u.multiple=!0:l.size&&(u.size=l.size);break;default:u=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}u[Oe]=n,u[Ze]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=u;t:switch(ke(u,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&cs(n)}}return te(n),zu(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,s),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&cs(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=ut.current,sa(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Me,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Oe]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Jm(t.nodeValue,s)),t||Rs(n,!0)}else t=io(t).createTextNode(l),t[Oe]=n,n.stateNode=t}return te(n),null;case 31:if(s=n.memoizedState,t===null||t.memoizedState!==null){if(l=sa(n),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Oe]=n}else vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),t=!1}else s=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return n.flags&256?(un(n),n):(un(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=sa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Oe]=n}else vi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),c=!1}else c=Yc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(un(n),n):(un(n),null)}return un(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),u=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(u=l.memoizedState.cachePool.pool),u!==c&&(l.flags|=2048)),s!==t&&s&&(n.child.flags|=8192),Ir(n,n.updateQueue),te(n),null);case 4:return qt(),t===null&&nh(n.stateNode.containerInfo),te(n),null;case 10:return as(n.type),te(n),null;case 19:if(G(he),l=n.memoizedState,l===null)return te(n),null;if(c=(n.flags&128)!==0,u=l.rendering,u===null)if(c)gl(l,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(u=Mr(t),u!==null){for(n.flags|=128,gl(l,!1),t=u.updateQueue,n.updateQueue=t,Ir(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Od(s,t),s=s.sibling;return P(he,he.current&1|2),Rt&&ss(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&Ne()>Fr&&(n.flags|=128,c=!0,gl(l,!1),n.lanes=4194304)}else{if(!c)if(t=Mr(u),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,Ir(n,t),gl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!u.alternate&&!Rt)return te(n),null}else 2*Ne()-l.renderingStartTime>Fr&&s!==536870912&&(n.flags|=128,c=!0,gl(l,!1),n.lanes=4194304);l.isBackwards?(u.sibling=n.child,n.child=u):(t=l.last,t!==null?t.sibling=u:n.child=u,l.last=u)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ne(),t.sibling=null,s=he.current,P(he,c?s&1|2:s&1),Rt&&ss(n,l.treeForkCount),t):(te(n),null);case 22:case 23:return un(n),su(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Ir(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&G(Ti),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),as(pe),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Xy(t,n){switch(Gc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return as(pe),qt(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return sn(n),null;case 31:if(n.memoizedState!==null){if(un(n),n.alternate===null)throw Error(a(340));vi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(un(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));vi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return G(he),null;case 4:return qt(),null;case 10:return as(n.type),null;case 22:case 23:return un(n),su(),t!==null&&G(Ti),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return as(pe),null;case 25:return null;default:return null}}function nm(t,n){switch(Gc(n),n.tag){case 3:as(pe),qt();break;case 26:case 27:case 5:sn(n);break;case 4:qt();break;case 31:n.memoizedState!==null&&un(n);break;case 13:un(n);break;case 19:G(he);break;case 10:as(n.type);break;case 22:case 23:un(n),su(),t!==null&&G(Ti);break;case 24:as(pe)}}function _l(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var u=s.create,g=s.inst;l=u(),g.destroy=l}s=s.next}while(s!==c)}}catch(v){Ht(n,n.return,v)}}function Ls(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var u=c.next;l=u;do{if((l.tag&t)===t){var g=l.inst,v=g.destroy;if(v!==void 0){g.destroy=void 0,c=n;var E=s,L=v;try{L()}catch(Q){Ht(c,E,Q)}}}l=l.next}while(l!==u)}}catch(Q){Ht(n,n.return,Q)}}function sm(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{Qd(n,s)}catch(l){Ht(t,t.return,l)}}}function im(t,n,s){s.props=Ei(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ht(t,n,l)}}function yl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Ht(t,n,c)}}function Xn(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Ht(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Ht(t,n,c)}else s.current=null}function am(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Ht(t,t.return,c)}}function Vu(t,n,s){try{var l=t.stateNode;dv(l,t.type,s,n),l[Ze]=n}catch(c){Ht(t,t.return,c)}}function lm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function ju(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ts));else if(l!==4&&(l===27&&Zs(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(qu(t,n,s),t=t.sibling;t!==null;)qu(t,n,s),t=t.sibling}function Yr(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yr(t,n,s),t=t.sibling;t!==null;)Yr(t,n,s),t=t.sibling}function rm(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,s),n[Oe]=t,n[Ze]=s}catch(u){Ht(t,t.return,u)}}var us=!1,_e=!1,Uu=!1,om=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Zy(t,n){if(t=t.containerInfo,ah=ho,t=bd(t),Dc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,u=l.focusNode;l=l.focusOffset;try{s.nodeType,u.nodeType}catch{s=null;break t}var g=0,v=-1,E=-1,L=0,Q=0,J=t,B=null;e:for(;;){for(var I;J!==s||c!==0&&J.nodeType!==3||(v=g+c),J!==u||l!==0&&J.nodeType!==3||(E=g+l),J.nodeType===3&&(g+=J.nodeValue.length),(I=J.firstChild)!==null;)B=J,J=I;for(;;){if(J===t)break e;if(B===s&&++L===c&&(v=g),B===u&&++Q===l&&(E=g),(I=J.nextSibling)!==null)break;J=B,B=J.parentNode}J=I}s=v===-1||E===-1?null:{start:v,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(lh={focusedElem:t,selectionRange:s},ho=!1,Ae=n;Ae!==null;)if(n=Ae,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ae=t;else for(;Ae!==null;){switch(n=Ae,u=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)c=t[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&u!==null){t=void 0,s=n,c=u.memoizedProps,u=u.memoizedState,l=s.stateNode;try{var ct=Ei(s.type,c);t=l.getSnapshotBeforeUpdate(ct,u),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Ht(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)ch(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ch(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ae=t;break}Ae=n.return}}function cm(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:fs(t,s),l&4&&_l(5,s);break;case 1:if(fs(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(g){Ht(s,s.return,g)}else{var c=Ei(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){Ht(s,s.return,g)}}l&64&&sm(s),l&512&&yl(s,s.return);break;case 3:if(fs(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Qd(t,n)}catch(g){Ht(s,s.return,g)}}break;case 27:n===null&&l&4&&rm(s);case 26:case 5:fs(t,s),n===null&&l&4&&am(s),l&512&&yl(s,s.return);break;case 12:fs(t,s);break;case 31:fs(t,s),l&4&&fm(t,s);break;case 13:fs(t,s),l&4&&dm(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=ev.bind(null,s),Sv(t,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||_e,c=us;var u=_e;us=l,(_e=n)&&!u?ds(t,s,(s.subtreeFlags&8772)!==0):fs(t,s),us=c,_e=u}break;case 30:break;default:fs(t,s)}}function um(t){var n=t.alternate;n!==null&&(t.alternate=null,um(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&pc(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var se=null,Fe=!1;function hs(t,n,s){for(s=s.child;s!==null;)hm(t,n,s),s=s.sibling}function hm(t,n,s){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Ga,s)}catch{}switch(s.tag){case 26:_e||Xn(s,n),hs(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_e||Xn(s,n);var l=se,c=Fe;Zs(s.type)&&(se=s.stateNode,Fe=!1),hs(t,n,s),El(s.stateNode),se=l,Fe=c;break;case 5:_e||Xn(s,n);case 6:if(l=se,c=Fe,se=null,hs(t,n,s),se=l,Fe=c,se!==null)if(Fe)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(s.stateNode)}catch(u){Ht(s,n,u)}else try{se.removeChild(s.stateNode)}catch(u){Ht(s,n,u)}break;case 18:se!==null&&(Fe?(t=se,sg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Aa(t)):sg(se,s.stateNode));break;case 4:l=se,c=Fe,se=s.stateNode.containerInfo,Fe=!0,hs(t,n,s),se=l,Fe=c;break;case 0:case 11:case 14:case 15:Ls(2,s,n),_e||Ls(4,s,n),hs(t,n,s);break;case 1:_e||(Xn(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&im(s,n,l)),hs(t,n,s);break;case 21:hs(t,n,s);break;case 22:_e=(l=_e)||s.memoizedState!==null,hs(t,n,s),_e=l;break;default:hs(t,n,s)}}function fm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Aa(t)}catch(s){Ht(n,n.return,s)}}}function dm(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Aa(t)}catch(s){Ht(n,n.return,s)}}function Qy(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new om),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new om),n;default:throw Error(a(435,t.tag))}}function Xr(t,n){var s=Qy(t);n.forEach(function(l){if(!s.has(l)){s.add(l);var c=nv.bind(null,t,l);l.then(c,c)}})}function We(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],u=t,g=n,v=g;t:for(;v!==null;){switch(v.tag){case 27:if(Zs(v.type)){se=v.stateNode,Fe=!1;break t}break;case 5:se=v.stateNode,Fe=!1;break t;case 3:case 4:se=v.stateNode.containerInfo,Fe=!0;break t}v=v.return}if(se===null)throw Error(a(160));hm(u,g,c),se=null,Fe=!1,u=c.alternate,u!==null&&(u.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)pm(n,t),n=n.sibling}var Rn=null;function pm(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:We(n,t),Ke(t),l&4&&(Ls(3,t,t.return),_l(3,t),Ls(5,t,t.return));break;case 1:We(n,t),Ke(t),l&512&&(_e||s===null||Xn(s,s.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Rn;if(We(n,t),Ke(t),l&512&&(_e||s===null||Xn(s,s.return)),l&4){var u=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":u=c.getElementsByTagName("title")[0],(!u||u[Xa]||u[Oe]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=c.createElement(l),c.head.insertBefore(u,c.querySelector("head > title"))),ke(u,l,s),u[Oe]=t,xe(u),l=u;break t;case"link":var g=pg("link","href",c).get(l+(s.href||""));if(g){for(var v=0;v<g.length;v++)if(u=g[v],u.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&u.getAttribute("rel")===(s.rel==null?null:s.rel)&&u.getAttribute("title")===(s.title==null?null:s.title)&&u.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(v,1);break e}}u=c.createElement(l),ke(u,l,s),c.head.appendChild(u);break;case"meta":if(g=pg("meta","content",c).get(l+(s.content||""))){for(v=0;v<g.length;v++)if(u=g[v],u.getAttribute("content")===(s.content==null?null:""+s.content)&&u.getAttribute("name")===(s.name==null?null:s.name)&&u.getAttribute("property")===(s.property==null?null:s.property)&&u.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&u.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(v,1);break e}}u=c.createElement(l),ke(u,l,s),c.head.appendChild(u);break;default:throw Error(a(468,l))}u[Oe]=t,xe(u),l=u}t.stateNode=l}else mg(c,t.type,t.stateNode);else t.stateNode=dg(c,l,t.memoizedProps);else u!==l?(u===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):u.count--,l===null?mg(c,t.type,t.stateNode):dg(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vu(t,t.memoizedProps,s.memoizedProps)}break;case 27:We(n,t),Ke(t),l&512&&(_e||s===null||Xn(s,s.return)),s!==null&&l&4&&Vu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(We(n,t),Ke(t),l&512&&(_e||s===null||Xn(s,s.return)),t.flags&32){c=t.stateNode;try{Qi(c,"")}catch(ct){Ht(t,t.return,ct)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Vu(t,c,s!==null?s.memoizedProps:c)),l&1024&&(Uu=!0);break;case 6:if(We(n,t),Ke(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(ct){Ht(t,t.return,ct)}}break;case 3:if(ro=null,c=Rn,Rn=ao(n.containerInfo),We(n,t),Rn=c,Ke(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Aa(n.containerInfo)}catch(ct){Ht(t,t.return,ct)}Uu&&(Uu=!1,mm(t));break;case 4:l=Rn,Rn=ao(t.stateNode.containerInfo),We(n,t),Ke(t),Rn=l;break;case 12:We(n,t),Ke(t);break;case 31:We(n,t),Ke(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xr(t,l)));break;case 13:We(n,t),Ke(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Qr=Ne()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xr(t,l)));break;case 22:c=t.memoizedState!==null;var E=s!==null&&s.memoizedState!==null,L=us,Q=_e;if(us=L||c,_e=Q||E,We(n,t),_e=Q,us=L,Ke(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||E||us||_e||Ni(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){E=s=n;try{if(u=E.stateNode,c)g=u.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{v=E.stateNode;var J=E.memoizedProps.style,B=J!=null&&J.hasOwnProperty("display")?J.display:null;v.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ct){Ht(E,E.return,ct)}}}else if(n.tag===6){if(s===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(ct){Ht(E,E.return,ct)}}}else if(n.tag===18){if(s===null){E=n;try{var I=E.stateNode;c?ig(I,!0):ig(E.stateNode,!1)}catch(ct){Ht(E,E.return,ct)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Xr(t,s))));break;case 19:We(n,t),Ke(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xr(t,l)));break;case 30:break;case 21:break;default:We(n,t),Ke(t)}}function Ke(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(lm(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,u=ju(t);Yr(t,u,c);break;case 5:var g=s.stateNode;s.flags&32&&(Qi(g,""),s.flags&=-33);var v=ju(t);Yr(t,v,g);break;case 3:case 4:var E=s.stateNode.containerInfo,L=ju(t);qu(t,L,E);break;default:throw Error(a(161))}}catch(Q){Ht(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function fs(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cm(t,n.alternate,n),n=n.sibling}function Ni(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Ni(n);break;case 1:Xn(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&im(n,n.return,s),Ni(n);break;case 27:El(n.stateNode);case 26:case 5:Xn(n,n.return),Ni(n);break;case 22:n.memoizedState===null&&Ni(n);break;case 30:Ni(n);break;default:Ni(n)}t=t.sibling}}function ds(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,u=n,g=u.flags;switch(u.tag){case 0:case 11:case 15:ds(c,u,s),_l(4,u);break;case 1:if(ds(c,u,s),l=u,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Ht(l,l.return,L)}if(l=u,c=l.updateQueue,c!==null){var v=l.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)Zd(E[c],v)}catch(L){Ht(l,l.return,L)}}s&&g&64&&sm(u),yl(u,u.return);break;case 27:rm(u);case 26:case 5:ds(c,u,s),s&&l===null&&g&4&&am(u),yl(u,u.return);break;case 12:ds(c,u,s);break;case 31:ds(c,u,s),s&&g&4&&fm(c,u);break;case 13:ds(c,u,s),s&&g&4&&dm(c,u);break;case 22:u.memoizedState===null&&ds(c,u,s),yl(u,u.return);break;case 30:break;default:ds(c,u,s)}n=n.sibling}}function Lu(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&il(s))}function Bu(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function kn(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gm(t,n,s,l),n=n.sibling}function gm(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n,s,l),c&2048&&_l(9,n);break;case 1:kn(t,n,s,l);break;case 3:kn(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(c&2048){kn(t,n,s,l),t=n.stateNode;try{var u=n.memoizedProps,g=u.id,v=u.onPostCommit;typeof v=="function"&&v(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(E){Ht(n,n.return,E)}}else kn(t,n,s,l);break;case 31:kn(t,n,s,l);break;case 13:kn(t,n,s,l);break;case 23:break;case 22:u=n.stateNode,g=n.alternate,n.memoizedState!==null?u._visibility&2?kn(t,n,s,l):vl(t,n):u._visibility&2?kn(t,n,s,l):(u._visibility|=2,da(t,n,s,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Lu(g,n);break;case 24:kn(t,n,s,l),c&2048&&Bu(n.alternate,n);break;default:kn(t,n,s,l)}}function da(t,n,s,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var u=t,g=n,v=s,E=l,L=g.flags;switch(g.tag){case 0:case 11:case 15:da(u,g,v,E,c),_l(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?da(u,g,v,E,c):vl(u,g):(Q._visibility|=2,da(u,g,v,E,c)),c&&L&2048&&Lu(g.alternate,g);break;case 24:da(u,g,v,E,c),c&&L&2048&&Bu(g.alternate,g);break;default:da(u,g,v,E,c)}n=n.sibling}}function vl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:vl(s,l),c&2048&&Lu(l.alternate,l);break;case 24:vl(s,l),c&2048&&Bu(l.alternate,l);break;default:vl(s,l)}n=n.sibling}}var bl=8192;function pa(t,n,s){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)_m(t,n,s),t=t.sibling}function _m(t,n,s){switch(t.tag){case 26:pa(t,n,s),t.flags&bl&&t.memoizedState!==null&&kv(s,Rn,t.memoizedState,t.memoizedProps);break;case 5:pa(t,n,s);break;case 3:case 4:var l=Rn;Rn=ao(t.stateNode.containerInfo),pa(t,n,s),Rn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,pa(t,n,s),bl=l):pa(t,n,s));break;default:pa(t,n,s)}}function ym(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ae=l,bm(l,t)}ym(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vm(t),t=t.sibling}function vm(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Ls(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Zr(t)):Sl(t);break;default:Sl(t)}}function Zr(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ae=l,bm(l,t)}ym(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),Zr(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Zr(n));break;default:Zr(n)}t=t.sibling}}function bm(t,n){for(;Ae!==null;){var s=Ae;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ae=l;else t:for(s=t;Ae!==null;){l=Ae;var c=l.sibling,u=l.return;if(um(l),l===s){Ae=null;break t}if(c!==null){c.return=u,Ae=c;break t}Ae=u}}}var Fy={getCacheForType:function(t){var n=De(pe),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s},cacheSignal:function(){return De(pe).controller.signal}},Wy=typeof WeakMap=="function"?WeakMap:Map,Ut=0,Qt=null,Et=null,Ot=0,Bt=0,hn=null,Bs=!1,ma=!1,Hu=!1,ps=0,oe=0,Hs=0,Oi=0,Gu=0,fn=0,ga=0,Tl=null,Je=null,Iu=!1,Qr=0,Sm=0,Fr=1/0,Wr=null,Gs=null,be=0,Is=null,_a=null,ms=0,Yu=0,Xu=null,Tm=null,xl=0,Zu=null;function dn(){return(Ut&2)!==0&&Ot!==0?Ot&-Ot:V.T!==null?$u():Uf()}function xm(){if(fn===0)if((Ot&536870912)===0||Rt){var t=sr;sr<<=1,(sr&3932160)===0&&(sr=262144),fn=t}else fn=536870912;return t=cn.current,t!==null&&(t.flags|=32),fn}function $e(t,n,s){(t===Qt&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(ya(t,0),Ys(t,Ot,fn,!1)),Ya(t,s),((Ut&2)===0||t!==Qt)&&(t===Qt&&((Ut&2)===0&&(Oi|=s),oe===4&&Ys(t,Ot,fn,!1)),Zn(t))}function Am(t,n,s){if((Ut&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&t.expiredLanes)===0||Ia(t,n),c=l?$y(t,n):Fu(t,n,!0),u=l;do{if(c===0){ma&&!l&&Ys(t,n,0,!1);break}else{if(s=t.current.alternate,u&&!Ky(s)){c=Fu(t,n,!1),u=!1;continue}if(c===2){if(u=n,t.errorRecoveryDisabledLanes&u)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var v=t;c=Tl;var E=v.current.memoizedState.isDehydrated;if(E&&(ya(v,g).flags|=256),g=Fu(v,g,!1),g!==2){if(Hu&&!E){v.errorRecoveryDisabledLanes|=u,Oi|=u,c=4;break t}u=Je,Je=c,u!==null&&(Je===null?Je=u:Je.push.apply(Je,u))}c=g}if(u=!1,c!==2)continue}}if(c===1){ya(t,0),Ys(t,n,0,!0);break}t:{switch(l=t,u=c,u){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ys(l,n,fn,!Bs);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Qr+300-Ne(),10<c)){if(Ys(l,n,fn,!Bs),ar(l,0,!0)!==0)break t;ms=n,l.timeoutHandle=eg(Cm.bind(null,l,s,Je,Wr,Iu,n,fn,Oi,ga,Bs,u,"Throttled",-0,0),c);break t}Cm(l,s,Je,Wr,Iu,n,fn,Oi,ga,Bs,u,null,-0,0)}}break}while(!0);Zn(t)}function Cm(t,n,s,l,c,u,g,v,E,L,Q,J,B,I){if(t.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},_m(n,u,J);var ct=(u&62914560)===u?Qr-Ne():(u&4194048)===u?Sm-Ne():0;if(ct=zv(J,ct),ct!==null){ms=u,t.cancelPendingCommit=ct(km.bind(null,t,n,u,s,l,c,g,v,E,Q,J,null,B,I)),Ys(t,u,g,!L);return}}km(t,n,u,s,l,c,g,v,E)}function Ky(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],u=c.getSnapshot;c=c.value;try{if(!rn(u(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ys(t,n,s,l){n&=~Gu,n&=~Oi,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var u=31-ln(c),g=1<<u;l[u]=-1,c&=~g}s!==0&&Vf(t,s,n)}function Kr(){return(Ut&6)===0?(Al(0),!1):!0}function Qu(){if(Et!==null){if(Bt===0)var t=Et.return;else t=Et,is=bi=null,cu(t),oa=null,ll=0,t=Et;for(;t!==null;)nm(t.alternate,t),t=t.return;Et=null}}function ya(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,gv(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ms=0,Qu(),Qt=t,Et=s=ns(t.current,null),Ot=n,Bt=0,hn=null,Bs=!1,ma=Ia(t,n),Hu=!1,ga=fn=Gu=Oi=Hs=oe=0,Je=Tl=null,Iu=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ln(l),u=1<<c;n|=t[c],l&=~u}return ps=n,_r(),s}function wm(t,n){At=null,V.H=pl,n===ra||n===Cr?(n=Gd(),Bt=3):n===Jc?(n=Gd(),Bt=4):Bt=n===Cu?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Et===null&&(oe=1,Lr(t,bn(n,t.current)))}function Em(){var t=cn.current;return t===null?!0:(Ot&4194048)===Ot?An===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?t===An:!1}function Nm(){var t=V.H;return V.H=pl,t===null?pl:t}function Om(){var t=V.A;return V.A=Fy,t}function Jr(){oe=4,Bs||(Ot&4194048)!==Ot&&cn.current!==null||(ma=!0),(Hs&134217727)===0&&(Oi&134217727)===0||Qt===null||Ys(Qt,Ot,fn,!1)}function Fu(t,n,s){var l=Ut;Ut|=2;var c=Nm(),u=Om();(Qt!==t||Ot!==n)&&(Wr=null,ya(t,n)),n=!1;var g=oe;t:do try{if(Bt!==0&&Et!==null){var v=Et,E=hn;switch(Bt){case 8:Qu(),g=6;break t;case 3:case 2:case 9:case 6:cn.current===null&&(n=!0);var L=Bt;if(Bt=0,hn=null,va(t,v,E,L),s&&ma){g=0;break t}break;default:L=Bt,Bt=0,hn=null,va(t,v,E,L)}}Jy(),g=oe;break}catch(Q){wm(t,Q)}while(!0);return n&&t.shellSuspendCounter++,is=bi=null,Ut=l,V.H=c,V.A=u,Et===null&&(Qt=null,Ot=0,_r()),g}function Jy(){for(;Et!==null;)Mm(Et)}function $y(t,n){var s=Ut;Ut|=2;var l=Nm(),c=Om();Qt!==t||Ot!==n?(Wr=null,Fr=Ne()+500,ya(t,n)):ma=Ia(t,n);t:do try{if(Bt!==0&&Et!==null){n=Et;var u=hn;e:switch(Bt){case 1:Bt=0,hn=null,va(t,n,u,1);break;case 2:case 9:if(Bd(u)){Bt=0,hn=null,Dm(n);break}n=function(){Bt!==2&&Bt!==9||Qt!==t||(Bt=7),Zn(t)},u.then(n,n);break t;case 3:Bt=7;break t;case 4:Bt=5;break t;case 7:Bd(u)?(Bt=0,hn=null,Dm(n)):(Bt=0,hn=null,va(t,n,u,7));break;case 5:var g=null;switch(Et.tag){case 26:g=Et.memoizedState;case 5:case 27:var v=Et;if(g?gg(g):v.stateNode.complete){Bt=0,hn=null;var E=v.sibling;if(E!==null)Et=E;else{var L=v.return;L!==null?(Et=L,$r(L)):Et=null}break e}}Bt=0,hn=null,va(t,n,u,5);break;case 6:Bt=0,hn=null,va(t,n,u,6);break;case 8:Qu(),oe=6;break t;default:throw Error(a(462))}}Py();break}catch(Q){wm(t,Q)}while(!0);return is=bi=null,V.H=l,V.A=c,Ut=s,Et!==null?0:(Qt=null,Ot=0,_r(),oe)}function Py(){for(;Et!==null&&!Gn();)Mm(Et)}function Mm(t){var n=tm(t.alternate,t,ps);t.memoizedProps=t.pendingProps,n===null?$r(t):Et=n}function Dm(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=Fp(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Fp(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:cu(n);default:nm(s,n),n=Et=Od(n,ps),n=tm(s,n,ps)}t.memoizedProps=t.pendingProps,n===null?$r(t):Et=n}function va(t,n,s,l){is=bi=null,cu(n),oa=null,ll=0;var c=n.return;try{if(Hy(t,c,n,s,Ot)){oe=1,Lr(t,bn(s,t.current)),Et=null;return}}catch(u){if(c!==null)throw Et=c,u;oe=1,Lr(t,bn(s,t.current)),Et=null;return}n.flags&32768?(Rt||l===1?t=!0:ma||(Ot&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rm(n,t)):$r(n)}function $r(t){var n=t;do{if((n.flags&32768)!==0){Rm(n,Bs);return}t=n.return;var s=Yy(n.alternate,n,ps);if(s!==null){Et=s;return}if(n=n.sibling,n!==null){Et=n;return}Et=n=t}while(n!==null);oe===0&&(oe=5)}function Rm(t,n){do{var s=Xy(t.alternate,t);if(s!==null){s.flags&=32767,Et=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Et=t;return}Et=t=s}while(t!==null);oe=6,Et=null}function km(t,n,s,l,c,u,g,v,E){t.cancelPendingCommit=null;do Pr();while(be!==0);if((Ut&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(u=n.lanes|n.childLanes,u|=jc,R_(t,s,u,g,v,E),t===Qt&&(Et=Qt=null,Ot=0),_a=n,Is=t,ms=s,Yu=u,Xu=c,Tm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,sv(er,function(){return Um(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=V.T,V.T=null,c=Y.p,Y.p=2,g=Ut,Ut|=4;try{Zy(t,n,s)}finally{Ut=g,Y.p=c,V.T=l}}be=1,zm(),Vm(),jm()}}function zm(){if(be===1){be=0;var t=Is,n=_a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=V.T,V.T=null;var l=Y.p;Y.p=2;var c=Ut;Ut|=4;try{pm(n,t);var u=lh,g=bd(t.containerInfo),v=u.focusedElem,E=u.selectionRange;if(g!==v&&v&&v.ownerDocument&&vd(v.ownerDocument.documentElement,v)){if(E!==null&&Dc(v)){var L=E.start,Q=E.end;if(Q===void 0&&(Q=L),"selectionStart"in v)v.selectionStart=L,v.selectionEnd=Math.min(Q,v.value.length);else{var J=v.ownerDocument||document,B=J&&J.defaultView||window;if(B.getSelection){var I=B.getSelection(),ct=v.textContent.length,yt=Math.min(E.start,ct),Xt=E.end===void 0?yt:Math.min(E.end,ct);!I.extend&&yt>Xt&&(g=Xt,Xt=yt,yt=g);var q=yd(v,yt),R=yd(v,Xt);if(q&&R&&(I.rangeCount!==1||I.anchorNode!==q.node||I.anchorOffset!==q.offset||I.focusNode!==R.node||I.focusOffset!==R.offset)){var U=J.createRange();U.setStart(q.node,q.offset),I.removeAllRanges(),yt>Xt?(I.addRange(U),I.extend(R.node,R.offset)):(U.setEnd(R.node,R.offset),I.addRange(U))}}}}for(J=[],I=v;I=I.parentNode;)I.nodeType===1&&J.push({element:I,left:I.scrollLeft,top:I.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<J.length;v++){var K=J[v];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ho=!!ah,lh=ah=null}finally{Ut=c,Y.p=l,V.T=s}}t.current=n,be=2}}function Vm(){if(be===2){be=0;var t=Is,n=_a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=V.T,V.T=null;var l=Y.p;Y.p=2;var c=Ut;Ut|=4;try{cm(t,n.alternate,n)}finally{Ut=c,Y.p=l,V.T=s}}be=3}}function jm(){if(be===4||be===3){be=0,hi();var t=Is,n=_a,s=ms,l=Tm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?be=5:(be=0,_a=Is=null,qm(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Gs=null),fc(s),n=n.stateNode,an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Ga,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=V.T,c=Y.p,Y.p=2,V.T=null;try{for(var u=t.onRecoverableError,g=0;g<l.length;g++){var v=l[g];u(v.value,{componentStack:v.stack})}}finally{V.T=n,Y.p=c}}(ms&3)!==0&&Pr(),Zn(t),c=t.pendingLanes,(s&261930)!==0&&(c&42)!==0?t===Zu?xl++:(xl=0,Zu=t):xl=0,Al(0)}}function qm(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function Pr(){return zm(),Vm(),jm(),Um()}function Um(){if(be!==5)return!1;var t=Is,n=Yu;Yu=0;var s=fc(ms),l=V.T,c=Y.p;try{Y.p=32>s?32:s,V.T=null,s=Xu,Xu=null;var u=Is,g=ms;if(be=0,_a=Is=null,ms=0,(Ut&6)!==0)throw Error(a(331));var v=Ut;if(Ut|=4,vm(u.current),gm(u,u.current,g,s),Ut=v,Al(0,!1),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Ga,u)}catch{}return!0}finally{Y.p=c,V.T=l,qm(t,n)}}function Lm(t,n,s){n=bn(s,n),n=Au(t.stateNode,n,2),t=js(t,n,2),t!==null&&(Ya(t,2),Zn(t))}function Ht(t,n,s){if(t.tag===3)Lm(t,t,s);else for(;n!==null;){if(n.tag===3){Lm(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gs===null||!Gs.has(l))){t=bn(s,t),s=Bp(2),l=js(n,s,2),l!==null&&(Hp(s,l,n,t),Ya(l,2),Zn(l));break}}n=n.return}}function Wu(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Wy;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Hu=!0,c.add(s),t=tv.bind(null,t,n,s),n.then(t,t))}function tv(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Qt===t&&(Ot&s)===s&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>Ne()-Qr?(Ut&2)===0&&ya(t,0):Gu|=s,ga===Ot&&(ga=0)),Zn(t)}function Bm(t,n){n===0&&(n=zf()),t=_i(t,n),t!==null&&(Ya(t,n),Zn(t))}function ev(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Bm(t,s)}function nv(t,n){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Bm(t,s)}function sv(t,n){return Jt(t,n)}var to=null,ba=null,Ku=!1,eo=!1,Ju=!1,Xs=0;function Zn(t){t!==ba&&t.next===null&&(ba===null?to=ba=t:ba=ba.next=t),eo=!0,Ku||(Ku=!0,av())}function Al(t,n){if(!Ju&&eo){Ju=!0;do for(var s=!1,l=to;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var u=0;else{var g=l.suspendedLanes,v=l.pingedLanes;u=(1<<31-ln(42|t)+1)-1,u&=c&~(g&~v),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(s=!0,Ym(l,u))}else u=Ot,u=ar(l,l===Qt?u:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(u&3)===0||Ia(l,u)||(s=!0,Ym(l,u));l=l.next}while(s);Ju=!1}}function iv(){Hm()}function Hm(){eo=Ku=!1;var t=0;Xs!==0&&mv()&&(t=Xs);for(var n=Ne(),s=null,l=to;l!==null;){var c=l.next,u=Gm(l,n);u===0?(l.next=null,s===null?to=c:s.next=c,c===null&&(ba=s)):(s=l,(t!==0||(u&3)!==0)&&(eo=!0)),l=c}be!==0&&be!==5||Al(t),Xs!==0&&(Xs=0)}function Gm(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,u=t.pendingLanes&-62914561;0<u;){var g=31-ln(u),v=1<<g,E=c[g];E===-1?((v&s)===0||(v&l)!==0)&&(c[g]=D_(v,n)):E<=n&&(t.expiredLanes|=v),u&=~v}if(n=Qt,s=Ot,s=ar(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&je(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Ia(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&je(l),fc(s)){case 2:case 8:s=Rf;break;case 32:s=er;break;case 268435456:s=kf;break;default:s=er}return l=Im.bind(null,t),s=Jt(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&je(l),t.callbackPriority=2,t.callbackNode=null,2}function Im(t,n){if(be!==0&&be!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Pr()&&t.callbackNode!==s)return null;var l=Ot;return l=ar(t,t===Qt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Am(t,l,n),Gm(t,Ne()),t.callbackNode!=null&&t.callbackNode===s?Im.bind(null,t):null)}function Ym(t,n){if(Pr())return null;Am(t,n,!0)}function av(){_v(function(){(Ut&6)!==0?Jt(tr,iv):Hm()})}function $u(){if(Xs===0){var t=aa;t===0&&(t=nr,nr<<=1,(nr&261888)===0&&(nr=256)),Xs=t}return Xs}function Xm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:cr(""+t)}function Zm(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function lv(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var u=Xm((c[Ze]||null).action),g=l.submitter;g&&(n=(n=g[Ze]||null)?Xm(n.formAction):g.getAttribute("formAction"),n!==null&&(u=n,g=null));var v=new dr("action","action",null,l,c);t.push({event:v,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var E=g?Zm(c,g):new FormData(c);yu(s,{pending:!0,data:E,method:c.method,action:u},null,E)}}else typeof u=="function"&&(v.preventDefault(),E=g?Zm(c,g):new FormData(c),yu(s,{pending:!0,data:E,method:c.method,action:u},u,E))},currentTarget:c}]})}}for(var Pu=0;Pu<Vc.length;Pu++){var th=Vc[Pu],rv=th.toLowerCase(),ov=th[0].toUpperCase()+th.slice(1);Dn(rv,"on"+ov)}Dn(xd,"onAnimationEnd"),Dn(Ad,"onAnimationIteration"),Dn(Cd,"onAnimationStart"),Dn("dblclick","onDoubleClick"),Dn("focusin","onFocus"),Dn("focusout","onBlur"),Dn(Ay,"onTransitionRun"),Dn(Cy,"onTransitionStart"),Dn(wy,"onTransitionCancel"),Dn(wd,"onTransitionEnd"),Xi("onMouseEnter",["mouseout","mouseover"]),Xi("onMouseLeave",["mouseout","mouseover"]),Xi("onPointerEnter",["pointerout","pointerover"]),Xi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function Qm(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var u=void 0;if(n)for(var g=l.length-1;0<=g;g--){var v=l[g],E=v.instance,L=v.currentTarget;if(v=v.listener,E!==u&&c.isPropagationStopped())break t;u=v,c.currentTarget=L;try{u(c)}catch(Q){gr(Q)}c.currentTarget=null,u=E}else for(g=0;g<l.length;g++){if(v=l[g],E=v.instance,L=v.currentTarget,v=v.listener,E!==u&&c.isPropagationStopped())break t;u=v,c.currentTarget=L;try{u(c)}catch(Q){gr(Q)}c.currentTarget=null,u=E}}}}function Nt(t,n){var s=n[dc];s===void 0&&(s=n[dc]=new Set);var l=t+"__bubble";s.has(l)||(Fm(n,t,2,!1),s.add(l))}function eh(t,n,s){var l=0;n&&(l|=4),Fm(s,t,l,n)}var no="_reactListening"+Math.random().toString(36).slice(2);function nh(t){if(!t[no]){t[no]=!0,Hf.forEach(function(s){s!=="selectionchange"&&(cv.has(s)||eh(s,!1,t),eh(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[no]||(n[no]=!0,eh("selectionchange",!1,n))}}function Fm(t,n,s,l){switch(xg(n)){case 2:var c=qv;break;case 8:c=Uv;break;default:c=_h}s=c.bind(null,n,s,t),c=void 0,!Tc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function sh(t,n,s,l,c){var u=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var v=l.stateNode.containerInfo;if(v===c)break;if(g===4)for(g=l.return;g!==null;){var E=g.tag;if((E===3||E===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;v!==null;){if(g=Gi(v),g===null)return;if(E=g.tag,E===5||E===6||E===26||E===27){l=u=g;continue t}v=v.parentNode}}l=l.return}Pf(function(){var L=u,Q=bc(s),J=[];t:{var B=Ed.get(t);if(B!==void 0){var I=dr,ct=t;switch(t){case"keypress":if(hr(s)===0)break t;case"keydown":case"keyup":I=ny;break;case"focusin":ct="focus",I=wc;break;case"focusout":ct="blur",I=wc;break;case"beforeblur":case"afterblur":I=wc;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=nd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=Y_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=ay;break;case xd:case Ad:case Cd:I=Q_;break;case wd:I=ry;break;case"scroll":case"scrollend":I=G_;break;case"wheel":I=cy;break;case"copy":case"cut":case"paste":I=W_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=id;break;case"toggle":case"beforetoggle":I=hy}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),q=yt?B!==null?B+"Capture":null:B;yt=[];for(var R=L,U;R!==null;){var K=R;if(U=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||U===null||q===null||(K=Qa(R,q),K!=null&&yt.push(wl(R,K,U))),Xt)break;R=R.return}0<yt.length&&(B=new I(B,ct,null,s,Q),J.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",B&&s!==vc&&(ct=s.relatedTarget||s.fromElement)&&(Gi(ct)||ct[Hi]))break t;if((I||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,I?(ct=s.relatedTarget||s.toElement,I=L,ct=ct?Gi(ct):null,ct!==null&&(Xt=h(ct),yt=ct.tag,ct!==Xt||yt!==5&&yt!==27&&yt!==6)&&(ct=null)):(I=null,ct=L),I!==ct)){if(yt=nd,K="onMouseLeave",q="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(yt=id,K="onPointerLeave",q="onPointerEnter",R="pointer"),Xt=I==null?B:Za(I),U=ct==null?B:Za(ct),B=new yt(K,R+"leave",I,s,Q),B.target=Xt,B.relatedTarget=U,K=null,Gi(Q)===L&&(yt=new yt(q,R+"enter",ct,s,Q),yt.target=U,yt.relatedTarget=Xt,K=yt),Xt=K,I&&ct)e:{for(yt=uv,q=I,R=ct,U=0,K=q;K;K=yt(K))U++;K=0;for(var gt=R;gt;gt=yt(gt))K++;for(;0<U-K;)q=yt(q),U--;for(;0<K-U;)R=yt(R),K--;for(;U--;){if(q===R||R!==null&&q===R.alternate){yt=q;break e}q=yt(q),R=yt(R)}yt=null}else yt=null;I!==null&&Wm(J,B,I,yt,!1),ct!==null&&Xt!==null&&Wm(J,Xt,ct,yt,!0)}}t:{if(B=L?Za(L):window,I=B.nodeName&&B.nodeName.toLowerCase(),I==="select"||I==="input"&&B.type==="file")var zt=fd;else if(ud(B))if(dd)zt=Sy;else{zt=vy;var ft=yy}else I=B.nodeName,!I||I.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&yc(L.elementType)&&(zt=fd):zt=by;if(zt&&(zt=zt(t,L))){hd(J,zt,s,Q);break t}ft&&ft(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&_c(B,"number",B.value)}switch(ft=L?Za(L):window,t){case"focusin":(ud(ft)||ft.contentEditable==="true")&&(Ji=ft,Rc=L,el=null);break;case"focusout":el=Rc=Ji=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Sd(J,s,Q);break;case"selectionchange":if(xy)break;case"keydown":case"keyup":Sd(J,s,Q)}var Ct;if(Nc)t:{switch(t){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else Ki?od(t,s)&&(Mt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Mt="onCompositionStart");Mt&&(ad&&s.locale!=="ko"&&(Ki||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&Ki&&(Ct=td()):(Os=Q,xc="value"in Os?Os.value:Os.textContent,Ki=!0)),ft=so(L,Mt),0<ft.length&&(Mt=new sd(Mt,t,null,s,Q),J.push({event:Mt,listeners:ft}),Ct?Mt.data=Ct:(Ct=cd(s),Ct!==null&&(Mt.data=Ct)))),(Ct=dy?py(t,s):my(t,s))&&(Mt=so(L,"onBeforeInput"),0<Mt.length&&(ft=new sd("onBeforeInput","beforeinput",null,s,Q),J.push({event:ft,listeners:Mt}),ft.data=Ct)),lv(J,t,L,s,Q)}Qm(J,n)})}function wl(t,n,s){return{instance:t,listener:n,currentTarget:s}}function so(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,u=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||u===null||(c=Qa(t,s),c!=null&&l.unshift(wl(t,c,u)),c=Qa(t,n),c!=null&&l.push(wl(t,c,u))),t.tag===3)return l;t=t.return}return[]}function uv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wm(t,n,s,l,c){for(var u=n._reactName,g=[];s!==null&&s!==l;){var v=s,E=v.alternate,L=v.stateNode;if(v=v.tag,E!==null&&E===l)break;v!==5&&v!==26&&v!==27||L===null||(E=L,c?(L=Qa(s,u),L!=null&&g.unshift(wl(s,L,E))):c||(L=Qa(s,u),L!=null&&g.push(wl(s,L,E)))),s=s.return}g.length!==0&&t.push({event:n,listeners:g})}var hv=/\r\n?/g,fv=/\u0000|\uFFFD/g;function Km(t){return(typeof t=="string"?t:""+t).replace(hv,`
`).replace(fv,"")}function Jm(t,n){return n=Km(n),Km(t)===n}function Yt(t,n,s,l,c,u){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Qi(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Qi(t,""+l);break;case"className":rr(t,"class",l);break;case"tabIndex":rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,s,l);break;case"style":Jf(t,l,u);break;case"data":if(n!=="object"){rr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cr(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(s==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=cr(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=ts);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=cr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=B_.get(s)||s,lr(t,s,l))}}function ih(t,n,s,l,c,u){switch(s){case"style":Jf(t,l,u);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Qi(t,l):(typeof l=="number"||typeof l=="bigint")&&Qi(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gf.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),u=t[Ze]||null,u=u!=null?u[s]:null,typeof u=="function"&&t.removeEventListener(n,u,c),typeof l=="function")){typeof u!="function"&&u!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):lr(t,s,l)}}}function ke(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,c=!1,u;for(u in s)if(s.hasOwnProperty(u)){var g=s[u];if(g!=null)switch(u){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,u,g,s,null)}}c&&Yt(t,n,"srcSet",s.srcSet,s,null),l&&Yt(t,n,"src",s.src,s,null);return;case"input":Nt("invalid",t);var v=u=g=c=null,E=null,L=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":g=Q;break;case"checked":E=Q;break;case"defaultChecked":L=Q;break;case"value":u=Q;break;case"defaultValue":v=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Yt(t,n,l,Q,s,null)}}Qf(t,u,v,E,L,g,c,!1);return;case"select":Nt("invalid",t),l=g=u=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":u=v;break;case"defaultValue":g=v;break;case"multiple":l=v;default:Yt(t,n,c,v,s,null)}n=u,s=g,t.multiple=!!l,n!=null?Zi(t,!!l,n,!1):s!=null&&Zi(t,!!l,s,!0);return;case"textarea":Nt("invalid",t),u=c=l=null;for(g in s)if(s.hasOwnProperty(g)&&(v=s[g],v!=null))switch(g){case"value":l=v;break;case"defaultValue":c=v;break;case"children":u=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Yt(t,n,g,v,s,null)}Wf(t,l,c,u);return;case"option":for(E in s)if(s.hasOwnProperty(E)&&(l=s[E],l!=null))switch(E){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,E,l,s,null)}return;case"dialog":Nt("beforetoggle",t),Nt("toggle",t),Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Nt(Cl[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,L,l,s,null)}return;default:if(yc(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&ih(t,n,Q,l,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(l=s[v],l!=null&&Yt(t,n,v,l,s,null))}function dv(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,u=null,g=null,v=null,E=null,L=null,Q=null;for(I in s){var J=s[I];if(s.hasOwnProperty(I)&&J!=null)switch(I){case"checked":break;case"value":break;case"defaultValue":E=J;default:l.hasOwnProperty(I)||Yt(t,n,I,null,l,J)}}for(var B in l){var I=l[B];if(J=s[B],l.hasOwnProperty(B)&&(I!=null||J!=null))switch(B){case"type":u=I;break;case"name":c=I;break;case"checked":L=I;break;case"defaultChecked":Q=I;break;case"value":g=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(137,n));break;default:I!==J&&Yt(t,n,B,I,l,J)}}gc(t,g,v,E,L,Q,u,c);return;case"select":I=g=v=B=null;for(u in s)if(E=s[u],s.hasOwnProperty(u)&&E!=null)switch(u){case"value":break;case"multiple":I=E;default:l.hasOwnProperty(u)||Yt(t,n,u,null,l,E)}for(c in l)if(u=l[c],E=s[c],l.hasOwnProperty(c)&&(u!=null||E!=null))switch(c){case"value":B=u;break;case"defaultValue":v=u;break;case"multiple":g=u;default:u!==E&&Yt(t,n,c,u,l,E)}n=v,s=g,l=I,B!=null?Zi(t,!!s,B,!1):!!l!=!!s&&(n!=null?Zi(t,!!s,n,!0):Zi(t,!!s,s?[]:"",!1));return;case"textarea":I=B=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!l.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Yt(t,n,v,null,l,c)}for(g in l)if(c=l[g],u=s[g],l.hasOwnProperty(g)&&(c!=null||u!=null))switch(g){case"value":B=c;break;case"defaultValue":I=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==u&&Yt(t,n,g,c,l,u)}Ff(t,B,I);return;case"option":for(var ct in s)if(B=s[ct],s.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct))switch(ct){case"selected":t.selected=!1;break;default:Yt(t,n,ct,null,l,B)}for(E in l)if(B=l[E],I=s[E],l.hasOwnProperty(E)&&B!==I&&(B!=null||I!=null))switch(E){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,E,B,l,I)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)B=s[yt],s.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&Yt(t,n,yt,null,l,B);for(L in l)if(B=l[L],I=s[L],l.hasOwnProperty(L)&&B!==I&&(B!=null||I!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,L,B,l,I)}return;default:if(yc(n)){for(var Xt in s)B=s[Xt],s.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&ih(t,n,Xt,void 0,l,B);for(Q in l)B=l[Q],I=s[Q],!l.hasOwnProperty(Q)||B===I||B===void 0&&I===void 0||ih(t,n,Q,B,l,I);return}}for(var q in s)B=s[q],s.hasOwnProperty(q)&&B!=null&&!l.hasOwnProperty(q)&&Yt(t,n,q,null,l,B);for(J in l)B=l[J],I=s[J],!l.hasOwnProperty(J)||B===I||B==null&&I==null||Yt(t,n,J,B,l,I)}function $m(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pv(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var c=s[l],u=c.transferSize,g=c.initiatorType,v=c.duration;if(u&&v&&$m(g)){for(g=0,v=c.responseEnd,l+=1;l<s.length;l++){var E=s[l],L=E.startTime;if(L>v)break;var Q=E.transferSize,J=E.initiatorType;Q&&$m(J)&&(E=E.responseEnd,g+=Q*(E<v?1:(v-L)/(E-L)))}if(--l,n+=8*(u+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ah=null,lh=null;function io(t){return t.nodeType===9?t:t.ownerDocument}function Pm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var oh=null;function mv(){var t=window.event;return t&&t.type==="popstate"?t===oh?!1:(oh=t,!0):(oh=null,!1)}var eg=typeof setTimeout=="function"?setTimeout:void 0,gv=typeof clearTimeout=="function"?clearTimeout:void 0,ng=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof ng<"u"?function(t){return ng.resolve(null).then(t).catch(yv)}:eg;function yv(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function sg(t,n){var s=n,l=0;do{var c=s.nextSibling;if(t.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(c),Aa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")El(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,El(s);for(var u=s.firstChild;u;){var g=u.nextSibling,v=u.nodeName;u[Xa]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&u.rel.toLowerCase()==="stylesheet"||s.removeChild(u),u=g}}else s==="body"&&El(t.ownerDocument.body);s=c}while(s);Aa(n)}function ig(t,n){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function ch(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":ch(s),pc(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function vv(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Xa])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(u=t.getAttribute("rel"),u==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(u!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(u=t.getAttribute("src"),(u!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&u&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var u=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===u)return t}else return t;if(t=Cn(t.nextSibling),t===null)break}return null}function bv(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Cn(t.nextSibling),t===null))return null;return t}function ag(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Cn(t.nextSibling),t===null))return null;return t}function uh(t){return t.data==="$?"||t.data==="$~"}function hh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Sv(t,n){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Cn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var fh=null;function lg(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(n===0)return Cn(t.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}t=t.nextSibling}return null}function rg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return t;n--}else s!=="/$"&&s!=="/&"||n++}t=t.previousSibling}return null}function og(t,n,s){switch(n=io(s),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function El(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);pc(t)}var wn=new Map,cg=new Set;function ao(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=Y.d;Y.d={f:Tv,r:xv,D:Av,C:Cv,L:wv,m:Ev,X:Ov,S:Nv,M:Mv};function Tv(){var t=gs.f(),n=Kr();return t||n}function xv(t){var n=Ii(t);n!==null&&n.tag===5&&n.type==="form"?wp(n):gs.r(t)}var Sa=typeof document>"u"?null:document;function ug(t,n,s){var l=Sa;if(l&&typeof n=="string"&&n){var c=yn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),cg.has(c)||(cg.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",t),xe(n),l.head.appendChild(n)))}}function Av(t){gs.D(t),ug("dns-prefetch",t,null)}function Cv(t,n){gs.C(t,n),ug("preconnect",t,n)}function wv(t,n,s){gs.L(t,n,s);var l=Sa;if(l&&t&&n){var c='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+yn(s.imageSizes)+'"]')):c+='[href="'+yn(t)+'"]';var u=c;switch(n){case"style":u=Ta(t);break;case"script":u=xa(t)}wn.has(u)||(t=y({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),wn.set(u,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Nl(u))||n==="script"&&l.querySelector(Ol(u))||(n=l.createElement("link"),ke(n,"link",t),xe(n),l.head.appendChild(n)))}}function Ev(t,n){gs.m(t,n);var s=Sa;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(t)+'"]',u=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=xa(t)}if(!wn.has(u)&&(t=y({rel:"modulepreload",href:t},n),wn.set(u,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(u)))return}l=s.createElement("link"),ke(l,"link",t),xe(l),s.head.appendChild(l)}}}function Nv(t,n,s){gs.S(t,n,s);var l=Sa;if(l&&t){var c=Yi(l).hoistableStyles,u=Ta(t);n=n||"default";var g=c.get(u);if(!g){var v={loading:0,preload:null};if(g=l.querySelector(Nl(u)))v.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":n},s),(s=wn.get(u))&&dh(t,s);var E=g=l.createElement("link");xe(E),ke(E,"link",t),E._p=new Promise(function(L,Q){E.onload=L,E.onerror=Q}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,lo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:v},c.set(u,g)}}}function Ov(t,n){gs.X(t,n);var s=Sa;if(s&&t){var l=Yi(s).hoistableScripts,c=xa(t),u=l.get(c);u||(u=s.querySelector(Ol(c)),u||(t=y({src:t,async:!0},n),(n=wn.get(c))&&ph(t,n),u=s.createElement("script"),xe(u),ke(u,"link",t),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function Mv(t,n){gs.M(t,n);var s=Sa;if(s&&t){var l=Yi(s).hoistableScripts,c=xa(t),u=l.get(c);u||(u=s.querySelector(Ol(c)),u||(t=y({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&ph(t,n),u=s.createElement("script"),xe(u),ke(u,"link",t),s.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},l.set(c,u))}}function hg(t,n,s,l){var c=(c=ut.current)?ao(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ta(s.href),s=Yi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Ta(s.href);var u=Yi(c).hoistableStyles,g=u.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(t,g),(u=c.querySelector(Nl(t)))&&!u._p&&(g.instance=u,g.state.loading=5),wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(t,s),u||Dv(c,t,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(s),s=Yi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Ta(t){return'href="'+yn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function fg(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Dv(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",s),xe(n),t.head.appendChild(n))}function xa(t){return'[src="'+yn(t)+'"]'}function Ol(t){return"script[async]"+t}function dg(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+yn(s.href)+'"]');if(l)return n.instance=l,xe(l),l;var c=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),xe(l),ke(l,"style",c),lo(l,s.precedence,t),n.instance=l;case"stylesheet":c=Ta(s.href);var u=t.querySelector(Nl(c));if(u)return n.state.loading|=4,n.instance=u,xe(u),u;l=fg(s),(c=wn.get(c))&&dh(l,c),u=(t.ownerDocument||t).createElement("link"),xe(u);var g=u;return g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),ke(u,"link",l),n.state.loading|=4,lo(u,s.precedence,t),n.instance=u;case"script":return u=xa(s.src),(c=t.querySelector(Ol(u)))?(n.instance=c,xe(c),c):(l=s,(c=wn.get(u))&&(l=y({},s),ph(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),xe(c),ke(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,lo(l,s.precedence,t));return n.instance}function lo(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,u=c,g=0;g<l.length;g++){var v=l[g];if(v.dataset.precedence===n)u=v;else if(u!==c)break}u?u.parentNode.insertBefore(t,u.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function dh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function ph(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ro=null;function pg(t,n,s){if(ro===null){var l=new Map,c=ro=new Map;c.set(s,l)}else c=ro,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var u=s[c];if(!(u[Xa]||u[Oe]||t==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var g=u.getAttribute(n)||"";g=t+g;var v=l.get(g);v?v.push(u):l.set(g,[u])}}return l}function mg(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function Rv(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gg(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function kv(t,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ta(l.href),u=n.querySelector(Nl(c));if(u){n=u._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=oo.bind(t),n.then(t,t)),s.state.loading|=4,s.instance=u,xe(u);return}u=n.ownerDocument||n,l=fg(l),(c=wn.get(c))&&dh(l,c),u=u.createElement("link"),xe(u);var g=u;g._p=new Promise(function(v,E){g.onload=v,g.onerror=E}),ke(u,"link",l),s.instance=u}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=oo.bind(t),n.addEventListener("load",s),n.addEventListener("error",s))}}var mh=0;function zv(t,n){return t.stylesheets&&t.count===0&&uo(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&uo(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4+n);0<t.imgBytes&&mh===0&&(mh=62500*pv());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&uo(t,t.stylesheets),t.unsuspend)){var u=t.unsuspend;t.unsuspend=null,u()}},(t.imgBytes>mh?50:800)+n);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function oo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var co=null;function uo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,co=new Map,n.forEach(Vv,t),co=null,oo.call(t))}function Vv(t,n){if(!(n.state.loading&4)){var s=co.get(t);if(s)var l=s.get(null);else{s=new Map,co.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<c.length;u++){var g=c[u];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),u=s.get(g)||l,u===l&&s.set(null,c),s.set(g,c),this.count++,l=oo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),u?u.parentNode.insertBefore(c,u.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Ml={$$typeof:k,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function jv(t,n,s,l,c,u,g,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=u,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function _g(t,n,s,l,c,u,g,v,E,L,Q,J){return t=new jv(t,n,s,g,E,L,Q,J,v),n=1,u===!0&&(n|=24),u=on(3,null,null,n),t.current=u,u.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,u.memoizedState={element:l,isDehydrated:s,cache:n},$c(u),t}function yg(t){return t?(t=ta,t):ta}function vg(t,n,s,l,c,u){c=yg(c),l.context===null?l.context=c:l.pendingContext=c,l=Vs(n),l.payload={element:s},u=u===void 0?null:u,u!==null&&(l.callback=u),s=js(t,l,n),s!==null&&($e(s,t,n),ol(s,t,n))}function bg(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function gh(t,n){bg(t,n),(t=t.alternate)&&bg(t,n)}function Sg(t){if(t.tag===13||t.tag===31){var n=_i(t,67108864);n!==null&&$e(n,t,67108864),gh(t,67108864)}}function Tg(t){if(t.tag===13||t.tag===31){var n=dn();n=hc(n);var s=_i(t,n);s!==null&&$e(s,t,n),gh(t,n)}}var ho=!0;function qv(t,n,s,l){var c=V.T;V.T=null;var u=Y.p;try{Y.p=2,_h(t,n,s,l)}finally{Y.p=u,V.T=c}}function Uv(t,n,s,l){var c=V.T;V.T=null;var u=Y.p;try{Y.p=8,_h(t,n,s,l)}finally{Y.p=u,V.T=c}}function _h(t,n,s,l){if(ho){var c=yh(l);if(c===null)sh(t,n,l,fo,s),Ag(t,l);else if(Bv(c,t,n,s,l))l.stopPropagation();else if(Ag(t,l),n&4&&-1<Lv.indexOf(t)){for(;c!==null;){var u=Ii(c);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var g=fi(u.pendingLanes);if(g!==0){var v=u;for(v.pendingLanes|=2,v.entangledLanes|=2;g;){var E=1<<31-ln(g);v.entanglements[1]|=E,g&=~E}Zn(u),(Ut&6)===0&&(Fr=Ne()+500,Al(0))}}break;case 31:case 13:v=_i(u,2),v!==null&&$e(v,u,2),Kr(),gh(u,2)}if(u=yh(l),u===null&&sh(t,n,l,fo,s),u===c)break;c=u}c!==null&&l.stopPropagation()}else sh(t,n,l,null,s)}}function yh(t){return t=bc(t),vh(t)}var fo=null;function vh(t){if(fo=null,t=Gi(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=f(n),t!==null)return t;t=null}else if(s===31){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return fo=t,null}function xg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cc()){case tr:return 2;case Rf:return 8;case er:case C_:return 32;case kf:return 268435456;default:return 32}default:return 32}}var bh=!1,Qs=null,Fs=null,Ws=null,Dl=new Map,Rl=new Map,Ks=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ag(t,n){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(n.pointerId)}}function kl(t,n,s,l,c,u){return t===null||t.nativeEvent!==u?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:u,targetContainers:[c]},n!==null&&(n=Ii(n),n!==null&&Sg(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function Bv(t,n,s,l,c){switch(n){case"focusin":return Qs=kl(Qs,t,n,s,l,c),!0;case"dragenter":return Fs=kl(Fs,t,n,s,l,c),!0;case"mouseover":return Ws=kl(Ws,t,n,s,l,c),!0;case"pointerover":var u=c.pointerId;return Dl.set(u,kl(Dl.get(u)||null,t,n,s,l,c)),!0;case"gotpointercapture":return u=c.pointerId,Rl.set(u,kl(Rl.get(u)||null,t,n,s,l,c)),!0}return!1}function Cg(t){var n=Gi(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){t.blockedOn=n,Lf(t.priority,function(){Tg(s)});return}}else if(n===31){if(n=d(s),n!==null){t.blockedOn=n,Lf(t.priority,function(){Tg(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function po(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=yh(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);vc=l,s.target.dispatchEvent(l),vc=null}else return n=Ii(s),n!==null&&Sg(n),t.blockedOn=s,!1;n.shift()}return!0}function wg(t,n,s){po(t)&&s.delete(n)}function Hv(){bh=!1,Qs!==null&&po(Qs)&&(Qs=null),Fs!==null&&po(Fs)&&(Fs=null),Ws!==null&&po(Ws)&&(Ws=null),Dl.forEach(wg),Rl.forEach(wg)}function mo(t,n){t.blockedOn===n&&(t.blockedOn=null,bh||(bh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hv)))}var go=null;function Eg(t){go!==t&&(go=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){go===t&&(go=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(vh(l||s)===null)continue;break}var u=Ii(s);u!==null&&(t.splice(n,3),n-=3,yu(u,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function Aa(t){function n(E){return mo(E,t)}Qs!==null&&mo(Qs,t),Fs!==null&&mo(Fs,t),Ws!==null&&mo(Ws,t),Dl.forEach(n),Rl.forEach(n);for(var s=0;s<Ks.length;s++){var l=Ks[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ks.length&&(s=Ks[0],s.blockedOn===null);)Cg(s),s.blockedOn===null&&Ks.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],u=s[l+1],g=c[Ze]||null;if(typeof u=="function")g||Eg(s);else if(g){var v=null;if(u&&u.hasAttribute("formAction")){if(c=u,g=u[Ze]||null)v=g.formAction;else if(vh(c)!==null)continue}else v=g.action;typeof v=="function"?s[l+1]=v:(s.splice(l,3),l-=3),Eg(s)}}}function Ng(){function t(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Sh(t){this._internalRoot=t}_o.prototype.render=Sh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=dn();vg(s,l,t,n,null,null)},_o.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vg(t.current,2,null,t,null,null),Kr(),n[Hi]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=Uf();t={blockedOn:null,target:t,priority:n};for(var s=0;s<Ks.length&&n!==0&&n<Ks[s].priority;s++);Ks.splice(s,0,t),s===0&&Cg(t)}};var Og=e.version;if(Og!=="19.2.0")throw Error(a(527,Og,"19.2.0"));Y.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Gv={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{Ga=yo.inject(Gv),an=yo}catch{}}return Vl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var s=!1,l="",c=jp,u=qp,g=Up;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(u=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=_g(t,1,!1,null,null,s,l,null,c,u,g,Ng),t[Hi]=n.current,nh(t),new Sh(n)},Vl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(a(299));var l=!1,c="",u=jp,g=qp,v=Up,E=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(E=s.formState)),n=_g(t,1,!0,n,s??null,l,c,E,u,g,v,Ng),n.context=yg(null),s=n.current,l=dn(),l=hc(l),c=Vs(l),c.callback=null,js(s,c,l),s=l,n.current.lanes=s,Ya(n,s),Zn(n),t[Hi]=n.current,nh(t),new _o(n)},Vl.version="19.2.0",Vl}var Lg;function t1(){if(Lg)return Ah.exports;Lg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Ah.exports=Pv(),Ah.exports}var e1=t1();/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),Bg=r=>{const e=s1(r);return e.charAt(0).toUpperCase()+e.slice(1)},p0=(...r)=>r.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim(),i1=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Tt.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:h,iconNode:f,...d},m)=>Tt.createElement("svg",{ref:m,...a1,width:e,height:e,stroke:r,strokeWidth:a?Number(i)*24/Number(e):i,className:p0("lucide",o),...!h&&!i1(d)&&{"aria-hidden":"true"},...d},[...f.map(([p,_])=>Tt.createElement(p,_)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(r,e)=>{const i=Tt.forwardRef(({className:a,...o},h)=>Tt.createElement(l1,{ref:h,iconNode:e,className:p0(`lucide-${n1(Bg(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Bg(r),i};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],o1=Ee("chevron-down",r1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Hg=Ee("code",c1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],h1=Ee("copy",u1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],d1=Ee("grid-3x3",f1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],m1=Ee("mic-off",p1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],_1=Ee("mic",g1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],m0=Ee("music",y1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],b1=Ee("pen",v1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89",key:"znwnzq"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11",key:"c9qhm2"}]],T1=Ee("pin-off",S1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],A1=Ee("pin",x1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],w1=Ee("play",C1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],g0=Ee("plus",E1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],O1=Ee("sliders-vertical",N1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],D1=Ee("square",M1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Mh=Ee("trash-2",R1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],z1=Ee("volume-2",k1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],j1=Ee("volume-x",V1);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],U1=Ee("x",q1),L1=4,ni=[{id:"kick",name:"Kick (Cassa)",strudelName:"bd",category:"Drums",color:"bg-red-600",defaultNote:"C1"},{id:"snare",name:"Snare",strudelName:"sd",category:"Drums",color:"bg-orange-500",defaultNote:"C2"},{id:"rim",name:"Rimshot",strudelName:"rim",category:"Drums",color:"bg-amber-700",defaultNote:"C2"},{id:"hat",name:"Hi-Hat Closed",strudelName:"hh",category:"Drums",color:"bg-yellow-400",defaultNote:"C4"},{id:"open_hat",name:"Hi-Hat Open",strudelName:"oh",category:"Drums",color:"bg-yellow-200",defaultNote:"C4"},{id:"tom",name:"Tom",strudelName:"tom",category:"Drums",color:"bg-green-600",defaultNote:"G2"},{id:"ride",name:"Ride",strudelName:"ride",category:"Drums",color:"bg-emerald-800",defaultNote:"C4"},{id:"crash",name:"Crash",strudelName:"crash",category:"Drums",color:"bg-cyan-400",defaultNote:"C4"},{id:"clap",name:"Clap",strudelName:"cp",category:"Drums",color:"bg-blue-500",defaultNote:"C4"},{id:"perc",name:"Percussion",strudelName:"perc",category:"Drums",color:"bg-blue-900",defaultNote:"C4"},{id:"sine",name:"Sine Wave",strudelName:"sine",category:"Synths",color:"bg-fuchsia-500",defaultNote:"C4"},{id:"triangle",name:"Triangle",strudelName:"triangle",category:"Synths",color:"bg-purple-600",defaultNote:"C4"},{id:"square",name:"Square",strudelName:"square",category:"Synths",color:"bg-pink-600",defaultNote:"C4"},{id:"sawtooth",name:"Sawtooth",strudelName:"sawtooth",category:"Synths",color:"bg-pink-400",defaultNote:"C4"},{id:"white",name:"White Noise",strudelName:"white",category:"Noise",color:"bg-slate-400",defaultNote:"C4"},{id:"pink",name:"Pink Noise",strudelName:"pink",category:"Noise",color:"bg-rose-300",defaultNote:"C4"},{id:"brown",name:"Brown Noise",strudelName:"brown",category:"Noise",color:"bg-amber-900",defaultNote:"C4"}],B1=(r,e)=>{if(r.length===0)return`// Aggiungi una traccia per iniziare
`;const a=r.slice(0,16).map(o=>{var A;if(o.muted)return null;const h=ni.find(C=>C.id===o.instrument);if(!h)return null;const f=Math.max(1,Math.min(32,o.stepCount||16)),d=o.steps.slice(0,f).filter(C=>C.active);if(d.length===0)return null;const m=(A=d[0])==null?void 0:A.note,p=d.every(C=>C.note===m),_=d.every(C=>(C.velocity??100)===100);let y=`  s("${h.strudelName}")`;const T=o.steps.slice(0,f).map(C=>C.active?"x":".").join("");if(p&&m)y+=`.note("${m}")`,y+=`.struct("${T}")`;else if(d.length<=f/2){const C=o.steps.slice(0,f).map(M=>M.active?M.note:"~").join(" ");y+=`.note("${C}")`}else y+=`.note("${m||h.defaultNote||"C4"}")`,y+=`.struct("${T}")`;const S=Math.min(1,o.volume);if(_)S<1&&(y+=`.gain(${S.toFixed(2)})`);else{const C=o.steps.slice(0,f).map(M=>{if(!M.active)return"~";const D=Math.min(1,(M.velocity??100)/100),k=Math.min(1,D*S*.95);return k===1?1:parseFloat(k.toFixed(2))}).join(" ");y+=`.gain("${C}")`}if(Math.abs(o.pan)>.1&&(y+=`.pan(${Math.max(-.9,Math.min(.9,o.pan))})`),o.delay>10){const C=Math.min(.5,o.delay/200);y+=`.delay(${C.toFixed(2)})`}if(o.reverb>10){const C=Math.min(.4,o.reverb/250);y+=`.reverb(${C.toFixed(2)})`}if(o.distortion>15){const C=Math.min(.5,o.distortion/200);y+=`.distortion(${C.toFixed(2)})`}return y}).filter(Boolean);return a.length===0?`// Tutte le tracce sono mute o vuote
setcps(${e/60/4})`:`// Strudel Code - Lightweight Mode (Performance Optimized)
setcps(${(e/60/4).toFixed(4)}); // ${e} BPM

stack(
${a.join(`,
`)}
).out();
`},H1=r=>{try{const e=r.split(`
`),i=[],a=16;for(const o of e){if(i.length>=a)break;const h=o.match(/s\("([^"]+)"\)/);if(!h)continue;const f=h[1],d=ni.find(w=>w.strudelName===f);if(!d)continue;let m=16;const p=Array(32).fill(null).map(()=>({active:!1,note:d.defaultNote||"C3",velocity:100})),_=o.match(/\.note\("([^"]+)"\)/),y=o.match(/\.struct\("([^"]+)"\)/);if(_){const w=_[1];if(w.includes("~")||w.includes(" ")){const O=w.trim().split(/\s+/).slice(0,32);m=Math.max(1,Math.min(32,O.length));for(let X=0;X<m;X++)O[X]&&O[X]!=="~"&&O[X]!=="."&&(p[X]={active:!0,note:O[X],velocity:100})}else{const O=w;if(y){const X=y[1].replace(/\s/g,"").slice(0,32);m=Math.max(1,Math.min(32,X.length));for(let Z=0;Z<m;Z++)X[Z]!=="."&&(p[Z]={active:!0,note:O,velocity:100})}}}else if(y){const w=y[1].replace(/\s/g,"").slice(0,32);m=Math.max(1,Math.min(32,w.length));for(let O=0;O<m;O++)w[O]!=="."&&(p[O]={active:!0,note:d.defaultNote||"C3",velocity:100})}const b=o.match(/\.gain\("([^"]+)"\)/),T=o.match(/\.gain\(([\d.-]+)\)/);let S=1;if(b){const w=b[1].trim().split(/\s+/);if(w.length===m){for(let O=0;O<m;O++)if(w[O]!=="~"&&p[O].active){const X=Math.max(0,Math.min(1,parseFloat(w[O])));p[O].velocity=Math.max(1,Math.min(100,Math.round(X*100)))}}}else T&&(S=Math.max(0,Math.min(1,parseFloat(T[1]))));const A=o.match(/\.pan\(([\d.-]+)\)/),C=A?Math.max(-1,Math.min(1,parseFloat(A[1]))):0,M=o.match(/\.delay\(([\d.]+)\)/),D=M?Math.max(0,Math.min(100,parseFloat(M[1])*100)):0,k=o.match(/\.reverb\(([\d.]+)\)/),H=k?Math.max(0,Math.min(100,parseFloat(k[1])*100)):0,N=o.match(/\.distortion\(([\d.]+)\)/),z=N?Math.max(0,Math.min(100,parseFloat(N[1])*100)):0;i.push({id:Math.random().toString(36).substr(2,9),instrument:d.id,steps:p.slice(0,32),stepCount:m,volume:S,muted:!1,pan:C,delay:D,reverb:H,distortion:z})}return i.length>0?i:null}catch(e){return console.error("[PARSE] Failed to parse Strudel code:",e),null}},_0="15.1.22",Gg=(r,e,i)=>({endTime:e,insertTime:i,type:"exponentialRampToValue",value:r}),Ig=(r,e,i)=>({endTime:e,insertTime:i,type:"linearRampToValue",value:r}),Dh=(r,e)=>({startTime:e,type:"setValue",value:r}),y0=(r,e,i)=>({duration:i,startTime:e,type:"setValueCurve",values:r}),v0=(r,e,{startTime:i,target:a,timeConstant:o})=>a+(e-a)*Math.exp((i-r)/o),Ea=r=>r.type==="exponentialRampToValue",wo=r=>r.type==="linearRampToValue",ti=r=>Ea(r)||wo(r),Hh=r=>r.type==="setValue",ys=r=>r.type==="setValueCurve",Eo=(r,e,i,a)=>{const o=r[e];return o===void 0?a:ti(o)||Hh(o)?o.value:ys(o)?o.values[o.values.length-1]:v0(i,Eo(r,e-1,o.startTime,a),o)},Yg=(r,e,i,a,o)=>i===void 0?[a.insertTime,o]:ti(i)?[i.endTime,i.value]:Hh(i)?[i.startTime,i.value]:ys(i)?[i.startTime+i.duration,i.values[i.values.length-1]]:[i.startTime,Eo(r,e-1,i.startTime,o)],Rh=r=>r.type==="cancelAndHold",kh=r=>r.type==="cancelScheduledValues",$s=r=>Rh(r)||kh(r)?r.cancelTime:Ea(r)||wo(r)?r.endTime:r.startTime,Xg=(r,e,i,{endTime:a,value:o})=>i===o?o:0<i&&0<o||i<0&&o<0?i*(o/i)**((r-e)/(a-e)):0,Zg=(r,e,i,{endTime:a,value:o})=>i+(r-e)/(a-e)*(o-i),G1=(r,e)=>{const i=Math.floor(e),a=Math.ceil(e);return i===a?r[i]:(1-(e-i))*r[i]+(1-(a-e))*r[a]},I1=(r,{duration:e,startTime:i,values:a})=>{const o=(r-i)/e*(a.length-1);return G1(a,o)},vo=r=>r.type==="setTarget";class Y1{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const i=$s(e);if(Rh(e)||kh(e)){const a=this._automationEvents.findIndex(h=>kh(e)&&ys(h)?h.startTime+h.duration>=i:$s(h)>=i),o=this._automationEvents[a];if(a!==-1&&(this._automationEvents=this._automationEvents.slice(0,a)),Rh(e)){const h=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&ti(o)){if(h!==void 0&&vo(h))throw new Error("The internal list is malformed.");const f=h===void 0?o.insertTime:ys(h)?h.startTime+h.duration:$s(h),d=h===void 0?this._defaultValue:ys(h)?h.values[h.values.length-1]:h.value,m=Ea(o)?Xg(i,f,d,o):Zg(i,f,d,o),p=Ea(o)?Gg(m,i,this._currenTime):Ig(m,i,this._currenTime);this._automationEvents.push(p)}if(h!==void 0&&vo(h)&&this._automationEvents.push(Dh(this.getValue(i),i)),h!==void 0&&ys(h)&&h.startTime+h.duration>i){const f=i-h.startTime,d=(h.values.length-1)/h.duration,m=Math.max(2,1+Math.ceil(f*d)),p=f/(m-1)*d,_=h.values.slice(0,m);if(p<1)for(let y=1;y<m;y+=1){const b=p*y%1;_[y]=h.values[y-1]*(1-b)+h.values[y]*b}this._automationEvents[this._automationEvents.length-1]=y0(_,h.startTime,f)}}}else{const a=this._automationEvents.findIndex(f=>$s(f)>i),o=a===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[a-1];if(o!==void 0&&ys(o)&&$s(o)+o.duration>i)return!1;const h=Ea(e)?Gg(e.value,e.endTime,this._currenTime):wo(e)?Ig(e.value,i,this._currenTime):e;if(a===-1)this._automationEvents.push(h);else{if(ys(e)&&i+e.duration>$s(this._automationEvents[a]))return!1;this._automationEvents.splice(a,0,h)}}return!0}flush(e){const i=this._automationEvents.findIndex(a=>$s(a)>e);if(i>1){const a=this._automationEvents.slice(i-1),o=a[0];vo(o)&&a.unshift(Dh(Eo(this._automationEvents,i-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=a}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const i=this._automationEvents.findIndex(f=>$s(f)>e),a=this._automationEvents[i],o=(i===-1?this._automationEvents.length:i)-1,h=this._automationEvents[o];if(h!==void 0&&vo(h)&&(a===void 0||!ti(a)||a.insertTime>e))return v0(e,Eo(this._automationEvents,o-1,h.startTime,this._defaultValue),h);if(h!==void 0&&Hh(h)&&(a===void 0||!ti(a)))return h.value;if(h!==void 0&&ys(h)&&(a===void 0||!ti(a)||h.startTime+h.duration>e))return e<h.startTime+h.duration?I1(e,h):h.values[h.values.length-1];if(h!==void 0&&ti(h)&&(a===void 0||!ti(a)))return h.value;if(a!==void 0&&Ea(a)){const[f,d]=Yg(this._automationEvents,o,h,a,this._defaultValue);return Xg(e,f,d,a)}if(a!==void 0&&wo(a)){const[f,d]=Yg(this._automationEvents,o,h,a,this._defaultValue);return Zg(e,f,d,a)}return this._defaultValue}}const X1=r=>({cancelTime:r,type:"cancelAndHold"}),Z1=r=>({cancelTime:r,type:"cancelScheduledValues"}),Q1=(r,e)=>({endTime:e,type:"exponentialRampToValue",value:r}),F1=(r,e)=>({endTime:e,type:"linearRampToValue",value:r}),W1=(r,e,i)=>({startTime:e,target:r,timeConstant:i,type:"setTarget"}),K1=()=>new DOMException("","AbortError"),J1=r=>(e,i,[a,o,h],f)=>{r(e[o],[i,a,h],d=>d[0]===i&&d[1]===a,f)},$1=r=>(e,i,a)=>{const o=[];for(let h=0;h<a.numberOfInputs;h+=1)o.push(new Set);r.set(e,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:i})},P1=r=>(e,i)=>{r.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:i})},Ma=new WeakSet,b0=new WeakMap,Gh=new WeakMap,S0=new WeakMap,Ih=new WeakMap,Go=new WeakMap,T0=new WeakMap,zh=new WeakMap,Vh=new WeakMap,jh=new WeakMap,x0={construct(){return x0}},tb=r=>{try{const e=new Proxy(r,x0);new e}catch{return!1}return!0},Qg=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Fg=(r,e)=>{const i=[];let a=r.replace(/^[\s]+/,""),o=a.match(Qg);for(;o!==null;){const h=o[1].slice(1,-1),f=o[0].replace(/([\s]+)?;?$/,"").replace(h,new URL(h,e).toString());i.push(f),a=a.slice(o[0].length).replace(/^[\s]+/,""),o=a.match(Qg)}return[i.join(";"),a]},Wg=r=>{if(r!==void 0&&!Array.isArray(r))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Kg=r=>{if(!tb(r))throw new TypeError("The given value for processorCtor should be a constructor.");if(r.prototype===null||typeof r.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},eb=(r,e,i,a,o,h,f,d,m,p,_,y,b)=>{let T=0;return(S,A,C={credentials:"omit"})=>{const M=_.get(S);if(M!==void 0&&M.has(A))return Promise.resolve();const D=p.get(S);if(D!==void 0){const N=D.get(A);if(N!==void 0)return N}const k=h(S),H=k.audioWorklet===void 0?o(A).then(([N,z])=>{const[w,O]=Fg(N,z),X=`${w};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${O}
})})(window,'_AWGS')`;return i(X)}).then(()=>{const N=b._AWGS.pop();if(N===void 0)throw new SyntaxError;a(k.currentTime,k.sampleRate,()=>N(class{},void 0,(z,w)=>{if(z.trim()==="")throw e();const O=Vh.get(k);if(O!==void 0){if(O.has(z))throw e();Kg(w),Wg(w.parameterDescriptors),O.set(z,w)}else Kg(w),Wg(w.parameterDescriptors),Vh.set(k,new Map([[z,w]]))},k.sampleRate,void 0,void 0))}):Promise.all([o(A),Promise.resolve(r(y,y))]).then(([[N,z],w])=>{const O=T+1;T=O;const[X,Z]=Fg(N,z),st=`${X};((AudioWorkletProcessor,registerProcessor)=>{${Z}
})(${w?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${w?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${w?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${O}',class extends AudioWorkletProcessor{process(){return !1}})`,ot=new Blob([st],{type:"application/javascript; charset=utf-8"}),V=URL.createObjectURL(ot);return k.audioWorklet.addModule(V,C).then(()=>{if(d(k))return k;const Y=f(k);return Y.audioWorklet.addModule(V,C).then(()=>Y)}).then(Y=>{if(m===null)throw new SyntaxError;try{new m(Y,`__sac${O}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(V))});return D===void 0?p.set(S,new Map([[A,H]])):D.set(A,H),H.then(()=>{const N=_.get(S);N===void 0?_.set(S,new Set([A])):N.add(A)}).finally(()=>{const N=p.get(S);N!==void 0&&N.delete(A)}),H}},jn=(r,e)=>{const i=r.get(e);if(i===void 0)throw new Error("A value with the given key could not be found.");return i},Io=(r,e)=>{const i=Array.from(r).filter(e);if(i.length>1)throw Error("More than one element was found.");if(i.length===0)throw Error("No element was found.");const[a]=i;return r.delete(a),a},A0=(r,e,i,a)=>{const o=jn(r,e),h=Io(o,f=>f[0]===i&&f[1]===a);return o.size===0&&r.delete(e),h},Bl=r=>jn(T0,r),Da=r=>{if(Ma.has(r))throw new Error("The AudioNode is already stored.");Ma.add(r),Bl(r).forEach(e=>e(!0))},C0=r=>"port"in r,Hl=r=>{if(!Ma.has(r))throw new Error("The AudioNode is not stored.");Ma.delete(r),Bl(r).forEach(e=>e(!1))},qh=(r,e)=>{!C0(r)&&e.every(i=>i.size===0)&&Hl(r)},nb=(r,e,i,a,o,h,f,d,m,p,_,y,b)=>{const T=new WeakMap;return(S,A,C,M,D)=>{const{activeInputs:k,passiveInputs:H}=h(A),{outputs:N}=h(S),z=d(S),w=O=>{const X=m(A),Z=m(S);if(O){const F=A0(H,S,C,M);r(k,S,F,!1),!D&&!y(S)&&i(Z,X,C,M),b(A)&&Da(A)}else{const F=a(k,S,C,M);e(H,M,F,!1),!D&&!y(S)&&o(Z,X,C,M);const W=f(A);if(W===0)_(A)&&qh(A,k);else{const it=T.get(A);it!==void 0&&clearTimeout(it),T.set(A,setTimeout(()=>{_(A)&&qh(A,k)},W*1e3))}}};return p(N,[A,C,M],O=>O[0]===A&&O[1]===C&&O[2]===M,!0)?(z.add(w),_(S)?r(k,S,[C,M,w],!0):e(H,M,[S,C,w],!0),!0):!1}},sb=r=>(e,i,[a,o,h],f)=>{const d=e.get(a);d===void 0?e.set(a,new Set([[o,i,h]])):r(d,[o,i,h],m=>m[0]===o&&m[1]===i,f)},ib=r=>(e,i)=>{const a=r(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.connect(a).connect(e.destination);const o=()=>{i.removeEventListener("ended",o),i.disconnect(a),a.disconnect()};i.addEventListener("ended",o)},ab=r=>(e,i)=>{r(e).add(i)},lb={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},rb=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=o(d),_={...lb,...m},y=a(p,_),b=h(p)?e():null;super(d,!1,y,b),this._nativeAnalyserNode=y}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(d){this._nativeAnalyserNode.fftSize=d}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(d){const m=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=d,!(d>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=m,i()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(d){const m=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=d,!(this._nativeAnalyserNode.maxDecibels>d))throw this._nativeAnalyserNode.minDecibels=m,i()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(d){this._nativeAnalyserNode.smoothingTimeConstant=d}getByteFrequencyData(d){this._nativeAnalyserNode.getByteFrequencyData(d)}getByteTimeDomainData(d){this._nativeAnalyserNode.getByteTimeDomainData(d)}getFloatFrequencyData(d){this._nativeAnalyserNode.getFloatFrequencyData(d)}getFloatTimeDomainData(d){this._nativeAnalyserNode.getFloatTimeDomainData(d)}},Le=(r,e)=>r.context===e,ob=(r,e,i)=>()=>{const a=new WeakMap,o=async(h,f)=>{let d=e(h);if(!Le(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,fftSize:d.fftSize,maxDecibels:d.maxDecibels,minDecibels:d.minDecibels,smoothingTimeConstant:d.smoothingTimeConstant};d=r(f,p)}return a.set(f,d),await i(h,f,d),d};return{render(h,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(h,f)}}},No=r=>{try{r.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Kn=()=>new DOMException("","IndexSizeError"),Yh=r=>{r.getChannelData=(e=>i=>{try{return e.call(r,i)}catch(a){throw a.code===12?Kn():a}})(r.getChannelData)},cb={numberOfChannels:1},ub=(r,e,i,a,o,h,f,d)=>{let m=null;return class w0{constructor(_){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:y,numberOfChannels:b,sampleRate:T}={...cb,..._};m===null&&(m=new o(1,1,44100));const S=a!==null&&e(h,h)?new a({length:y,numberOfChannels:b,sampleRate:T}):m.createBuffer(b,y,T);if(S.numberOfChannels===0)throw i();return typeof S.copyFromChannel!="function"?(f(S),Yh(S)):e(No,()=>No(S))||d(S),r.add(S),S}static[Symbol.hasInstance](_){return _!==null&&typeof _=="object"&&Object.getPrototypeOf(_)===w0.prototype||r.has(_)}}},tn=-34028234663852886e22,Ge=-tn,bs=r=>Ma.has(r),hb={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},fb=(r,e,i,a,o,h,f,d)=>class extends r{constructor(p,_){const y=h(p),b={...hb,..._},T=o(y,b),S=f(y),A=S?e():null;super(p,!1,T,A),this._audioBufferSourceNodeRenderer=A,this._isBufferNullified=!1,this._isBufferSet=b.buffer!==null,this._nativeAudioBufferSourceNode=T,this._onended=null,this._playbackRate=i(this,S,T.playbackRate,Ge,tn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(p){if(this._nativeAudioBufferSourceNode.buffer=p,p!==null){if(this._isBufferSet)throw a();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(p){this._nativeAudioBufferSourceNode.loop=p}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(p){this._nativeAudioBufferSourceNode.loopEnd=p}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(p){this._nativeAudioBufferSourceNode.loopStart=p}get onended(){return this._onended}set onended(p){const _=typeof p=="function"?d(this,p):null;this._nativeAudioBufferSourceNode.onended=_;const y=this._nativeAudioBufferSourceNode.onended;this._onended=y!==null&&y===_?p:y}get playbackRate(){return this._playbackRate}start(p=0,_=0,y){if(this._nativeAudioBufferSourceNode.start(p,_,y),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=y===void 0?[p,_]:[p,_,y]),this.context.state!=="closed"){Da(this);const b=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",b),bs(this)&&Hl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",b)}}stop(p=0){this._nativeAudioBufferSourceNode.stop(p),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=p)}},db=(r,e,i,a,o)=>()=>{const h=new WeakMap;let f=null,d=null;const m=async(p,_)=>{let y=i(p);const b=Le(y,_);if(!b){const T={buffer:y.buffer,channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,loop:y.loop,loopEnd:y.loopEnd,loopStart:y.loopStart,playbackRate:y.playbackRate.value};y=e(_,T),f!==null&&y.start(...f),d!==null&&y.stop(d)}return h.set(_,y),b?await r(_,p.playbackRate,y.playbackRate):await a(_,p.playbackRate,y.playbackRate),await o(p,_,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,_){const y=h.get(_);return y!==void 0?Promise.resolve(y):m(p,_)}}},pb=r=>"playbackRate"in r,mb=r=>"frequency"in r&&"gain"in r,gb=r=>"offset"in r,_b=r=>!("frequency"in r)&&"gain"in r,yb=r=>"detune"in r&&"frequency"in r&&!("gain"in r),vb=r=>"pan"in r,Ye=r=>jn(b0,r),Gl=r=>jn(S0,r),Uh=(r,e)=>{const{activeInputs:i}=Ye(r);i.forEach(o=>o.forEach(([h])=>{e.includes(r)||Uh(h,[...e,r])}));const a=pb(r)?[r.playbackRate]:C0(r)?Array.from(r.parameters.values()):mb(r)?[r.Q,r.detune,r.frequency,r.gain]:gb(r)?[r.offset]:_b(r)?[r.gain]:yb(r)?[r.detune,r.frequency]:vb(r)?[r.pan]:[];for(const o of a){const h=Gl(o);h!==void 0&&h.activeInputs.forEach(([f])=>Uh(f,e))}bs(r)&&Hl(r)},E0=r=>{Uh(r.destination,[])},bb=r=>r===void 0||typeof r=="number"||typeof r=="string"&&(r==="balanced"||r==="interactive"||r==="playback"),Sb=(r,e,i,a,o,h,f,d,m)=>class extends r{constructor(_={}){if(m===null)throw new Error("Missing the native AudioContext constructor.");let y;try{y=new m(_)}catch(S){throw S.code===12&&S.message==="sampleRate is not in range"?i():S}if(y===null)throw a();if(!bb(_.latencyHint))throw new TypeError(`The provided value '${_.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(_.sampleRate!==void 0&&y.sampleRate!==_.sampleRate)throw i();super(y,2);const{latencyHint:b}=_,{sampleRate:T}=y;if(this._baseLatency=typeof y.baseLatency=="number"?y.baseLatency:b==="balanced"?512/T:b==="interactive"||b===void 0?256/T:b==="playback"?1024/T:Math.max(2,Math.min(128,Math.round(b*T/128)))*128/T,this._nativeAudioContext=y,m.name==="webkitAudioContext"?(this._nativeGainNode=y.createGain(),this._nativeOscillatorNode=y.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(y.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,y.state==="running"){this._state="suspended";const S=()=>{this._state==="suspended"&&(this._state=null),y.removeEventListener("statechange",S)};y.addEventListener("statechange",S)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),E0(this)}))}createMediaElementSource(_){return new o(this,{mediaElement:_})}createMediaStreamDestination(){return new h(this)}createMediaStreamSource(_){return new f(this,{mediaStream:_})}createMediaStreamTrackSource(_){return new d(this,{mediaStreamTrack:_})}resume(){return this._state==="suspended"?new Promise((_,y)=>{const b=()=>{this._nativeAudioContext.removeEventListener("statechange",b),this._nativeAudioContext.state==="running"?_():this.resume().then(_,y)};this._nativeAudioContext.addEventListener("statechange",b)}):this._nativeAudioContext.resume().catch(_=>{throw _===void 0||_.code===15?e():_})}suspend(){return this._nativeAudioContext.suspend().catch(_=>{throw _===void 0?e():_})}},Tb=(r,e,i,a,o,h,f,d)=>class extends r{constructor(p,_){const y=h(p),b=f(y),T=o(y,_,b),S=b?e(d):null;super(p,!1,T,S),this._isNodeOfNativeOfflineAudioContext=b,this._nativeAudioDestinationNode=T}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();if(p>this._nativeAudioDestinationNode.maxChannelCount)throw i();this._nativeAudioDestinationNode.channelCount=p}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(p){if(this._isNodeOfNativeOfflineAudioContext)throw a();this._nativeAudioDestinationNode.channelCountMode=p}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},xb=r=>{const e=new WeakMap,i=async(a,o)=>{const h=o.destination;return e.set(o,h),await r(a,o,h),h};return{render(a,o){const h=e.get(o);return h!==void 0?Promise.resolve(h):i(a,o)}}},Ab=(r,e,i,a,o,h,f,d)=>(m,p)=>{const _=p.listener,y=()=>{const N=new Float32Array(1),z=e(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),w=f(p);let O=!1,X=[0,0,-1,0,1,0],Z=[0,0,0];const F=()=>{if(O)return;O=!0;const ot=a(p,256,9,0);ot.onaudioprocess=({inputBuffer:V})=>{const Y=[h(V,N,0),h(V,N,1),h(V,N,2),h(V,N,3),h(V,N,4),h(V,N,5)];Y.some((et,lt)=>et!==X[lt])&&(_.setOrientation(...Y),X=Y);const $=[h(V,N,6),h(V,N,7),h(V,N,8)];$.some((et,lt)=>et!==Z[lt])&&(_.setPosition(...$),Z=$)},z.connect(ot)},W=ot=>V=>{V!==X[ot]&&(X[ot]=V,_.setOrientation(...X))},it=ot=>V=>{V!==Z[ot]&&(Z[ot]=V,_.setPosition(...Z))},st=(ot,V,Y)=>{const $=i(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:V});$.connect(z,0,ot),$.start(),Object.defineProperty($.offset,"defaultValue",{get(){return V}});const et=r({context:m},w,$.offset,Ge,tn);return d(et,"value",lt=>()=>lt.call(et),lt=>x=>{try{lt.call(et,x)}catch(G){if(G.code!==9)throw G}F(),w&&Y(x)}),et.cancelAndHoldAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.cancelAndHoldAtTime),et.cancelScheduledValues=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.cancelScheduledValues),et.exponentialRampToValueAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.exponentialRampToValueAtTime),et.linearRampToValueAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.linearRampToValueAtTime),et.setTargetAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.setTargetAtTime),et.setValueAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.setValueAtTime),et.setValueCurveAtTime=(lt=>w?()=>{throw o()}:(...x)=>{const G=lt.apply(et,x);return F(),G})(et.setValueCurveAtTime),et};return{forwardX:st(0,0,W(0)),forwardY:st(1,0,W(1)),forwardZ:st(2,-1,W(2)),positionX:st(6,0,it(0)),positionY:st(7,0,it(1)),positionZ:st(8,0,it(2)),upX:st(3,0,W(3)),upY:st(4,1,W(4)),upZ:st(5,0,W(5))}},{forwardX:b,forwardY:T,forwardZ:S,positionX:A,positionY:C,positionZ:M,upX:D,upY:k,upZ:H}=_.forwardX===void 0?y():_;return{get forwardX(){return b},get forwardY(){return T},get forwardZ(){return S},get positionX(){return A},get positionY(){return C},get positionZ(){return M},get upX(){return D},get upY(){return k},get upZ(){return H}}},Oo=r=>"context"in r,Il=r=>Oo(r[0]),ji=(r,e,i,a)=>{for(const o of r)if(i(o)){if(a)return!1;throw Error("The set contains at least one similar element.")}return r.add(e),!0},Jg=(r,e,[i,a],o)=>{ji(r,[e,i,a],h=>h[0]===e&&h[1]===i,o)},$g=(r,[e,i,a],o)=>{const h=r.get(e);h===void 0?r.set(e,new Set([[i,a]])):ji(h,[i,a],f=>f[0]===i,o)},qa=r=>"inputs"in r,Mo=(r,e,i,a)=>{if(qa(e)){const o=e.inputs[a];return r.connect(o,i,0),[o,i,0]}return r.connect(e,i,a),[e,i,a]},N0=(r,e,i)=>{for(const a of r)if(a[0]===e&&a[1]===i)return r.delete(a),a;return null},Cb=(r,e,i)=>Io(r,a=>a[0]===e&&a[1]===i),O0=(r,e)=>{if(!Bl(r).delete(e))throw new Error("Missing the expected event listener.")},M0=(r,e,i)=>{const a=jn(r,e),o=Io(a,h=>h[0]===i);return a.size===0&&r.delete(e),o},Do=(r,e,i,a)=>{qa(e)?r.disconnect(e.inputs[a],i,0):r.disconnect(e,i,a)},ne=r=>jn(Gh,r),jl=r=>jn(Ih,r),zi=r=>zh.has(r),Ao=r=>!Ma.has(r),Pg=(r,e)=>new Promise(i=>{if(e!==null)i(!0);else{const a=r.createScriptProcessor(256,1,1),o=r.createGain(),h=r.createBuffer(1,2,44100),f=h.getChannelData(0);f[0]=1,f[1]=1;const d=r.createBufferSource();d.buffer=h,d.loop=!0,d.connect(a).connect(r.destination),d.connect(o),d.disconnect(o),a.onaudioprocess=m=>{const p=m.inputBuffer.getChannelData(0);Array.prototype.some.call(p,_=>_===1)?i(!0):i(!1),d.stop(),a.onaudioprocess=null,d.disconnect(a),a.disconnect(r.destination)},d.start()}}),Nh=(r,e)=>{const i=new Map;for(const a of r)for(const o of a){const h=i.get(o);i.set(o,h===void 0?1:h+1)}i.forEach((a,o)=>e(o,a))},Ro=r=>"context"in r,wb=r=>{const e=new Map;r.connect=(i=>(a,o=0,h=0)=>{const f=Ro(a)?i(a,o,h):i(a,o),d=e.get(a);return d===void 0?e.set(a,[{input:h,output:o}]):d.every(m=>m.input!==h||m.output!==o)&&d.push({input:h,output:o}),f})(r.connect.bind(r)),r.disconnect=(i=>(a,o,h)=>{if(i.apply(r),a===void 0)e.clear();else if(typeof a=="number")for(const[f,d]of e){const m=d.filter(p=>p.output!==a);m.length===0?e.delete(f):e.set(f,m)}else if(e.has(a))if(o===void 0)e.delete(a);else{const f=e.get(a);if(f!==void 0){const d=f.filter(m=>m.output!==o&&(m.input!==h||h===void 0));d.length===0?e.delete(a):e.set(a,d)}}for(const[f,d]of e)d.forEach(m=>{Ro(f)?r.connect(f,m.output,m.input):r.connect(f,m.output)})})(r.disconnect)},Eb=(r,e,i,a)=>{const{activeInputs:o,passiveInputs:h}=Gl(e),{outputs:f}=Ye(r),d=Bl(r),m=p=>{const _=ne(r),y=jl(e);if(p){const b=M0(h,r,i);Jg(o,r,b,!1),!a&&!zi(r)&&_.connect(y,i)}else{const b=Cb(o,r,i);$g(h,b,!1),!a&&!zi(r)&&_.disconnect(y,i)}};return ji(f,[e,i],p=>p[0]===e&&p[1]===i,!0)?(d.add(m),bs(r)?Jg(o,r,[i,m],!0):$g(h,[r,i,m],!0),!0):!1},Nb=(r,e,i,a)=>{const{activeInputs:o,passiveInputs:h}=Ye(e),f=N0(o[a],r,i);return f===null?[A0(h,r,i,a)[2],!1]:[f[2],!0]},Ob=(r,e,i)=>{const{activeInputs:a,passiveInputs:o}=Gl(e),h=N0(a,r,i);return h===null?[M0(o,r,i)[1],!1]:[h[2],!0]},Xh=(r,e,i,a,o)=>{const[h,f]=Nb(r,i,a,o);if(h!==null&&(O0(r,h),f&&!e&&!zi(r)&&Do(ne(r),ne(i),a,o)),bs(i)){const{activeInputs:d}=Ye(i);qh(i,d)}},Zh=(r,e,i,a)=>{const[o,h]=Ob(r,i,a);o!==null&&(O0(r,o),h&&!e&&!zi(r)&&ne(r).disconnect(jl(i),a))},Mb=(r,e)=>{const i=Ye(r),a=[];for(const o of i.outputs)Il(o)?Xh(r,e,...o):Zh(r,e,...o),a.push(o[0]);return i.outputs.clear(),a},Db=(r,e,i)=>{const a=Ye(r),o=[];for(const h of a.outputs)h[1]===i&&(Il(h)?Xh(r,e,...h):Zh(r,e,...h),o.push(h[0]),a.outputs.delete(h));return o},Rb=(r,e,i,a,o)=>{const h=Ye(r);return Array.from(h.outputs).filter(f=>f[0]===i&&(a===void 0||f[1]===a)&&(o===void 0||f[2]===o)).map(f=>(Il(f)?Xh(r,e,...f):Zh(r,e,...f),h.outputs.delete(f),f[0]))},kb=(r,e,i,a,o,h,f,d,m,p,_,y,b,T,S,A)=>class extends p{constructor(M,D,k,H){super(k),this._context=M,this._nativeAudioNode=k;const N=_(M);y(N)&&i(Pg,()=>Pg(N,A))!==!0&&wb(k),Gh.set(this,k),T0.set(this,new Set),M.state!=="closed"&&D&&Da(this),r(this,H,k)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(M){this._nativeAudioNode.channelCount=M}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(M){this._nativeAudioNode.channelCountMode=M}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(M){this._nativeAudioNode.channelInterpretation=M}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(M,D=0,k=0){if(D<0||D>=this._nativeAudioNode.numberOfOutputs)throw o();const H=_(this._context),N=S(H);if(b(M)||T(M))throw h();if(Oo(M)){const O=ne(M);try{const Z=Mo(this._nativeAudioNode,O,D,k),F=Ao(this);(N||F)&&this._nativeAudioNode.disconnect(...Z),this.context.state!=="closed"&&!F&&Ao(M)&&Da(M)}catch(Z){throw Z.code===12?h():Z}if(e(this,M,D,k,N)){const Z=m([this],M);Nh(Z,a(N))}return M}const z=jl(M);if(z.name==="playbackRate"&&z.maxValue===1024)throw f();try{this._nativeAudioNode.connect(z,D),(N||Ao(this))&&this._nativeAudioNode.disconnect(z,D)}catch(O){throw O.code===12?h():O}if(Eb(this,M,D,N)){const O=m([this],M);Nh(O,a(N))}}disconnect(M,D,k){let H;const N=_(this._context),z=S(N);if(M===void 0)H=Mb(this,z);else if(typeof M=="number"){if(M<0||M>=this.numberOfOutputs)throw o();H=Db(this,z,M)}else{if(D!==void 0&&(D<0||D>=this.numberOfOutputs)||Oo(M)&&k!==void 0&&(k<0||k>=M.numberOfInputs))throw o();if(H=Rb(this,z,M,D,k),H.length===0)throw h()}for(const w of H){const O=m([this],w);Nh(O,d)}}},zb=(r,e,i,a,o,h,f,d,m,p,_,y,b)=>(T,S,A,C=null,M=null)=>{const D=A.value,k=new Y1(D),H=S?a(k):null,N={get defaultValue(){return D},get maxValue(){return C===null?A.maxValue:C},get minValue(){return M===null?A.minValue:M},get value(){return A.value},set value(z){A.value=z,N.setValueAtTime(z,T.context.currentTime)},cancelAndHoldAtTime(z){if(typeof A.cancelAndHoldAtTime=="function")H===null&&k.flush(T.context.currentTime),k.add(o(z)),A.cancelAndHoldAtTime(z);else{const w=Array.from(k).pop();H===null&&k.flush(T.context.currentTime),k.add(o(z));const O=Array.from(k).pop();A.cancelScheduledValues(z),w!==O&&O!==void 0&&(O.type==="exponentialRampToValue"?A.exponentialRampToValueAtTime(O.value,O.endTime):O.type==="linearRampToValue"?A.linearRampToValueAtTime(O.value,O.endTime):O.type==="setValue"?A.setValueAtTime(O.value,O.startTime):O.type==="setValueCurve"&&A.setValueCurveAtTime(O.values,O.startTime,O.duration))}return N},cancelScheduledValues(z){return H===null&&k.flush(T.context.currentTime),k.add(h(z)),A.cancelScheduledValues(z),N},exponentialRampToValueAtTime(z,w){if(z===0)throw new RangeError;if(!Number.isFinite(w)||w<0)throw new RangeError;const O=T.context.currentTime;return H===null&&k.flush(O),Array.from(k).length===0&&(k.add(p(D,O)),A.setValueAtTime(D,O)),k.add(f(z,w)),A.exponentialRampToValueAtTime(z,w),N},linearRampToValueAtTime(z,w){const O=T.context.currentTime;return H===null&&k.flush(O),Array.from(k).length===0&&(k.add(p(D,O)),A.setValueAtTime(D,O)),k.add(d(z,w)),A.linearRampToValueAtTime(z,w),N},setTargetAtTime(z,w,O){return H===null&&k.flush(T.context.currentTime),k.add(m(z,w,O)),A.setTargetAtTime(z,w,O),N},setValueAtTime(z,w){return H===null&&k.flush(T.context.currentTime),k.add(p(z,w)),A.setValueAtTime(z,w),N},setValueCurveAtTime(z,w,O){const X=z instanceof Float32Array?z:new Float32Array(z);if(y!==null&&y.name==="webkitAudioContext"){const Z=w+O,F=T.context.sampleRate,W=Math.ceil(w*F),it=Math.floor(Z*F),st=it-W,ot=new Float32Array(st);for(let Y=0;Y<st;Y+=1){const $=(X.length-1)/O*((W+Y)/F-w),et=Math.floor($),lt=Math.ceil($);ot[Y]=et===lt?X[et]:(1-($-et))*X[et]+(1-(lt-$))*X[lt]}H===null&&k.flush(T.context.currentTime),k.add(_(ot,w,O)),A.setValueCurveAtTime(ot,w,O);const V=it/F;V<Z&&b(N,ot[ot.length-1],V),b(N,X[X.length-1],Z)}else H===null&&k.flush(T.context.currentTime),k.add(_(X,w,O)),A.setValueCurveAtTime(X,w,O);return N}};return i.set(N,A),e.set(N,T),r(N,H),N},Vb=r=>({replay(e){for(const i of r)if(i.type==="exponentialRampToValue"){const{endTime:a,value:o}=i;e.exponentialRampToValueAtTime(o,a)}else if(i.type==="linearRampToValue"){const{endTime:a,value:o}=i;e.linearRampToValueAtTime(o,a)}else if(i.type==="setTarget"){const{startTime:a,target:o,timeConstant:h}=i;e.setTargetAtTime(o,a,h)}else if(i.type==="setValue"){const{startTime:a,value:o}=i;e.setValueAtTime(o,a)}else if(i.type==="setValueCurve"){const{duration:a,startTime:o,values:h}=i;e.setValueCurveAtTime(h,o,a)}else throw new Error("Can't apply an unknown automation.")}});class D0{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,i=null){return this._map.forEach((a,o)=>e.call(i,a,o,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const jb={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},qb=(r,e,i,a,o,h,f,d,m,p,_,y,b,T)=>class extends e{constructor(A,C,M){var D;const k=d(A),H=m(k),N=_({...jb,...M});b(N);const z=Vh.get(k),w=z==null?void 0:z.get(C),O=H||k.state!=="closed"?k:(D=f(k))!==null&&D!==void 0?D:k,X=o(O,H?null:A.baseLatency,p,C,w,N),Z=H?a(C,N,w):null;super(A,!0,X,Z);const F=[];X.parameters.forEach((it,st)=>{const ot=i(this,H,it);F.push([st,ot])}),this._nativeAudioWorkletNode=X,this._onprocessorerror=null,this._parameters=new D0(F),H&&r(k,this);const{activeInputs:W}=h(this);y(X,W)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(A){const C=typeof A=="function"?T(this,A):null;this._nativeAudioWorkletNode.onprocessorerror=C;const M=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=M!==null&&M===C?A:M}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function ko(r,e,i,a,o){if(typeof r.copyFromChannel=="function")e[i].byteLength===0&&(e[i]=new Float32Array(128)),r.copyFromChannel(e[i],a,o);else{const h=r.getChannelData(a);if(e[i].byteLength===0)e[i]=h.slice(o,o+128);else{const f=new Float32Array(h.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);e[i].set(f)}}}const R0=(r,e,i,a,o)=>{typeof r.copyToChannel=="function"?e[i].byteLength!==0&&r.copyToChannel(e[i],a,o):e[i].byteLength!==0&&r.getChannelData(a).set(e[i],o)},zo=(r,e)=>{const i=[];for(let a=0;a<r;a+=1){const o=[],h=typeof e=="number"?e:e[a];for(let f=0;f<h;f+=1)o.push(new Float32Array(128));i.push(o)}return i},Ub=(r,e)=>{const i=jn(jh,r),a=ne(e);return jn(i,a)},Lb=async(r,e,i,a,o,h,f)=>{const d=e===null?Math.ceil(r.context.length/128)*128:e.length,m=a.channelCount*a.numberOfInputs,p=o.reduce((C,M)=>C+M,0),_=p===0?null:i.createBuffer(p,d,i.sampleRate);if(h===void 0)throw new Error("Missing the processor constructor.");const y=Ye(r),b=await Ub(i,r),T=zo(a.numberOfInputs,a.channelCount),S=zo(a.numberOfOutputs,o),A=Array.from(r.parameters.keys()).reduce((C,M)=>({...C,[M]:new Float32Array(128)}),{});for(let C=0;C<d;C+=128){if(a.numberOfInputs>0&&e!==null)for(let M=0;M<a.numberOfInputs;M+=1)for(let D=0;D<a.channelCount;D+=1)ko(e,T[M],D,D,C);h.parameterDescriptors!==void 0&&e!==null&&h.parameterDescriptors.forEach(({name:M},D)=>{ko(e,A,M,m+D,C)});for(let M=0;M<a.numberOfInputs;M+=1)for(let D=0;D<o[M];D+=1)S[M][D].byteLength===0&&(S[M][D]=new Float32Array(128));try{const M=T.map((k,H)=>y.activeInputs[H].size===0?[]:k),D=f(C/i.sampleRate,i.sampleRate,()=>b.process(M,S,A));if(_!==null)for(let k=0,H=0;k<a.numberOfOutputs;k+=1){for(let N=0;N<o[k];N+=1)R0(_,S[k],N,H+N,C);H+=o[k]}if(!D)break}catch(M){r.dispatchEvent(new ErrorEvent("processorerror",{colno:M.colno,filename:M.filename,lineno:M.lineno,message:M.message}));break}}return _},Bb=(r,e,i,a,o,h,f,d,m,p,_,y,b,T,S,A)=>(C,M,D)=>{const k=new WeakMap;let H=null;const N=async(z,w)=>{let O=_(z),X=null;const Z=Le(O,w),F=Array.isArray(M.outputChannelCount)?M.outputChannelCount:Array.from(M.outputChannelCount);if(y===null){const W=F.reduce((V,Y)=>V+Y,0),it=o(w,{channelCount:Math.max(1,W),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,W)}),st=[];for(let V=0;V<z.numberOfOutputs;V+=1)st.push(a(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:F[V]}));const ot=f(w,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1});ot.connect=e.bind(null,st),ot.disconnect=m.bind(null,st),X=[it,st,ot]}else Z||(O=new y(w,C));if(k.set(w,X===null?O:X[2]),X!==null){if(H===null){if(D===void 0)throw new Error("Missing the processor constructor.");if(b===null)throw new Error("Missing the native OfflineAudioContext constructor.");const Y=z.channelCount*z.numberOfInputs,$=D.parameterDescriptors===void 0?0:D.parameterDescriptors.length,et=Y+$;H=Lb(z,et===0?null:await(async()=>{const x=new b(et,Math.ceil(z.context.length/128)*128,w.sampleRate),G=[],P=[];for(let ut=0;ut<M.numberOfInputs;ut+=1)G.push(f(x,{channelCount:M.channelCount,channelCountMode:M.channelCountMode,channelInterpretation:M.channelInterpretation,gain:1})),P.push(o(x,{channelCount:M.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:M.channelCount}));const at=await Promise.all(Array.from(z.parameters.values()).map(async ut=>{const vt=h(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ut.value});return await T(x,ut,vt.offset),vt})),nt=a(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,Y+$)});for(let ut=0;ut<M.numberOfInputs;ut+=1){G[ut].connect(P[ut]);for(let vt=0;vt<M.channelCount;vt+=1)P[ut].connect(nt,vt,ut*M.channelCount+vt)}for(const[ut,vt]of at.entries())vt.connect(nt,0,Y+ut),vt.start(0);return nt.connect(x.destination),await Promise.all(G.map(ut=>S(z,x,ut))),A(x)})(),w,M,F,D,p)}const W=await H,it=i(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[st,ot,V]=X;W!==null&&(it.buffer=W,it.start(0)),it.connect(st);for(let Y=0,$=0;Y<z.numberOfOutputs;Y+=1){const et=ot[Y];for(let lt=0;lt<F[Y];lt+=1)st.connect(et,$+lt,lt);$+=F[Y]}return V}if(Z)for(const[W,it]of z.parameters.entries())await r(w,it,O.parameters.get(W));else for(const[W,it]of z.parameters.entries())await T(w,it,O.parameters.get(W));return await S(z,w,O),O};return{render(z,w){d(w,z);const O=k.get(w);return O!==void 0?Promise.resolve(O):N(z,w)}}},Hb=(r,e,i,a,o,h,f,d,m,p,_,y,b,T,S,A,C,M,D,k)=>class extends S{constructor(N,z){super(N,z),this._nativeContext=N,this._audioWorklet=r===void 0?void 0:{addModule:(w,O)=>r(this,w,O)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new o(this)}createBuffer(N,z,w){return new i({length:z,numberOfChannels:N,sampleRate:w})}createBufferSource(){return new a(this)}createChannelMerger(N=6){return new h(this,{numberOfInputs:N})}createChannelSplitter(N=6){return new f(this,{numberOfOutputs:N})}createConstantSource(){return new d(this)}createConvolver(){return new m(this)}createDelay(N=1){return new _(this,{maxDelayTime:N})}createDynamicsCompressor(){return new y(this)}createGain(){return new b(this)}createIIRFilter(N,z){return new T(this,{feedback:z,feedforward:N})}createOscillator(){return new A(this)}createPanner(){return new C(this)}createPeriodicWave(N,z,w={disableNormalization:!1}){return new M(this,{...w,imag:z,real:N})}createStereoPanner(){return new D(this)}createWaveShaper(){return new k(this)}decodeAudioData(N,z,w){return p(this._nativeContext,N).then(O=>(typeof z=="function"&&z(O),O),O=>{throw typeof w=="function"&&w(O),O})}},Gb={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Ib=(r,e,i,a,o,h,f,d)=>class extends r{constructor(p,_){const y=h(p),b={...Gb,..._},T=o(y,b),S=f(y),A=S?i():null;super(p,!1,T,A),this._Q=e(this,S,T.Q,Ge,tn),this._detune=e(this,S,T.detune,1200*Math.log2(Ge),-1200*Math.log2(Ge)),this._frequency=e(this,S,T.frequency,p.sampleRate/2,0),this._gain=e(this,S,T.gain,40*Math.log10(Ge),tn),this._nativeBiquadFilterNode=T,d(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(p){this._nativeBiquadFilterNode.type=p}getFrequencyResponse(p,_,y){try{this._nativeBiquadFilterNode.getFrequencyResponse(p,_,y)}catch(b){throw b.code===11?a():b}if(p.length!==_.length||_.length!==y.length)throw a()}},Yb=(r,e,i,a,o)=>()=>{const h=new WeakMap,f=async(d,m)=>{let p=i(d);const _=Le(p,m);if(!_){const y={Q:p.Q.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,detune:p.detune.value,frequency:p.frequency.value,gain:p.gain.value,type:p.type};p=e(m,y)}return h.set(m,p),_?(await r(m,d.Q,p.Q),await r(m,d.detune,p.detune),await r(m,d.frequency,p.frequency),await r(m,d.gain,p.gain)):(await a(m,d.Q,p.Q),await a(m,d.detune,p.detune),await a(m,d.frequency,p.frequency),await a(m,d.gain,p.gain)),await o(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},Xb=(r,e)=>(i,a)=>{const o=e.get(i);if(o!==void 0)return o;const h=r.get(i);if(h!==void 0)return h;try{const f=a();return f instanceof Promise?(r.set(i,f),f.catch(()=>!1).then(d=>(r.delete(i),e.set(i,d),d))):(e.set(i,f),f)}catch{return e.set(i,!1),!1}},Zb={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Qb=(r,e,i,a,o)=>class extends r{constructor(f,d){const m=a(f),p={...Zb,...d},_=i(m,p),y=o(m)?e():null;super(f,!1,_,y)}},Fb=(r,e,i)=>()=>{const a=new WeakMap,o=async(h,f)=>{let d=e(h);if(!Le(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfInputs:d.numberOfInputs};d=r(f,p)}return a.set(f,d),await i(h,f,d),d};return{render(h,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(h,f)}}},Wb={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Kb=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=a(d),_=h({...Wb,...m}),y=i(p,_),b=o(p)?e():null;super(d,!1,y,b)}},Jb=(r,e,i)=>()=>{const a=new WeakMap,o=async(h,f)=>{let d=e(h);if(!Le(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,numberOfOutputs:d.numberOfOutputs};d=r(f,p)}return a.set(f,d),await i(h,f,d),d};return{render(h,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(h,f)}}},$b=r=>(e,i,a)=>r(i,e,a),Pb=r=>(e,i,a=0,o=0)=>{const h=e[a];if(h===void 0)throw r();return Ro(i)?h.connect(i,0,o):h.connect(i,0)},tS=r=>(e,i)=>{const a=r(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),o=e.createBuffer(1,2,44100);return a.buffer=o,a.loop=!0,a.connect(i),a.start(),()=>{a.stop(),a.disconnect(i)}},eS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},nS=(r,e,i,a,o,h,f)=>class extends r{constructor(m,p){const _=o(m),y={...eS,...p},b=a(_,y),T=h(_),S=T?i():null;super(m,!1,b,S),this._constantSourceNodeRenderer=S,this._nativeConstantSourceNode=b,this._offset=e(this,T,b.offset,Ge,tn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeConstantSourceNode.onended=p;const _=this._nativeConstantSourceNode.onended;this._onended=_!==null&&_===p?m:_}start(m=0){if(this._nativeConstantSourceNode.start(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=m),this.context.state!=="closed"){Da(this);const p=()=>{this._nativeConstantSourceNode.removeEventListener("ended",p),bs(this)&&Hl(this)};this._nativeConstantSourceNode.addEventListener("ended",p)}}stop(m=0){this._nativeConstantSourceNode.stop(m),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=m)}},sS=(r,e,i,a,o)=>()=>{const h=new WeakMap;let f=null,d=null;const m=async(p,_)=>{let y=i(p);const b=Le(y,_);if(!b){const T={channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,offset:y.offset.value};y=e(_,T),f!==null&&y.start(f),d!==null&&y.stop(d)}return h.set(_,y),b?await r(_,p.offset,y.offset):await a(_,p.offset,y.offset),await o(p,_,y),y};return{set start(p){f=p},set stop(p){d=p},render(p,_){const y=h.get(_);return y!==void 0?Promise.resolve(y):m(p,_)}}},iS=r=>e=>(r[0]=e,r[0]),aS={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},lS=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=a(d),_={...aS,...m},y=i(p,_),T=o(p)?e():null;super(d,!1,y,T),this._isBufferNullified=!1,this._nativeConvolverNode=y,_.buffer!==null&&h(this,_.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(d){if(this._nativeConvolverNode.buffer=d,d===null&&this._nativeConvolverNode.buffer!==null){const m=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=m.createBuffer(1,1,m.sampleRate),this._isBufferNullified=!0,h(this,0)}else this._isBufferNullified=!1,h(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(d){this._nativeConvolverNode.normalize=d}},rS=(r,e,i)=>()=>{const a=new WeakMap,o=async(h,f)=>{let d=e(h);if(!Le(d,f)){const p={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,disableNormalization:!d.normalize};d=r(f,p)}return a.set(f,d),qa(d)?await i(h,f,d.inputs[0]):await i(h,f,d),d};return{render(h,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(h,f)}}},oS=(r,e)=>(i,a,o)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(i,a,o)}catch(h){throw h.name==="SyntaxError"?r():h}},cS=()=>new DOMException("","DataCloneError"),t0=r=>{const{port1:e,port2:i}=new MessageChannel;return new Promise(a=>{const o=()=>{i.onmessage=null,e.close(),i.close(),a()};i.onmessage=()=>o();try{e.postMessage(r,[r])}catch{}finally{o()}})},uS=(r,e,i,a,o,h,f,d,m,p,_)=>(y,b)=>{const T=f(y)?y:h(y);if(o.has(b)){const S=i();return Promise.reject(S)}try{o.add(b)}catch{}return e(m,()=>m(T))?T.decodeAudioData(b).then(S=>(t0(b).catch(()=>{}),e(d,()=>d(S))||_(S),r.add(S),S)):new Promise((S,A)=>{const C=async()=>{try{await t0(b)}catch{}},M=D=>{A(D),C()};try{T.decodeAudioData(b,D=>{typeof D.copyFromChannel!="function"&&(p(D),Yh(D)),r.add(D),C().then(()=>S(D))},D=>{M(D===null?a():D)})}catch(D){M(D)}})},hS=(r,e,i,a,o,h,f,d)=>(m,p)=>{const _=e.get(m);if(_===void 0)throw new Error("Missing the expected cycle count.");const y=h(m.context),b=d(y);if(_===p){if(e.delete(m),!b&&f(m)){const T=a(m),{outputs:S}=i(m);for(const A of S)if(Il(A)){const C=a(A[0]);r(T,C,A[1],A[2])}else{const C=o(A[0]);T.connect(C,A[1])}}}else e.set(m,_-p)},fS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},dS=(r,e,i,a,o,h,f)=>class extends r{constructor(m,p){const _=o(m),y={...fS,...p},b=a(_,y),T=h(_),S=T?i(y.maxDelayTime):null;super(m,!1,b,S),this._delayTime=e(this,T,b.delayTime),f(this,y.maxDelayTime)}get delayTime(){return this._delayTime}},pS=(r,e,i,a,o)=>h=>{const f=new WeakMap,d=async(m,p)=>{let _=i(m);const y=Le(_,p);if(!y){const b={channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,delayTime:_.delayTime.value,maxDelayTime:h};_=e(p,b)}return f.set(p,_),y?await r(p,m.delayTime,_.delayTime):await a(p,m.delayTime,_.delayTime),await o(m,p,_),_};return{render(m,p){const _=f.get(p);return _!==void 0?Promise.resolve(_):d(m,p)}}},mS=r=>(e,i,a,o)=>r(e[o],h=>h[0]===i&&h[1]===a),gS=r=>(e,i)=>{r(e).delete(i)},_S=r=>"delayTime"in r,yS=(r,e,i)=>function a(o,h){const f=Oo(h)?h:i(r,h);if(_S(f))return[];if(o[0]===f)return[o];if(o.includes(f))return[];const{outputs:d}=e(f);return Array.from(d).map(m=>a([...o,f],m[0])).reduce((m,p)=>m.concat(p),[])},bo=(r,e,i)=>{const a=e[i];if(a===void 0)throw r();return a},vS=r=>(e,i=void 0,a=void 0,o=0)=>i===void 0?e.forEach(h=>h.disconnect()):typeof i=="number"?bo(r,e,i).disconnect():Ro(i)?a===void 0?e.forEach(h=>h.disconnect(i)):o===void 0?bo(r,e,a).disconnect(i,0):bo(r,e,a).disconnect(i,0,o):a===void 0?e.forEach(h=>h.disconnect(i)):bo(r,e,a).disconnect(i,0),bS={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},SS=(r,e,i,a,o,h,f,d)=>class extends r{constructor(p,_){const y=h(p),b={...bS,..._},T=a(y,b),S=f(y),A=S?i():null;super(p,!1,T,A),this._attack=e(this,S,T.attack),this._knee=e(this,S,T.knee),this._nativeDynamicsCompressorNode=T,this._ratio=e(this,S,T.ratio),this._release=e(this,S,T.release),this._threshold=e(this,S,T.threshold),d(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(p){const _=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=p,p>2)throw this._nativeDynamicsCompressorNode.channelCount=_,o()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(p){const _=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=p,p==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=_,o()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},TS=(r,e,i,a,o)=>()=>{const h=new WeakMap,f=async(d,m)=>{let p=i(d);const _=Le(p,m);if(!_){const y={attack:p.attack.value,channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,knee:p.knee.value,ratio:p.ratio.value,release:p.release.value,threshold:p.threshold.value};p=e(m,y)}return h.set(m,p),_?(await r(m,d.attack,p.attack),await r(m,d.knee,p.knee),await r(m,d.ratio,p.ratio),await r(m,d.release,p.release),await r(m,d.threshold,p.threshold)):(await a(m,d.attack,p.attack),await a(m,d.knee,p.knee),await a(m,d.ratio,p.ratio),await a(m,d.release,p.release),await a(m,d.threshold,p.threshold)),await o(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},xS=()=>new DOMException("","EncodingError"),AS=r=>e=>new Promise((i,a)=>{if(r===null){a(new SyntaxError);return}const o=r.document.head;if(o===null)a(new SyntaxError);else{const h=r.document.createElement("script"),f=new Blob([e],{type:"application/javascript"}),d=URL.createObjectURL(f),m=r.onerror,p=()=>{r.onerror=m,URL.revokeObjectURL(d)};r.onerror=(_,y,b,T,S)=>{if(y===d||y===r.location.href&&b===1&&T===1)return p(),a(S),!1;if(m!==null)return m(_,y,b,T,S)},h.onerror=()=>{p(),a(new SyntaxError)},h.onload=()=>{p(),i()},h.src=d,h.type="module",o.appendChild(h)}}),CS=r=>class{constructor(i){this._nativeEventTarget=i,this._listeners=new WeakMap}addEventListener(i,a,o){if(a!==null){let h=this._listeners.get(a);h===void 0&&(h=r(this,a),typeof a=="function"&&this._listeners.set(a,h)),this._nativeEventTarget.addEventListener(i,h,o)}}dispatchEvent(i){return this._nativeEventTarget.dispatchEvent(i)}removeEventListener(i,a,o){const h=a===null?void 0:this._listeners.get(a);this._nativeEventTarget.removeEventListener(i,h===void 0?null:h,o)}},wS=r=>(e,i,a)=>{Object.defineProperties(r,{currentFrame:{configurable:!0,get(){return Math.round(e*i)}},currentTime:{configurable:!0,get(){return e}}});try{return a()}finally{r!==null&&(delete r.currentFrame,delete r.currentTime)}},ES=r=>async e=>{try{const i=await fetch(e);if(i.ok)return[await i.text(),i.url]}catch{}throw r()},NS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},OS=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=o(d),_={...NS,...m},y=a(p,_),b=h(p),T=b?i():null;super(d,!1,y,T),this._gain=e(this,b,y.gain,Ge,tn)}get gain(){return this._gain}},MS=(r,e,i,a,o)=>()=>{const h=new WeakMap,f=async(d,m)=>{let p=i(d);const _=Le(p,m);if(!_){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:p.gain.value};p=e(m,y)}return h.set(m,p),_?await r(m,d.gain,p.gain):await a(m,d.gain,p.gain),await o(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},DS=(r,e)=>i=>e(r,i),RS=r=>e=>{const i=r(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return i.renderer},kS=r=>e=>{var i;return(i=r.get(e))!==null&&i!==void 0?i:0},zS=r=>e=>{const i=r(e);if(i.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return i.renderer},VS=r=>e=>r.get(e),Ce=()=>new DOMException("","InvalidStateError"),jS=r=>e=>{const i=r.get(e);if(i===void 0)throw Ce();return i},qS=(r,e)=>i=>{let a=r.get(i);if(a!==void 0)return a;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return a=new e(1,1,44100),r.set(i,a),a},US=r=>e=>{const i=r.get(e);if(i===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return i},Yo=()=>new DOMException("","InvalidAccessError"),LS=r=>{r.getFrequencyResponse=(e=>(i,a,o)=>{if(i.length!==a.length||a.length!==o.length)throw Yo();return e.call(r,i,a,o)})(r.getFrequencyResponse)},BS={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},HS=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=a(d),_=o(p),y={...BS,...m},b=e(p,_?null:d.baseLatency,y),T=_?i(y.feedback,y.feedforward):null;super(d,!1,b,T),LS(b),this._nativeIIRFilterNode=b,h(this,1)}getFrequencyResponse(d,m,p){return this._nativeIIRFilterNode.getFrequencyResponse(d,m,p)}},k0=(r,e,i,a,o,h,f,d,m,p,_)=>{const y=p.length;let b=d;for(let T=0;T<y;T+=1){let S=i[0]*p[T];for(let A=1;A<o;A+=1){const C=b-A&m-1;S+=i[A]*h[C],S-=r[A]*f[C]}for(let A=o;A<a;A+=1)S+=i[A]*h[b-A&m-1];for(let A=o;A<e;A+=1)S-=r[A]*f[b-A&m-1];h[b]=p[T],f[b]=S,b=b+1&m-1,_[T]=S}return b},GS=(r,e,i,a)=>{const o=i instanceof Float64Array?i:new Float64Array(i),h=a instanceof Float64Array?a:new Float64Array(a),f=o.length,d=h.length,m=Math.min(f,d);if(o[0]!==1){for(let S=0;S<f;S+=1)h[S]/=o[0];for(let S=1;S<d;S+=1)o[S]/=o[0]}const p=32,_=new Float32Array(p),y=new Float32Array(p),b=e.createBuffer(r.numberOfChannels,r.length,r.sampleRate),T=r.numberOfChannels;for(let S=0;S<T;S+=1){const A=r.getChannelData(S),C=b.getChannelData(S);_.fill(0),y.fill(0),k0(o,f,h,d,m,_,y,0,p,A,C)}return b},IS=(r,e,i,a,o)=>(h,f)=>{const d=new WeakMap;let m=null;const p=async(_,y)=>{let b=null,T=e(_);const S=Le(T,y);if(y.createIIRFilter===void 0?b=r(y,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):S||(T=y.createIIRFilter(f,h)),d.set(y,b===null?T:b),b!==null){if(m===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new i(_.context.destination.channelCount,_.context.length,y.sampleRate);m=(async()=>{await a(_,C,C.destination);const M=await o(C);return GS(M,y,h,f)})()}const A=await m;return b.buffer=A,b.start(0),b}return await a(_,y,T),T};return{render(_,y){const b=d.get(y);return b!==void 0?Promise.resolve(b):p(_,y)}}},YS=(r,e,i,a,o,h)=>f=>(d,m)=>{const p=r.get(d);if(p===void 0){if(!f&&h(d)){const _=a(d),{outputs:y}=i(d);for(const b of y)if(Il(b)){const T=a(b[0]);e(_,T,b[1],b[2])}else{const T=o(b[0]);_.disconnect(T,b[1])}}r.set(d,m)}else r.set(d,p+m)},XS=(r,e)=>i=>{const a=r.get(i);return e(a)||e(i)},ZS=(r,e)=>i=>r.has(i)||e(i),QS=(r,e)=>i=>r.has(i)||e(i),FS=(r,e)=>i=>{const a=r.get(i);return e(a)||e(i)},WS=r=>e=>r!==null&&e instanceof r,KS=r=>e=>r!==null&&typeof r.AudioNode=="function"&&e instanceof r.AudioNode,JS=r=>e=>r!==null&&typeof r.AudioParam=="function"&&e instanceof r.AudioParam,$S=(r,e)=>i=>r(i)||e(i),PS=r=>e=>r!==null&&e instanceof r,tT=r=>r!==null&&r.isSecureContext,eT=(r,e,i,a)=>class extends r{constructor(h,f){const d=i(h),m=e(d,f);if(a(d))throw TypeError();super(h,!0,m,null),this._nativeMediaElementAudioSourceNode=m}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},nT={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},sT=(r,e,i,a)=>class extends r{constructor(h,f){const d=i(h);if(a(d))throw new TypeError;const m={...nT,...f},p=e(d,m);super(h,!1,p,null),this._nativeMediaStreamAudioDestinationNode=p}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},iT=(r,e,i,a)=>class extends r{constructor(h,f){const d=i(h),m=e(d,f);if(a(d))throw new TypeError;super(h,!0,m,null),this._nativeMediaStreamAudioSourceNode=m}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},aT=(r,e,i)=>class extends r{constructor(o,h){const f=i(o),d=e(f,h);super(o,!0,d,null)}},lT=(r,e,i,a,o,h)=>class extends i{constructor(d,m){super(d),this._nativeContext=d,Go.set(this,d),a(d)&&o.set(d,new Set),this._destination=new r(this,m),this._listener=e(this,d),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(d){const m=typeof d=="function"?h(this,d):null;this._nativeContext.onstatechange=m;const p=this._nativeContext.onstatechange;this._onstatechange=p!==null&&p===m?d:p}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},ql=r=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const i=r.decodeAudioData(e.buffer,()=>{});return i===void 0?!1:(i.catch(()=>{}),!0)}catch{}return!1},rT=(r,e)=>(i,a,o)=>{const h=new Set;return i.connect=(f=>(d,m=0,p=0)=>{const _=h.size===0;if(e(d))return f.call(i,d,m,p),r(h,[d,m,p],y=>y[0]===d&&y[1]===m&&y[2]===p,!0),_&&a(),d;f.call(i,d,m),r(h,[d,m],y=>y[0]===d&&y[1]===m,!0),_&&a()})(i.connect),i.disconnect=(f=>(d,m,p)=>{const _=h.size>0;if(d===void 0)f.apply(i),h.clear();else if(typeof d=="number"){f.call(i,d);for(const b of h)b[1]===d&&h.delete(b)}else{e(d)?f.call(i,d,m,p):f.call(i,d,m);for(const b of h)b[0]===d&&(m===void 0||b[1]===m)&&(p===void 0||b[2]===p)&&h.delete(b)}const y=h.size===0;_&&y&&o()})(i.disconnect),i},ie=(r,e,i)=>{const a=e[i];a!==void 0&&a!==r[i]&&(r[i]=a)},Te=(r,e)=>{ie(r,e,"channelCount"),ie(r,e,"channelCountMode"),ie(r,e,"channelInterpretation")},e0=r=>typeof r.getFloatTimeDomainData=="function",oT=r=>{r.getFloatTimeDomainData=e=>{const i=new Uint8Array(e.length);r.getByteTimeDomainData(i);const a=Math.max(i.length,r.fftSize);for(let o=0;o<a;o+=1)e[o]=(i[o]-128)*.0078125;return e}},cT=(r,e)=>(i,a)=>{const o=i.createAnalyser();if(Te(o,a),!(a.maxDecibels>a.minDecibels))throw e();return ie(o,a,"fftSize"),ie(o,a,"maxDecibels"),ie(o,a,"minDecibels"),ie(o,a,"smoothingTimeConstant"),r(e0,()=>e0(o))||oT(o),o},uT=r=>r===null?null:r.hasOwnProperty("AudioBuffer")?r.AudioBuffer:null,ue=(r,e,i)=>{const a=e[i];a!==void 0&&a!==r[i].value&&(r[i].value=a)},hT=r=>{r.start=(e=>{let i=!1;return(a=0,o=0,h)=>{if(i)throw Ce();e.call(r,a,o,h),i=!0}})(r.start)},Qh=r=>{r.start=(e=>(i=0,a=0,o)=>{if(typeof o=="number"&&o<0||a<0||i<0)throw new RangeError("The parameters can't be negative.");e.call(r,i,a,o)})(r.start)},Fh=r=>{r.stop=(e=>(i=0)=>{if(i<0)throw new RangeError("The parameter can't be negative.");e.call(r,i)})(r.stop)},fT=(r,e,i,a,o,h,f,d,m,p,_)=>(y,b)=>{const T=y.createBufferSource();return Te(T,b),ue(T,b,"playbackRate"),ie(T,b,"buffer"),ie(T,b,"loop"),ie(T,b,"loopEnd"),ie(T,b,"loopStart"),e(i,()=>i(y))||hT(T),e(a,()=>a(y))||m(T),e(o,()=>o(y))||p(T,y),e(h,()=>h(y))||Qh(T),e(f,()=>f(y))||_(T,y),e(d,()=>d(y))||Fh(T),r(y,T),T},dT=r=>r===null?null:r.hasOwnProperty("AudioContext")?r.AudioContext:r.hasOwnProperty("webkitAudioContext")?r.webkitAudioContext:null,pT=(r,e)=>(i,a,o)=>{const h=i.destination;if(h.channelCount!==a)try{h.channelCount=a}catch{}o&&h.channelCountMode!=="explicit"&&(h.channelCountMode="explicit"),h.maxChannelCount===0&&Object.defineProperty(h,"maxChannelCount",{value:a});const f=r(i,{channelCount:a,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,gain:1});return e(f,"channelCount",d=>()=>d.call(f),d=>m=>{d.call(f,m);try{h.channelCount=m}catch(p){if(m>h.maxChannelCount)throw p}}),e(f,"channelCountMode",d=>()=>d.call(f),d=>m=>{d.call(f,m),h.channelCountMode=m}),e(f,"channelInterpretation",d=>()=>d.call(f),d=>m=>{d.call(f,m),h.channelInterpretation=m}),Object.defineProperty(f,"maxChannelCount",{get:()=>h.maxChannelCount}),f.connect(h),f},mT=r=>r===null?null:r.hasOwnProperty("AudioWorkletNode")?r.AudioWorkletNode:null,gT=r=>{const{port1:e}=new MessageChannel;try{e.postMessage(r)}finally{e.close()}},_T=(r,e,i,a,o)=>(h,f,d,m,p,_)=>{if(d!==null)try{const y=new d(h,m,_),b=new Map;let T=null;if(Object.defineProperties(y,{channelCount:{get:()=>_.channelCount,set:()=>{throw r()}},channelCountMode:{get:()=>"explicit",set:()=>{throw r()}},onprocessorerror:{get:()=>T,set:S=>{typeof T=="function"&&y.removeEventListener("processorerror",T),T=typeof S=="function"?S:null,typeof T=="function"&&y.addEventListener("processorerror",T)}}}),y.addEventListener=(S=>(...A)=>{if(A[0]==="processorerror"){const C=typeof A[1]=="function"?A[1]:typeof A[1]=="object"&&A[1]!==null&&typeof A[1].handleEvent=="function"?A[1].handleEvent:null;if(C!==null){const M=b.get(A[1]);M!==void 0?A[1]=M:(A[1]=D=>{D.type==="error"?(Object.defineProperties(D,{type:{value:"processorerror"}}),C(D)):C(new ErrorEvent(A[0],{...D}))},b.set(C,A[1]))}}return S.call(y,"error",A[1],A[2]),S.call(y,...A)})(y.addEventListener),y.removeEventListener=(S=>(...A)=>{if(A[0]==="processorerror"){const C=b.get(A[1]);C!==void 0&&(b.delete(A[1]),A[1]=C)}return S.call(y,"error",A[1],A[2]),S.call(y,A[0],A[1],A[2])})(y.removeEventListener),_.numberOfOutputs!==0){const S=i(h,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return y.connect(S).connect(h.destination),o(y,()=>S.disconnect(),()=>S.connect(h.destination))}return y}catch(y){throw y.code===11?a():y}if(p===void 0)throw a();return gT(_),e(h,f,p,_)},z0=(r,e)=>r===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(r*e))))),yT=r=>new Promise((e,i)=>{const{port1:a,port2:o}=new MessageChannel;a.onmessage=({data:h})=>{a.close(),o.close(),e(h)},a.onmessageerror=({data:h})=>{a.close(),o.close(),i(h)},o.postMessage(r)}),vT=async(r,e)=>{const i=await yT(e);return new r(i)},bT=(r,e,i,a)=>{let o=jh.get(r);o===void 0&&(o=new WeakMap,jh.set(r,o));const h=vT(i,a);return o.set(e,h),h},ST=(r,e,i,a,o,h,f,d,m,p,_,y,b)=>(T,S,A,C)=>{if(C.numberOfInputs===0&&C.numberOfOutputs===0)throw m();const M=Array.isArray(C.outputChannelCount)?C.outputChannelCount:Array.from(C.outputChannelCount);if(M.some(tt=>tt<1))throw m();if(M.length!==C.numberOfOutputs)throw e();if(C.channelCountMode!=="explicit")throw m();const D=C.channelCount*C.numberOfInputs,k=M.reduce((tt,pt)=>tt+pt,0),H=A.parameterDescriptors===void 0?0:A.parameterDescriptors.length;if(D+H>6||k>6)throw m();const N=new MessageChannel,z=[],w=[];for(let tt=0;tt<C.numberOfInputs;tt+=1)z.push(f(T,{channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation,gain:1})),w.push(o(T,{channelCount:C.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:C.channelCount}));const O=[];if(A.parameterDescriptors!==void 0)for(const{defaultValue:tt,maxValue:pt,minValue:ae,name:Kt}of A.parameterDescriptors){const Dt=h(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:C.parameterData[Kt]!==void 0?C.parameterData[Kt]:tt===void 0?0:tt});Object.defineProperties(Dt.offset,{defaultValue:{get:()=>tt===void 0?0:tt},maxValue:{get:()=>pt===void 0?Ge:pt},minValue:{get:()=>ae===void 0?tn:ae}}),O.push(Dt)}const X=a(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,D+H)}),Z=z0(S,T.sampleRate),F=d(T,Z,D+H,Math.max(1,k)),W=o(T,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),it=[];for(let tt=0;tt<C.numberOfOutputs;tt+=1)it.push(a(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[tt]}));for(let tt=0;tt<C.numberOfInputs;tt+=1){z[tt].connect(w[tt]);for(let pt=0;pt<C.channelCount;pt+=1)w[tt].connect(X,pt,tt*C.channelCount+pt)}const st=new D0(A.parameterDescriptors===void 0?[]:A.parameterDescriptors.map(({name:tt},pt)=>{const ae=O[pt];return ae.connect(X,0,D+pt),ae.start(0),[tt,ae.offset]}));X.connect(F);let ot=C.channelInterpretation,V=null;const Y=C.numberOfOutputs===0?[F]:it,$={get bufferSize(){return Z},get channelCount(){return C.channelCount},set channelCount(tt){throw i()},get channelCountMode(){return C.channelCountMode},set channelCountMode(tt){throw i()},get channelInterpretation(){return ot},set channelInterpretation(tt){for(const pt of z)pt.channelInterpretation=tt;ot=tt},get context(){return F.context},get inputs(){return z},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get onprocessorerror(){return V},set onprocessorerror(tt){typeof V=="function"&&$.removeEventListener("processorerror",V),V=typeof tt=="function"?tt:null,typeof V=="function"&&$.addEventListener("processorerror",V)},get parameters(){return st},get port(){return N.port2},addEventListener(...tt){return F.addEventListener(tt[0],tt[1],tt[2])},connect:r.bind(null,Y),disconnect:p.bind(null,Y),dispatchEvent(...tt){return F.dispatchEvent(tt[0])},removeEventListener(...tt){return F.removeEventListener(tt[0],tt[1],tt[2])}},et=new Map;N.port1.addEventListener=(tt=>(...pt)=>{if(pt[0]==="message"){const ae=typeof pt[1]=="function"?pt[1]:typeof pt[1]=="object"&&pt[1]!==null&&typeof pt[1].handleEvent=="function"?pt[1].handleEvent:null;if(ae!==null){const Kt=et.get(pt[1]);Kt!==void 0?pt[1]=Kt:(pt[1]=Dt=>{_(T.currentTime,T.sampleRate,()=>ae(Dt))},et.set(ae,pt[1]))}}return tt.call(N.port1,pt[0],pt[1],pt[2])})(N.port1.addEventListener),N.port1.removeEventListener=(tt=>(...pt)=>{if(pt[0]==="message"){const ae=et.get(pt[1]);ae!==void 0&&(et.delete(pt[1]),pt[1]=ae)}return tt.call(N.port1,pt[0],pt[1],pt[2])})(N.port1.removeEventListener);let lt=null;Object.defineProperty(N.port1,"onmessage",{get:()=>lt,set:tt=>{typeof lt=="function"&&N.port1.removeEventListener("message",lt),lt=typeof tt=="function"?tt:null,typeof lt=="function"&&(N.port1.addEventListener("message",lt),N.port1.start())}}),A.prototype.port=N.port1;let x=null;bT(T,$,A,C).then(tt=>x=tt);const P=zo(C.numberOfInputs,C.channelCount),at=zo(C.numberOfOutputs,M),nt=A.parameterDescriptors===void 0?[]:A.parameterDescriptors.reduce((tt,{name:pt})=>({...tt,[pt]:new Float32Array(128)}),{});let ut=!0;const vt=()=>{C.numberOfOutputs>0&&F.disconnect(W);for(let tt=0,pt=0;tt<C.numberOfOutputs;tt+=1){const ae=it[tt];for(let Kt=0;Kt<M[tt];Kt+=1)W.disconnect(ae,pt+Kt,Kt);pt+=M[tt]}},rt=new Map;F.onaudioprocess=({inputBuffer:tt,outputBuffer:pt})=>{if(x!==null){const ae=y($);for(let Kt=0;Kt<Z;Kt+=128){for(let Dt=0;Dt<C.numberOfInputs;Dt+=1)for(let Jt=0;Jt<C.channelCount;Jt+=1)ko(tt,P[Dt],Jt,Jt,Kt);A.parameterDescriptors!==void 0&&A.parameterDescriptors.forEach(({name:Dt},Jt)=>{ko(tt,nt,Dt,D+Jt,Kt)});for(let Dt=0;Dt<C.numberOfInputs;Dt+=1)for(let Jt=0;Jt<M[Dt];Jt+=1)at[Dt][Jt].byteLength===0&&(at[Dt][Jt]=new Float32Array(128));try{const Dt=P.map((je,Gn)=>{if(ae[Gn].size>0)return rt.set(Gn,Z/128),je;const Ne=rt.get(Gn);return Ne===void 0?[]:(je.every(cc=>cc.every(tr=>tr===0))&&(Ne===1?rt.delete(Gn):rt.set(Gn,Ne-1)),je)});ut=_(T.currentTime+Kt/T.sampleRate,T.sampleRate,()=>x.process(Dt,at,nt));for(let je=0,Gn=0;je<C.numberOfOutputs;je+=1){for(let hi=0;hi<M[je];hi+=1)R0(pt,at[je],hi,Gn+hi,Kt);Gn+=M[je]}}catch(Dt){ut=!1,$.dispatchEvent(new ErrorEvent("processorerror",{colno:Dt.colno,filename:Dt.filename,lineno:Dt.lineno,message:Dt.message}))}if(!ut){for(let Dt=0;Dt<C.numberOfInputs;Dt+=1){z[Dt].disconnect(w[Dt]);for(let Jt=0;Jt<C.channelCount;Jt+=1)w[Kt].disconnect(X,Jt,Dt*C.channelCount+Jt)}if(A.parameterDescriptors!==void 0){const Dt=A.parameterDescriptors.length;for(let Jt=0;Jt<Dt;Jt+=1){const je=O[Jt];je.disconnect(X,0,D+Jt),je.stop()}}X.disconnect(F),F.onaudioprocess=null,qt?vt():ht();break}}}};let qt=!1;const Be=f(T,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),sn=()=>F.connect(Be).connect(T.destination),ht=()=>{F.disconnect(Be),Be.disconnect()},bt=()=>{if(ut){ht(),C.numberOfOutputs>0&&F.connect(W);for(let tt=0,pt=0;tt<C.numberOfOutputs;tt+=1){const ae=it[tt];for(let Kt=0;Kt<M[tt];Kt+=1)W.connect(ae,pt+Kt,Kt);pt+=M[tt]}}qt=!0},St=()=>{ut&&(sn(),vt()),qt=!1};return sn(),b($,bt,St)},V0=(r,e)=>{const i=r.createBiquadFilter();return Te(i,e),ue(i,e,"Q"),ue(i,e,"detune"),ue(i,e,"frequency"),ue(i,e,"gain"),ie(i,e,"type"),i},TT=(r,e)=>(i,a)=>{const o=i.createChannelMerger(a.numberOfInputs);return r!==null&&r.name==="webkitAudioContext"&&e(i,o),Te(o,a),o},xT=r=>{const e=r.numberOfOutputs;Object.defineProperty(r,"channelCount",{get:()=>e,set:i=>{if(i!==e)throw Ce()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:i=>{if(i!=="explicit")throw Ce()}}),Object.defineProperty(r,"channelInterpretation",{get:()=>"discrete",set:i=>{if(i!=="discrete")throw Ce()}})},Yl=(r,e)=>{const i=r.createChannelSplitter(e.numberOfOutputs);return Te(i,e),xT(i),i},AT=(r,e,i,a,o)=>(h,f)=>{if(h.createConstantSource===void 0)return i(h,f);const d=h.createConstantSource();return Te(d,f),ue(d,f,"offset"),e(a,()=>a(h))||Qh(d),e(o,()=>o(h))||Fh(d),r(h,d),d},Ua=(r,e)=>(r.connect=e.connect.bind(e),r.disconnect=e.disconnect.bind(e),r),CT=(r,e,i,a)=>(o,{offset:h,...f})=>{const d=o.createBuffer(1,2,44100),m=e(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),p=i(o,{...f,gain:h}),_=d.getChannelData(0);_[0]=1,_[1]=1,m.buffer=d,m.loop=!0;const y={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(S){p.channelCount=S},get channelCountMode(){return p.channelCountMode},set channelCountMode(S){p.channelCountMode=S},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(S){p.channelInterpretation=S},get context(){return p.context},get inputs(){return[]},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get offset(){return p.gain},get onended(){return m.onended},set onended(S){m.onended=S},addEventListener(...S){return m.addEventListener(S[0],S[1],S[2])},dispatchEvent(...S){return m.dispatchEvent(S[0])},removeEventListener(...S){return m.removeEventListener(S[0],S[1],S[2])},start(S=0){m.start.call(m,S)},stop(S=0){m.stop.call(m,S)}},b=()=>m.connect(p),T=()=>m.disconnect(p);return r(o,m),a(Ua(y,p),b,T)},wT=(r,e)=>(i,a)=>{const o=i.createConvolver();if(Te(o,a),a.disableNormalization===o.normalize&&(o.normalize=!a.disableNormalization),ie(o,a,"buffer"),a.channelCount>2||(e(o,"channelCount",h=>()=>h.call(o),h=>f=>{if(f>2)throw r();return h.call(o,f)}),a.channelCountMode==="max"))throw r();return e(o,"channelCountMode",h=>()=>h.call(o),h=>f=>{if(f==="max")throw r();return h.call(o,f)}),o},j0=(r,e)=>{const i=r.createDelay(e.maxDelayTime);return Te(i,e),ue(i,e,"delayTime"),i},ET=r=>(e,i)=>{const a=e.createDynamicsCompressor();if(Te(a,i),i.channelCount>2||i.channelCountMode==="max")throw r();return ue(a,i,"attack"),ue(a,i,"knee"),ue(a,i,"ratio"),ue(a,i,"release"),ue(a,i,"threshold"),a},nn=(r,e)=>{const i=r.createGain();return Te(i,e),ue(i,e,"gain"),i},NT=r=>(e,i,a)=>{if(e.createIIRFilter===void 0)return r(e,i,a);const o=e.createIIRFilter(a.feedforward,a.feedback);return Te(o,a),o};function OT(r,e){const i=e[0]*e[0]+e[1]*e[1];return[(r[0]*e[0]+r[1]*e[1])/i,(r[1]*e[0]-r[0]*e[1])/i]}function MT(r,e){return[r[0]*e[0]-r[1]*e[1],r[0]*e[1]+r[1]*e[0]]}function n0(r,e){let i=[0,0];for(let a=r.length-1;a>=0;a-=1)i=MT(i,e),i[0]+=r[a];return i}const DT=(r,e,i,a)=>(o,h,{channelCount:f,channelCountMode:d,channelInterpretation:m,feedback:p,feedforward:_})=>{const y=z0(h,o.sampleRate),b=p instanceof Float64Array?p:new Float64Array(p),T=_ instanceof Float64Array?_:new Float64Array(_),S=b.length,A=T.length,C=Math.min(S,A);if(S===0||S>20)throw a();if(b[0]===0)throw e();if(A===0||A>20)throw a();if(T[0]===0)throw e();if(b[0]!==1){for(let O=0;O<A;O+=1)T[O]/=b[0];for(let O=1;O<S;O+=1)b[O]/=b[0]}const M=i(o,y,f,f);M.channelCount=f,M.channelCountMode=d,M.channelInterpretation=m;const D=32,k=[],H=[],N=[];for(let O=0;O<f;O+=1){k.push(0);const X=new Float32Array(D),Z=new Float32Array(D);X.fill(0),Z.fill(0),H.push(X),N.push(Z)}M.onaudioprocess=O=>{const X=O.inputBuffer,Z=O.outputBuffer,F=X.numberOfChannels;for(let W=0;W<F;W+=1){const it=X.getChannelData(W),st=Z.getChannelData(W);k[W]=k0(b,S,T,A,C,H[W],N[W],k[W],D,it,st)}};const z=o.sampleRate/2;return Ua({get bufferSize(){return y},get channelCount(){return M.channelCount},set channelCount(O){M.channelCount=O},get channelCountMode(){return M.channelCountMode},set channelCountMode(O){M.channelCountMode=O},get channelInterpretation(){return M.channelInterpretation},set channelInterpretation(O){M.channelInterpretation=O},get context(){return M.context},get inputs(){return[M]},get numberOfInputs(){return M.numberOfInputs},get numberOfOutputs(){return M.numberOfOutputs},addEventListener(...O){return M.addEventListener(O[0],O[1],O[2])},dispatchEvent(...O){return M.dispatchEvent(O[0])},getFrequencyResponse(O,X,Z){if(O.length!==X.length||X.length!==Z.length)throw r();const F=O.length;for(let W=0;W<F;W+=1){const it=-Math.PI*(O[W]/z),st=[Math.cos(it),Math.sin(it)],ot=n0(T,st),V=n0(b,st),Y=OT(ot,V);X[W]=Math.sqrt(Y[0]*Y[0]+Y[1]*Y[1]),Z[W]=Math.atan2(Y[1],Y[0])}},removeEventListener(...O){return M.removeEventListener(O[0],O[1],O[2])}},M)},RT=(r,e)=>r.createMediaElementSource(e.mediaElement),kT=(r,e)=>{const i=r.createMediaStreamDestination();return Te(i,e),i.numberOfOutputs===1&&Object.defineProperty(i,"numberOfOutputs",{get:()=>0}),i},zT=(r,{mediaStream:e})=>{const i=e.getAudioTracks();i.sort((h,f)=>h.id<f.id?-1:h.id>f.id?1:0);const a=i.slice(0,1),o=r.createMediaStreamSource(new MediaStream(a));return Object.defineProperty(o,"mediaStream",{value:e}),o},VT=(r,e)=>(i,{mediaStreamTrack:a})=>{if(typeof i.createMediaStreamTrackSource=="function")return i.createMediaStreamTrackSource(a);const o=new MediaStream([a]),h=i.createMediaStreamSource(o);if(a.kind!=="audio")throw r();if(e(i))throw new TypeError;return h},jT=r=>r===null?null:r.hasOwnProperty("OfflineAudioContext")?r.OfflineAudioContext:r.hasOwnProperty("webkitOfflineAudioContext")?r.webkitOfflineAudioContext:null,qT=(r,e,i,a,o,h)=>(f,d)=>{const m=f.createOscillator();return Te(m,d),ue(m,d,"detune"),ue(m,d,"frequency"),d.periodicWave!==void 0?m.setPeriodicWave(d.periodicWave):ie(m,d,"type"),e(i,()=>i(f))||Qh(m),e(a,()=>a(f))||h(m,f),e(o,()=>o(f))||Fh(m),r(f,m),m},UT=r=>(e,i)=>{const a=e.createPanner();return a.orientationX===void 0?r(e,i):(Te(a,i),ue(a,i,"orientationX"),ue(a,i,"orientationY"),ue(a,i,"orientationZ"),ue(a,i,"positionX"),ue(a,i,"positionY"),ue(a,i,"positionZ"),ie(a,i,"coneInnerAngle"),ie(a,i,"coneOuterAngle"),ie(a,i,"coneOuterGain"),ie(a,i,"distanceModel"),ie(a,i,"maxDistance"),ie(a,i,"panningModel"),ie(a,i,"refDistance"),ie(a,i,"rolloffFactor"),a)},LT=(r,e,i,a,o,h,f,d,m,p)=>(_,{coneInnerAngle:y,coneOuterAngle:b,coneOuterGain:T,distanceModel:S,maxDistance:A,orientationX:C,orientationY:M,orientationZ:D,panningModel:k,positionX:H,positionY:N,positionZ:z,refDistance:w,rolloffFactor:O,...X})=>{const Z=_.createPanner();if(X.channelCount>2||X.channelCountMode==="max")throw f();Te(Z,X);const F={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},W=i(_,{...F,channelInterpretation:"speakers",numberOfInputs:6}),it=a(_,{...X,gain:1}),st=a(_,{...F,gain:1}),ot=a(_,{...F,gain:0}),V=a(_,{...F,gain:0}),Y=a(_,{...F,gain:0}),$=a(_,{...F,gain:0}),et=a(_,{...F,gain:0}),lt=o(_,256,6,1),x=h(_,{...F,curve:new Float32Array([1,1]),oversample:"none"});let G=[C,M,D],P=[H,N,z];const at=new Float32Array(1);lt.onaudioprocess=({inputBuffer:rt})=>{const qt=[m(rt,at,0),m(rt,at,1),m(rt,at,2)];qt.some((sn,ht)=>sn!==G[ht])&&(Z.setOrientation(...qt),G=qt);const Be=[m(rt,at,3),m(rt,at,4),m(rt,at,5)];Be.some((sn,ht)=>sn!==P[ht])&&(Z.setPosition(...Be),P=Be)},Object.defineProperty(ot.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0}),Object.defineProperty(Y.gain,"defaultValue",{get:()=>0}),Object.defineProperty($.gain,"defaultValue",{get:()=>0}),Object.defineProperty(et.gain,"defaultValue",{get:()=>0});const nt={get bufferSize(){},get channelCount(){return Z.channelCount},set channelCount(rt){if(rt>2)throw f();it.channelCount=rt,Z.channelCount=rt},get channelCountMode(){return Z.channelCountMode},set channelCountMode(rt){if(rt==="max")throw f();it.channelCountMode=rt,Z.channelCountMode=rt},get channelInterpretation(){return Z.channelInterpretation},set channelInterpretation(rt){it.channelInterpretation=rt,Z.channelInterpretation=rt},get coneInnerAngle(){return Z.coneInnerAngle},set coneInnerAngle(rt){Z.coneInnerAngle=rt},get coneOuterAngle(){return Z.coneOuterAngle},set coneOuterAngle(rt){Z.coneOuterAngle=rt},get coneOuterGain(){return Z.coneOuterGain},set coneOuterGain(rt){if(rt<0||rt>1)throw e();Z.coneOuterGain=rt},get context(){return Z.context},get distanceModel(){return Z.distanceModel},set distanceModel(rt){Z.distanceModel=rt},get inputs(){return[it]},get maxDistance(){return Z.maxDistance},set maxDistance(rt){if(rt<0)throw new RangeError;Z.maxDistance=rt},get numberOfInputs(){return Z.numberOfInputs},get numberOfOutputs(){return Z.numberOfOutputs},get orientationX(){return st.gain},get orientationY(){return ot.gain},get orientationZ(){return V.gain},get panningModel(){return Z.panningModel},set panningModel(rt){Z.panningModel=rt},get positionX(){return Y.gain},get positionY(){return $.gain},get positionZ(){return et.gain},get refDistance(){return Z.refDistance},set refDistance(rt){if(rt<0)throw new RangeError;Z.refDistance=rt},get rolloffFactor(){return Z.rolloffFactor},set rolloffFactor(rt){if(rt<0)throw new RangeError;Z.rolloffFactor=rt},addEventListener(...rt){return it.addEventListener(rt[0],rt[1],rt[2])},dispatchEvent(...rt){return it.dispatchEvent(rt[0])},removeEventListener(...rt){return it.removeEventListener(rt[0],rt[1],rt[2])}};y!==nt.coneInnerAngle&&(nt.coneInnerAngle=y),b!==nt.coneOuterAngle&&(nt.coneOuterAngle=b),T!==nt.coneOuterGain&&(nt.coneOuterGain=T),S!==nt.distanceModel&&(nt.distanceModel=S),A!==nt.maxDistance&&(nt.maxDistance=A),C!==nt.orientationX.value&&(nt.orientationX.value=C),M!==nt.orientationY.value&&(nt.orientationY.value=M),D!==nt.orientationZ.value&&(nt.orientationZ.value=D),k!==nt.panningModel&&(nt.panningModel=k),H!==nt.positionX.value&&(nt.positionX.value=H),N!==nt.positionY.value&&(nt.positionY.value=N),z!==nt.positionZ.value&&(nt.positionZ.value=z),w!==nt.refDistance&&(nt.refDistance=w),O!==nt.rolloffFactor&&(nt.rolloffFactor=O),(G[0]!==1||G[1]!==0||G[2]!==0)&&Z.setOrientation(...G),(P[0]!==0||P[1]!==0||P[2]!==0)&&Z.setPosition(...P);const ut=()=>{it.connect(Z),r(it,x,0,0),x.connect(st).connect(W,0,0),x.connect(ot).connect(W,0,1),x.connect(V).connect(W,0,2),x.connect(Y).connect(W,0,3),x.connect($).connect(W,0,4),x.connect(et).connect(W,0,5),W.connect(lt).connect(_.destination)},vt=()=>{it.disconnect(Z),d(it,x,0,0),x.disconnect(st),st.disconnect(W),x.disconnect(ot),ot.disconnect(W),x.disconnect(V),V.disconnect(W),x.disconnect(Y),Y.disconnect(W),x.disconnect($),$.disconnect(W),x.disconnect(et),et.disconnect(W),W.disconnect(lt),lt.disconnect(_.destination)};return p(Ua(nt,Z),ut,vt)},BT=r=>(e,{disableNormalization:i,imag:a,real:o})=>{const h=a instanceof Float32Array?a:new Float32Array(a),f=o instanceof Float32Array?o:new Float32Array(o),d=e.createPeriodicWave(f,h,{disableNormalization:i});if(Array.from(a).length<2)throw r();return d},Xl=(r,e,i,a)=>r.createScriptProcessor(e,i,a),HT=(r,e)=>(i,a)=>{const o=a.channelCountMode;if(o==="clamped-max")throw e();if(i.createStereoPanner===void 0)return r(i,a);const h=i.createStereoPanner();return Te(h,a),ue(h,a,"pan"),Object.defineProperty(h,"channelCountMode",{get:()=>o,set:f=>{if(f!==o)throw e()}}),h},GT=(r,e,i,a,o,h)=>{const d=new Float32Array([1,1]),m=Math.PI/2,p={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},_={...p,oversample:"none"},y=(S,A,C,M)=>{const D=new Float32Array(16385),k=new Float32Array(16385);for(let X=0;X<16385;X+=1){const Z=X/16384*m;D[X]=Math.cos(Z),k[X]=Math.sin(Z)}const H=i(S,{...p,gain:0}),N=a(S,{..._,curve:D}),z=a(S,{..._,curve:d}),w=i(S,{...p,gain:0}),O=a(S,{..._,curve:k});return{connectGraph(){A.connect(H),A.connect(z.inputs===void 0?z:z.inputs[0]),A.connect(w),z.connect(C),C.connect(N.inputs===void 0?N:N.inputs[0]),C.connect(O.inputs===void 0?O:O.inputs[0]),N.connect(H.gain),O.connect(w.gain),H.connect(M,0,0),w.connect(M,0,1)},disconnectGraph(){A.disconnect(H),A.disconnect(z.inputs===void 0?z:z.inputs[0]),A.disconnect(w),z.disconnect(C),C.disconnect(N.inputs===void 0?N:N.inputs[0]),C.disconnect(O.inputs===void 0?O:O.inputs[0]),N.disconnect(H.gain),O.disconnect(w.gain),H.disconnect(M,0,0),w.disconnect(M,0,1)}}},b=(S,A,C,M)=>{const D=new Float32Array(16385),k=new Float32Array(16385),H=new Float32Array(16385),N=new Float32Array(16385),z=Math.floor(16385/2);for(let Y=0;Y<16385;Y+=1)if(Y>z){const $=(Y-z)/(16384-z)*m;D[Y]=Math.cos($),k[Y]=Math.sin($),H[Y]=0,N[Y]=1}else{const $=Y/(16384-z)*m;D[Y]=1,k[Y]=0,H[Y]=Math.cos($),N[Y]=Math.sin($)}const w=e(S,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),O=i(S,{...p,gain:0}),X=a(S,{..._,curve:D}),Z=i(S,{...p,gain:0}),F=a(S,{..._,curve:k}),W=a(S,{..._,curve:d}),it=i(S,{...p,gain:0}),st=a(S,{..._,curve:H}),ot=i(S,{...p,gain:0}),V=a(S,{..._,curve:N});return{connectGraph(){A.connect(w),A.connect(W.inputs===void 0?W:W.inputs[0]),w.connect(O,0),w.connect(Z,0),w.connect(it,1),w.connect(ot,1),W.connect(C),C.connect(X.inputs===void 0?X:X.inputs[0]),C.connect(F.inputs===void 0?F:F.inputs[0]),C.connect(st.inputs===void 0?st:st.inputs[0]),C.connect(V.inputs===void 0?V:V.inputs[0]),X.connect(O.gain),F.connect(Z.gain),st.connect(it.gain),V.connect(ot.gain),O.connect(M,0,0),it.connect(M,0,0),Z.connect(M,0,1),ot.connect(M,0,1)},disconnectGraph(){A.disconnect(w),A.disconnect(W.inputs===void 0?W:W.inputs[0]),w.disconnect(O,0),w.disconnect(Z,0),w.disconnect(it,1),w.disconnect(ot,1),W.disconnect(C),C.disconnect(X.inputs===void 0?X:X.inputs[0]),C.disconnect(F.inputs===void 0?F:F.inputs[0]),C.disconnect(st.inputs===void 0?st:st.inputs[0]),C.disconnect(V.inputs===void 0?V:V.inputs[0]),X.disconnect(O.gain),F.disconnect(Z.gain),st.disconnect(it.gain),V.disconnect(ot.gain),O.disconnect(M,0,0),it.disconnect(M,0,0),Z.disconnect(M,0,1),ot.disconnect(M,0,1)}}},T=(S,A,C,M,D)=>{if(A===1)return y(S,C,M,D);if(A===2)return b(S,C,M,D);throw o()};return(S,{channelCount:A,channelCountMode:C,pan:M,...D})=>{if(C==="max")throw o();const k=r(S,{...D,channelCount:1,channelCountMode:C,numberOfInputs:2}),H=i(S,{...D,channelCount:A,channelCountMode:C,gain:1}),N=i(S,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:M});let{connectGraph:z,disconnectGraph:w}=T(S,A,H,N,k);Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"maxValue",{get:()=>1}),Object.defineProperty(N.gain,"minValue",{get:()=>-1});const O={get bufferSize(){},get channelCount(){return H.channelCount},set channelCount(W){H.channelCount!==W&&(X&&w(),{connectGraph:z,disconnectGraph:w}=T(S,W,H,N,k),X&&z()),H.channelCount=W},get channelCountMode(){return H.channelCountMode},set channelCountMode(W){if(W==="clamped-max"||W==="max")throw o();H.channelCountMode=W},get channelInterpretation(){return H.channelInterpretation},set channelInterpretation(W){H.channelInterpretation=W},get context(){return H.context},get inputs(){return[H]},get numberOfInputs(){return H.numberOfInputs},get numberOfOutputs(){return H.numberOfOutputs},get pan(){return N.gain},addEventListener(...W){return H.addEventListener(W[0],W[1],W[2])},dispatchEvent(...W){return H.dispatchEvent(W[0])},removeEventListener(...W){return H.removeEventListener(W[0],W[1],W[2])}};let X=!1;const Z=()=>{z(),X=!0},F=()=>{w(),X=!1};return h(Ua(O,k),Z,F)}},IT=(r,e,i,a,o,h,f)=>(d,m)=>{const p=d.createWaveShaper();if(h!==null&&h.name==="webkitAudioContext"&&d.createGain().gain.automationRate===void 0)return i(d,m);Te(p,m);const _=m.curve===null||m.curve instanceof Float32Array?m.curve:new Float32Array(m.curve);if(_!==null&&_.length<2)throw e();ie(p,{curve:_},"curve"),ie(p,m,"oversample");let y=null,b=!1;return f(p,"curve",A=>()=>A.call(p),A=>C=>(A.call(p,C),b&&(a(C)&&y===null?y=r(d,p):!a(C)&&y!==null&&(y(),y=null)),C)),o(p,()=>{b=!0,a(p.curve)&&(y=r(d,p))},()=>{b=!1,y!==null&&(y(),y=null)})},YT=(r,e,i,a,o)=>(h,{curve:f,oversample:d,...m})=>{const p=h.createWaveShaper(),_=h.createWaveShaper();Te(p,m),Te(_,m);const y=i(h,{...m,gain:1}),b=i(h,{...m,gain:-1}),T=i(h,{...m,gain:1}),S=i(h,{...m,gain:-1});let A=null,C=!1,M=null;const D={get bufferSize(){},get channelCount(){return p.channelCount},set channelCount(N){y.channelCount=N,b.channelCount=N,p.channelCount=N,T.channelCount=N,_.channelCount=N,S.channelCount=N},get channelCountMode(){return p.channelCountMode},set channelCountMode(N){y.channelCountMode=N,b.channelCountMode=N,p.channelCountMode=N,T.channelCountMode=N,_.channelCountMode=N,S.channelCountMode=N},get channelInterpretation(){return p.channelInterpretation},set channelInterpretation(N){y.channelInterpretation=N,b.channelInterpretation=N,p.channelInterpretation=N,T.channelInterpretation=N,_.channelInterpretation=N,S.channelInterpretation=N},get context(){return p.context},get curve(){return M},set curve(N){if(N!==null&&N.length<2)throw e();if(N===null)p.curve=N,_.curve=N;else{const z=N.length,w=new Float32Array(z+2-z%2),O=new Float32Array(z+2-z%2);w[0]=N[0],O[0]=-N[z-1];const X=Math.ceil((z+1)/2),Z=(z+1)/2-1;for(let F=1;F<X;F+=1){const W=F/X*Z,it=Math.floor(W),st=Math.ceil(W);w[F]=it===st?N[it]:(1-(W-it))*N[it]+(1-(st-W))*N[st],O[F]=it===st?-N[z-1-it]:-((1-(W-it))*N[z-1-it])-(1-(st-W))*N[z-1-st]}w[X]=z%2===1?N[X-1]:(N[X-2]+N[X-1])/2,p.curve=w,_.curve=O}M=N,C&&(a(M)&&A===null?A=r(h,y):A!==null&&(A(),A=null))},get inputs(){return[y]},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get oversample(){return p.oversample},set oversample(N){p.oversample=N,_.oversample=N},addEventListener(...N){return y.addEventListener(N[0],N[1],N[2])},dispatchEvent(...N){return y.dispatchEvent(N[0])},removeEventListener(...N){return y.removeEventListener(N[0],N[1],N[2])}};f!==null&&(D.curve=f instanceof Float32Array?f:new Float32Array(f)),d!==D.oversample&&(D.oversample=d);const k=()=>{y.connect(p).connect(T),y.connect(b).connect(_).connect(S).connect(T),C=!0,a(M)&&(A=r(h,y))},H=()=>{y.disconnect(p),p.disconnect(T),y.disconnect(b),b.disconnect(_),_.disconnect(S),S.disconnect(T),C=!1,A!==null&&(A(),A=null)};return o(Ua(D,T),k,H)},Xe=()=>new DOMException("","NotSupportedError"),XT={numberOfChannels:1},ZT=(r,e,i,a,o)=>class extends r{constructor(f,d,m){let p;if(typeof f=="number"&&d!==void 0&&m!==void 0)p={length:d,numberOfChannels:f,sampleRate:m};else if(typeof f=="object")p=f;else throw new Error("The given parameters are not valid.");const{length:_,numberOfChannels:y,sampleRate:b}={...XT,...p},T=a(y,_,b);e(ql,()=>ql(T))||T.addEventListener("statechange",(()=>{let S=0;const A=C=>{this._state==="running"&&(S>0?(T.removeEventListener("statechange",A),C.stopImmediatePropagation(),this._waitForThePromiseToSettle(C)):S+=1)};return A})()),super(T,y),this._length=_,this._nativeOfflineAudioContext=T,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(i()):(this._state="running",o(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,E0(this)}))}_waitForThePromiseToSettle(f){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(f):setTimeout(()=>this._waitForThePromiseToSettle(f))}},QT={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},FT=(r,e,i,a,o,h,f)=>class extends r{constructor(m,p){const _=o(m),y={...QT,...p},b=i(_,y),T=h(_),S=T?a():null,A=m.sampleRate/2;super(m,!1,b,S),this._detune=e(this,T,b.detune,153600,-153600),this._frequency=e(this,T,b.frequency,A,-A),this._nativeOscillatorNode=b,this._onended=null,this._oscillatorNodeRenderer=S,this._oscillatorNodeRenderer!==null&&y.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=y.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(m){const p=typeof m=="function"?f(this,m):null;this._nativeOscillatorNode.onended=p;const _=this._nativeOscillatorNode.onended;this._onended=_!==null&&_===p?m:_}get type(){return this._nativeOscillatorNode.type}set type(m){this._nativeOscillatorNode.type=m,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(m){this._nativeOscillatorNode.setPeriodicWave(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=m)}start(m=0){if(this._nativeOscillatorNode.start(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=m),this.context.state!=="closed"){Da(this);const p=()=>{this._nativeOscillatorNode.removeEventListener("ended",p),bs(this)&&Hl(this)};this._nativeOscillatorNode.addEventListener("ended",p)}}stop(m=0){this._nativeOscillatorNode.stop(m),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=m)}},WT=(r,e,i,a,o)=>()=>{const h=new WeakMap;let f=null,d=null,m=null;const p=async(_,y)=>{let b=i(_);const T=Le(b,y);if(!T){const S={channelCount:b.channelCount,channelCountMode:b.channelCountMode,channelInterpretation:b.channelInterpretation,detune:b.detune.value,frequency:b.frequency.value,periodicWave:f===null?void 0:f,type:b.type};b=e(y,S),d!==null&&b.start(d),m!==null&&b.stop(m)}return h.set(y,b),T?(await r(y,_.detune,b.detune),await r(y,_.frequency,b.frequency)):(await a(y,_.detune,b.detune),await a(y,_.frequency,b.frequency)),await o(_,y,b),b};return{set periodicWave(_){f=_},set start(_){d=_},set stop(_){m=_},render(_,y){const b=h.get(y);return b!==void 0?Promise.resolve(b):p(_,y)}}},KT={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},JT=(r,e,i,a,o,h,f)=>class extends r{constructor(m,p){const _=o(m),y={...KT,...p},b=i(_,y),T=h(_),S=T?a():null;super(m,!1,b,S),this._nativePannerNode=b,this._orientationX=e(this,T,b.orientationX,Ge,tn),this._orientationY=e(this,T,b.orientationY,Ge,tn),this._orientationZ=e(this,T,b.orientationZ,Ge,tn),this._positionX=e(this,T,b.positionX,Ge,tn),this._positionY=e(this,T,b.positionY,Ge,tn),this._positionZ=e(this,T,b.positionZ,Ge,tn),f(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(m){this._nativePannerNode.coneInnerAngle=m}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(m){this._nativePannerNode.coneOuterAngle=m}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(m){this._nativePannerNode.coneOuterGain=m}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(m){this._nativePannerNode.distanceModel=m}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(m){this._nativePannerNode.maxDistance=m}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(m){this._nativePannerNode.panningModel=m}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(m){this._nativePannerNode.refDistance=m}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(m){this._nativePannerNode.rolloffFactor=m}},$T=(r,e,i,a,o,h,f,d,m,p)=>()=>{const _=new WeakMap;let y=null;const b=async(T,S)=>{let A=null,C=h(T);const M={channelCount:C.channelCount,channelCountMode:C.channelCountMode,channelInterpretation:C.channelInterpretation},D={...M,coneInnerAngle:C.coneInnerAngle,coneOuterAngle:C.coneOuterAngle,coneOuterGain:C.coneOuterGain,distanceModel:C.distanceModel,maxDistance:C.maxDistance,panningModel:C.panningModel,refDistance:C.refDistance,rolloffFactor:C.rolloffFactor},k=Le(C,S);if("bufferSize"in C)A=a(S,{...M,gain:1});else if(!k){const H={...D,orientationX:C.orientationX.value,orientationY:C.orientationY.value,orientationZ:C.orientationZ.value,positionX:C.positionX.value,positionY:C.positionY.value,positionZ:C.positionZ.value};C=o(S,H)}if(_.set(S,A===null?C:A),A!==null){if(y===null){if(f===null)throw new Error("Missing the native OfflineAudioContext constructor.");const F=new f(6,T.context.length,S.sampleRate),W=e(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});W.connect(F.destination),y=(async()=>{const it=await Promise.all([T.orientationX,T.orientationY,T.orientationZ,T.positionX,T.positionY,T.positionZ].map(async(st,ot)=>{const V=i(F,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot===0?1:0});return await d(F,st,V.offset),V}));for(let st=0;st<6;st+=1)it[st].connect(W,0,st),it[st].start(0);return p(F)})()}const H=await y,N=a(S,{...M,gain:1});await m(T,S,N);const z=[];for(let F=0;F<H.numberOfChannels;F+=1)z.push(H.getChannelData(F));let w=[z[0][0],z[1][0],z[2][0]],O=[z[3][0],z[4][0],z[5][0]],X=a(S,{...M,gain:1}),Z=o(S,{...D,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:O[0],positionY:O[1],positionZ:O[2]});N.connect(X).connect(Z.inputs[0]),Z.connect(A);for(let F=128;F<H.length;F+=128){const W=[z[0][F],z[1][F],z[2][F]],it=[z[3][F],z[4][F],z[5][F]];if(W.some((st,ot)=>st!==w[ot])||it.some((st,ot)=>st!==O[ot])){w=W,O=it;const st=F/S.sampleRate;X.gain.setValueAtTime(0,st),X=a(S,{...M,gain:0}),Z=o(S,{...D,orientationX:w[0],orientationY:w[1],orientationZ:w[2],positionX:O[0],positionY:O[1],positionZ:O[2]}),X.gain.setValueAtTime(1,st),N.connect(X).connect(Z.inputs[0]),Z.connect(A)}}return A}return k?(await r(S,T.orientationX,C.orientationX),await r(S,T.orientationY,C.orientationY),await r(S,T.orientationZ,C.orientationZ),await r(S,T.positionX,C.positionX),await r(S,T.positionY,C.positionY),await r(S,T.positionZ,C.positionZ)):(await d(S,T.orientationX,C.orientationX),await d(S,T.orientationY,C.orientationY),await d(S,T.orientationZ,C.orientationZ),await d(S,T.positionX,C.positionX),await d(S,T.positionY,C.positionY),await d(S,T.positionZ,C.positionZ)),qa(C)?await m(T,S,C.inputs[0]):await m(T,S,C),C};return{render(T,S){const A=_.get(S);return A!==void 0?Promise.resolve(A):b(T,S)}}},PT={disableNormalization:!1},tx=(r,e,i,a)=>class q0{constructor(h,f){const d=e(h),m=a({...PT,...f}),p=r(d,m);return i.add(p),p}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===q0.prototype||i.has(h)}},ex=(r,e)=>(i,a,o)=>(r(a).replay(o),e(a,i,o)),nx=(r,e,i)=>async(a,o,h)=>{const f=r(a);await Promise.all(f.activeInputs.map((d,m)=>Array.from(d).map(async([p,_])=>{const b=await e(p).render(p,o),T=a.context.destination;!i(p)&&(a!==T||!i(a))&&b.connect(h,_,m)})).reduce((d,m)=>[...d,...m],[]))},sx=(r,e,i)=>async(a,o,h)=>{const f=e(a);await Promise.all(Array.from(f.activeInputs).map(async([d,m])=>{const _=await r(d).render(d,o);i(d)||_.connect(h,m)}))},ix=(r,e,i,a)=>o=>r(ql,()=>ql(o))?Promise.resolve(r(a,a)).then(h=>{if(!h){const f=i(o,512,0,1);o.oncomplete=()=>{f.onaudioprocess=null,f.disconnect()},f.onaudioprocess=()=>o.currentTime,f.connect(o.destination)}return o.startRendering()}):new Promise(h=>{const f=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=d=>{f.disconnect(),h(d.renderedBuffer)},f.connect(o.destination),o.startRendering()}),ax=r=>(e,i)=>{r.set(e,i)},lx=r=>(e,i)=>r.set(e,i),rx=(r,e,i,a,o,h,f,d)=>(m,p)=>i(m).render(m,p).then(()=>Promise.all(Array.from(a(p)).map(_=>i(_).render(_,p)))).then(()=>o(p)).then(_=>(typeof _.copyFromChannel!="function"?(f(_),Yh(_)):e(h,()=>h(_))||d(_),r.add(_),_)),ox={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},cx=(r,e,i,a,o,h)=>class extends r{constructor(d,m){const p=o(d),_={...ox,...m},y=i(p,_),b=h(p),T=b?a():null;super(d,!1,y,T),this._pan=e(this,b,y.pan)}get pan(){return this._pan}},ux=(r,e,i,a,o)=>()=>{const h=new WeakMap,f=async(d,m)=>{let p=i(d);const _=Le(p,m);if(!_){const y={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,pan:p.pan.value};p=e(m,y)}return h.set(m,p),_?await r(m,d.pan,p.pan):await a(m,d.pan,p.pan),qa(p)?await o(d,m,p.inputs[0]):await o(d,m,p),p};return{render(d,m){const p=h.get(m);return p!==void 0?Promise.resolve(p):f(d,m)}}},hx=r=>()=>{if(r===null)return!1;try{new r({length:1,sampleRate:44100})}catch{return!1}return!0},fx=(r,e)=>async()=>{if(r===null)return!0;if(e===null)return!1;const i=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),a=new e(1,128,44100),o=URL.createObjectURL(i);let h=!1,f=!1;try{await a.audioWorklet.addModule(o);const d=new r(a,"a",{numberOfOutputs:0}),m=a.createOscillator();d.port.onmessage=()=>h=!0,d.onprocessorerror=()=>f=!0,m.connect(d),m.start(0),await a.startRendering(),await new Promise(p=>setTimeout(p))}catch{}finally{URL.revokeObjectURL(o)}return h&&!f},dx=(r,e)=>()=>{if(e===null)return Promise.resolve(!1);const i=new e(1,1,44100),a=r(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{i.oncomplete=()=>{a.disconnect(),o(i.currentTime!==0)},i.startRendering()})},px=()=>new DOMException("","UnknownError"),mx={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},gx=(r,e,i,a,o,h,f)=>class extends r{constructor(m,p){const _=o(m),y={...mx,...p},b=i(_,y),S=h(_)?a():null;super(m,!0,b,S),this._isCurveNullified=!1,this._nativeWaveShaperNode=b,f(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(m){if(m===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(m.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=m}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(m){this._nativeWaveShaperNode.oversample=m}},_x=(r,e,i)=>()=>{const a=new WeakMap,o=async(h,f)=>{let d=e(h);if(!Le(d,f)){const p={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,curve:d.curve,oversample:d.oversample};d=r(f,p)}return a.set(f,d),qa(d)?await i(h,f,d.inputs[0]):await i(h,f,d),d};return{render(h,f){const d=a.get(f);return d!==void 0?Promise.resolve(d):o(h,f)}}},yx=()=>typeof window>"u"?null:window,vx=(r,e)=>i=>{i.copyFromChannel=(a,o,h=0)=>{const f=r(h),d=r(o);if(d>=i.numberOfChannels)throw e();const m=i.length,p=i.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<m&&y<_;y+=1)a[y]=p[y+f]},i.copyToChannel=(a,o,h=0)=>{const f=r(h),d=r(o);if(d>=i.numberOfChannels)throw e();const m=i.length,p=i.getChannelData(d),_=a.length;for(let y=f<0?-f:0;y+f<m&&y<_;y+=1)p[y+f]=a[y]}},bx=r=>e=>{e.copyFromChannel=(i=>(a,o,h=0)=>{const f=r(h),d=r(o);if(f<e.length)return i.call(e,a,d,f)})(e.copyFromChannel),e.copyToChannel=(i=>(a,o,h=0)=>{const f=r(h),d=r(o);if(f<e.length)return i.call(e,a,d,f)})(e.copyToChannel)},Sx=r=>(e,i)=>{const a=i.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=a),r(e,"buffer",o=>()=>{const h=o.call(e);return h===a?null:h},o=>h=>o.call(e,h===null?a:h))},Tx=(r,e)=>(i,a)=>{a.channelCount=1,a.channelCountMode="explicit",Object.defineProperty(a,"channelCount",{get:()=>1,set:()=>{throw r()}}),Object.defineProperty(a,"channelCountMode",{get:()=>"explicit",set:()=>{throw r()}});const o=i.createBufferSource();e(a,()=>{const d=a.numberOfInputs;for(let m=0;m<d;m+=1)o.connect(a,0,m)},()=>o.disconnect(a))},U0=(r,e,i)=>r.copyFromChannel===void 0?r.getChannelData(i)[0]:(r.copyFromChannel(e,i),e[0]),L0=r=>{if(r===null)return!1;const e=r.length;return e%2!==0?r[Math.floor(e/2)]!==0:r[e/2-1]+r[e/2]!==0},Zl=(r,e,i,a)=>{let o=r;for(;!o.hasOwnProperty(e);)o=Object.getPrototypeOf(o);const{get:h,set:f}=Object.getOwnPropertyDescriptor(o,e);Object.defineProperty(r,e,{get:i(h),set:a(f)})},xx=r=>({...r,outputChannelCount:r.outputChannelCount!==void 0?r.outputChannelCount:r.numberOfInputs===1&&r.numberOfOutputs===1?[r.channelCount]:Array.from({length:r.numberOfOutputs},()=>1)}),Ax=r=>({...r,channelCount:r.numberOfOutputs}),Cx=r=>{const{imag:e,real:i}=r;return e===void 0?i===void 0?{...r,imag:[0,0],real:[0,0]}:{...r,imag:Array.from(i,()=>0),real:i}:i===void 0?{...r,imag:e,real:Array.from(e,()=>0)}:{...r,imag:e,real:i}},B0=(r,e,i)=>{try{r.setValueAtTime(e,i)}catch(a){if(a.code!==9)throw a;B0(r,e,i+1e-7)}},wx=r=>{const e=r.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},Ex=r=>{const e=r.createBufferSource(),i=r.createBuffer(1,1,44100);e.buffer=i;try{e.start(0,1)}catch{return!1}return!0},Nx=r=>{const e=r.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},Wh=r=>{const e=r.createOscillator();try{e.start(-1)}catch(i){return i instanceof RangeError}return!1},H0=r=>{const e=r.createBuffer(1,1,44100),i=r.createBufferSource();i.buffer=e,i.start(),i.stop();try{return i.stop(),!0}catch{return!1}},Kh=r=>{const e=r.createOscillator();try{e.stop(-1)}catch(i){return i instanceof RangeError}return!1},Ox=r=>{const{port1:e,port2:i}=new MessageChannel;try{e.postMessage(r)}finally{e.close(),i.close()}},Mx=r=>{r.start=(e=>(i=0,a=0,o)=>{const h=r.buffer,f=h===null?a:Math.min(h.duration,a);h!==null&&f>h.duration-.5/r.context.sampleRate?e.call(r,i,0,0):e.call(r,i,f,o)})(r.start)},G0=(r,e)=>{const i=e.createGain();r.connect(i);const a=(o=>()=>{o.call(r,i),r.removeEventListener("ended",a)})(r.disconnect);r.addEventListener("ended",a),Ua(r,i),r.stop=(o=>{let h=!1;return(f=0)=>{if(h)try{o.call(r,f)}catch{i.gain.setValueAtTime(0,f)}else o.call(r,f),h=!0}})(r.stop)},La=(r,e)=>i=>{const a={value:r};return Object.defineProperties(i,{currentTarget:a,target:a}),typeof e=="function"?e.call(r,i):e.handleEvent.call(r,i)},Dx=J1(ji),Rx=sb(ji),kx=mS(Io),I0=new WeakMap,zx=kS(I0),Ln=Xb(new Map,new WeakMap),Fn=yx(),Y0=cT(Ln,Kn),Jh=RS(Ye),Ve=nx(Ye,Jh,zi),Vx=ob(Y0,ne,Ve),$t=jS(Go),As=jT(Fn),Zt=PS(As),X0=new WeakMap,Z0=CS(La),Ql=dT(Fn),$h=WS(Ql),Ph=KS(Fn),Q0=JS(Fn),Ul=mT(Fn),de=kb($1(b0),nb(Dx,Rx,Mo,kx,Do,Ye,zx,Bl,ne,ji,bs,zi,Ao),Ln,YS(zh,Do,Ye,ne,jl,bs),Kn,Yo,Xe,hS(Mo,zh,Ye,ne,jl,$t,bs,Zt),yS(X0,Ye,jn),Z0,$t,$h,Ph,Q0,Zt,Ul),jx=rb(de,Vx,Kn,Y0,$t,Zt),tf=new WeakSet,s0=uT(Fn),F0=iS(new Uint32Array(1)),ef=vx(F0,Kn),nf=bx(F0),W0=ub(tf,Ln,Xe,s0,As,hx(s0),ef,nf),Xo=ib(nn),K0=sx(Jh,Gl,zi),Jn=$b(K0),Ba=fT(Xo,Ln,wx,Ex,Nx,Wh,H0,Kh,Mx,Sx(Zl),G0),$n=ex(zS(Gl),K0),qx=db(Jn,Ba,ne,$n,Ve),Bn=zb(P1(S0),X0,Ih,Vb,X1,Z1,Q1,F1,W1,Dh,y0,Ql,B0),Ux=fb(de,qx,Bn,Ce,Ba,$t,Zt,La),Lx=Tb(de,xb,Kn,Ce,pT(nn,Zl),$t,Zt,Ve),Bx=Yb(Jn,V0,ne,$n,Ve),qi=lx(I0),Hx=Ib(de,Bn,Bx,Yo,V0,$t,Zt,qi),ci=rT(ji,Ph),Gx=Tx(Ce,ci),ui=TT(Ql,Gx),Ix=Fb(ui,ne,Ve),Yx=Qb(de,Ix,ui,$t,Zt),Xx=Jb(Yl,ne,Ve),Zx=Kb(de,Xx,Yl,$t,Zt,Ax),Qx=CT(Xo,Ba,nn,ci),Ha=AT(Xo,Ln,Qx,Wh,Kh),Fx=sS(Jn,Ha,ne,$n,Ve),Wx=nS(de,Bn,Fx,Ha,$t,Zt,La),J0=wT(Xe,Zl),Kx=rS(J0,ne,Ve),Jx=lS(de,Kx,J0,$t,Zt,qi),$x=pS(Jn,j0,ne,$n,Ve),Px=dS(de,Bn,$x,j0,$t,Zt,qi),$0=ET(Xe),tA=TS(Jn,$0,ne,$n,Ve),eA=SS(de,Bn,tA,$0,Xe,$t,Zt,qi),nA=MS(Jn,nn,ne,$n,Ve),sA=OS(de,Bn,nA,nn,$t,Zt),iA=DT(Yo,Ce,Xl,Xe),Zo=ix(Ln,nn,Xl,dx(nn,As)),aA=IS(Ba,ne,As,Ve,Zo),lA=NT(iA),rA=HS(de,lA,aA,$t,Zt,qi),oA=Ab(Bn,ui,Ha,Xl,Xe,U0,Zt,Zl),P0=new WeakMap,cA=lT(Lx,oA,Z0,Zt,P0,La),t_=qT(Xo,Ln,Wh,H0,Kh,G0),uA=WT(Jn,t_,ne,$n,Ve),hA=FT(de,Bn,t_,uA,$t,Zt,La),e_=tS(Ba),fA=YT(e_,Ce,nn,L0,ci),Qo=IT(e_,Ce,fA,L0,ci,Ql,Zl),dA=LT(Mo,Ce,ui,nn,Xl,Qo,Xe,Do,U0,ci),n_=UT(dA),pA=$T(Jn,ui,Ha,nn,n_,ne,As,$n,Ve,Zo),mA=JT(de,Bn,n_,pA,$t,Zt,qi),gA=BT(Kn),_A=tx(gA,$t,new WeakSet,Cx),yA=GT(ui,Yl,nn,Qo,Xe,ci),s_=HT(yA,Xe),vA=ux(Jn,s_,ne,$n,Ve),bA=cx(de,Bn,s_,vA,$t,Zt),SA=_x(Qo,ne,Ve),TA=gx(de,Ce,Qo,SA,$t,Zt,qi),i_=tT(Fn),sf=wS(Fn),a_=new WeakMap,xA=qS(a_,As),AA=i_?eb(Ln,Xe,AS(Fn),sf,ES(K1),$t,xA,Zt,Ul,new WeakMap,new WeakMap,fx(Ul,As),Fn):void 0,CA=$S($h,Zt),wA=uS(tf,Ln,cS,xS,new WeakSet,$t,CA,No,ql,ef,nf),l_=Hb(AA,jx,W0,Ux,Hx,Yx,Zx,Wx,Jx,wA,Px,eA,sA,rA,cA,hA,mA,_A,bA,TA),EA=eT(de,RT,$t,Zt),NA=sT(de,kT,$t,Zt),OA=iT(de,zT,$t,Zt),MA=VT(Ce,Zt),DA=aT(de,MA,$t),RA=Sb(l_,Ce,Xe,px,EA,NA,OA,DA,Ql),af=US(P0),kA=ab(af),r_=Pb(Kn),zA=gS(af),o_=vS(Kn),c_=new WeakMap,VA=DS(c_,jn),jA=ST(r_,Kn,Ce,ui,Yl,Ha,nn,Xl,Xe,o_,sf,VA,ci),qA=_T(Ce,jA,nn,Xe,ci),UA=Bb(Jn,r_,Ba,ui,Yl,Ha,nn,zA,o_,sf,ne,Ul,As,$n,Ve,Zo),LA=VS(a_),BA=ax(c_),i0=i_?qb(kA,de,Bn,UA,qA,Ye,LA,$t,Zt,Ul,xx,BA,Ox,La):void 0,HA=oS(Xe,As),GA=rx(tf,Ln,Jh,af,Zo,No,ef,nf),IA=ZT(l_,Ln,Ce,HA,GA),YA=XS(Go,$h),XA=ZS(Gh,Ph),ZA=QS(Ih,Q0),QA=FS(Go,Zt);function gn(r){return r===void 0}function wt(r){return r!==void 0}function FA(r){return typeof r=="function"}function qn(r){return typeof r=="number"}function si(r){return Object.prototype.toString.call(r)==="[object Object]"&&r.constructor===Object}function u_(r){return typeof r=="boolean"}function en(r){return Array.isArray(r)}function Ss(r){return typeof r=="string"}function So(r){return Ss(r)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(r)}function _t(r,e){if(!r)throw new Error(e)}function Nn(r,e,i=1/0){if(!(e<=r&&r<=i))throw new RangeError(`Value must be within [${e}, ${i}], got: ${r}`)}function h_(r){!r.isOffline&&r.state!=="running"&&Fo('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let f_=!1,a0=!1;function l0(r){f_=r}function WA(r){gn(r)&&f_&&!a0&&(a0=!0,Fo("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let d_=console;function KA(...r){d_.log(...r)}function Fo(...r){d_.warn(...r)}function JA(r){return new RA(r)}function $A(r,e,i){return new IA(r,e,i)}const Ie=typeof self=="object"?self:null,PA=Ie&&(Ie.hasOwnProperty("AudioContext")||Ie.hasOwnProperty("webkitAudioContext"));function t2(r,e,i){return _t(wt(i0),"AudioWorkletNode only works in a secure context (https or localhost)"),new(r instanceof(Ie==null?void 0:Ie.BaseAudioContext)?Ie==null?void 0:Ie.AudioWorkletNode:i0)(r,e,i)}function Hn(r,e,i,a){var o=arguments.length,h=o<3?e:a===null?a=Object.getOwnPropertyDescriptor(e,i):a,f;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")h=Reflect.decorate(r,e,i,a);else for(var d=r.length-1;d>=0;d--)(f=r[d])&&(h=(o<3?f(h):o>3?f(e,i,h):f(e,i))||h);return o>3&&h&&Object.defineProperty(e,i,h),h}function le(r,e,i,a){function o(h){return h instanceof i?h:new i(function(f){f(h)})}return new(i||(i=Promise))(function(h,f){function d(_){try{p(a.next(_))}catch(y){f(y)}}function m(_){try{p(a.throw(_))}catch(y){f(y)}}function p(_){_.done?h(_.value):o(_.value).then(d,m)}p((a=a.apply(r,e||[])).next())})}class e2{constructor(e,i,a,o){this._callback=e,this._type=i,this._minimumUpdateInterval=Math.max(128/(o||44100),.001),this.updateInterval=a,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),i=URL.createObjectURL(e),a=new Worker(i);a.onmessage=this._callback.bind(this),this._worker=a}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var i;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((i=this._worker)===null||i===void 0||i.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Vi(r){return ZA(r)}function ii(r){return XA(r)}function Co(r){return QA(r)}function wa(r){return YA(r)}function n2(r){return r instanceof W0}function s2(r,e){return r==="value"||Vi(e)||ii(e)||n2(e)}function ai(r,...e){if(!e.length)return r;const i=e.shift();if(si(r)&&si(i))for(const a in i)s2(a,i[a])?r[a]=i[a]:si(i[a])?(r[a]||Object.assign(r,{[a]:{}}),ai(r[a],i[a])):Object.assign(r,{[a]:i[a]});return ai(r,...e)}function i2(r,e){return r.length===e.length&&r.every((i,a)=>e[a]===i)}function dt(r,e,i=[],a){const o={},h=Array.from(e);if(si(h[0])&&a&&!Reflect.has(h[0],a)&&(Object.keys(h[0]).some(d=>Reflect.has(r,d))||(ai(o,{[a]:h[0]}),i.splice(i.indexOf(a),1),h.shift())),h.length===1&&si(h[0]))ai(o,h[0]);else for(let f=0;f<i.length;f++)wt(h[f])&&(o[i[f]]=h[f]);return ai(r,o)}function a2(r){return r.constructor.getDefaults()}function Qn(r,e){return gn(r)?e:r}function Ra(r,e){return e.forEach(i=>{Reflect.has(r,i)&&delete r[i]}),r}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Cs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||Ie&&this.toString()===Ie.TONE_DEBUG_CLASS)&&KA(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Cs.version=_0;const lf=1e-6;function ka(r,e){return r>e+lf}function Lh(r,e){return ka(r,e)||zn(r,e)}function Vo(r,e){return r+lf<e}function zn(r,e){return Math.abs(r-e)<lf}function l2(r,e,i){return Math.max(Math.min(r,i),e)}class Mn extends Cs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=dt(Mn.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(_t(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const i=this._timeline[this.length-1];_t(Lh(e.time,i.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const i=this._search(e.time);this._timeline.splice(i+1,0,e)}if(this.length>this.memory){const i=this.length-this.memory;this._timeline.splice(0,i)}return this}remove(e){const i=this._timeline.indexOf(e);return i!==-1&&this._timeline.splice(i,1),this}get(e,i="time"){const a=this._search(e,i);return a!==-1?this._timeline[a]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,i="time"){const a=this._search(e,i);return a+1<this._timeline.length?this._timeline[a+1]:null}getBefore(e){const i=this._timeline.length;if(i>0&&this._timeline[i-1].time<e)return this._timeline[i-1];const a=this._search(e);return a-1>=0?this._timeline[a-1]:null}cancel(e){if(this._timeline.length>1){let i=this._search(e);if(i>=0)if(zn(this._timeline[i].time,e)){for(let a=i;a>=0&&zn(this._timeline[a].time,e);a--)i=a;this._timeline=this._timeline.slice(0,i)}else this._timeline=this._timeline.slice(0,i+1);else this._timeline=[]}else this._timeline.length===1&&Lh(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const i=this._search(e);return i>=0&&(this._timeline=this._timeline.slice(i+1)),this}previousEvent(e){const i=this._timeline.indexOf(e);return i>0?this._timeline[i-1]:null}_search(e,i="time"){if(this._timeline.length===0)return-1;let a=0;const o=this._timeline.length;let h=o;if(o>0&&this._timeline[o-1][i]<=e)return o-1;for(;a<h;){let f=Math.floor(a+(h-a)/2);const d=this._timeline[f],m=this._timeline[f+1];if(zn(d[i],e)){for(let p=f;p<this._timeline.length;p++){const _=this._timeline[p];if(zn(_[i],e))f=p;else break}return f}else{if(Vo(d[i],e)&&ka(m[i],e))return f;ka(d[i],e)?h=f:a=f+1}}return-1}_iterate(e,i=0,a=this._timeline.length-1){this._timeline.slice(i,a+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,i){const a=this._search(e);return a!==-1&&this._iterate(i,0,a),this}forEachAfter(e,i){const a=this._search(e);return this._iterate(i,a+1),this}forEachBetween(e,i,a){let o=this._search(e),h=this._search(i);return o!==-1&&h!==-1?(this._timeline[o].time!==e&&(o+=1),this._timeline[h].time===i&&(h-=1),this._iterate(a,o,h)):o===-1&&this._iterate(a,0,h),this}forEachFrom(e,i){let a=this._search(e);for(;a>=0&&this._timeline[a].time>=e;)a--;return this._iterate(i,a+1),this}forEachAtTime(e,i){const a=this._search(e);if(a!==-1&&zn(this._timeline[a].time,e)){let o=a;for(let h=a;h>=0&&zn(this._timeline[h].time,e);h--)o=h;this._iterate(h=>{i(h)},o,a)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const p_=[];function Wo(r){p_.push(r)}function r2(r){p_.forEach(e=>e(r))}const m_=[];function Ko(r){m_.push(r)}function o2(r){m_.forEach(e=>e(r))}class Fl extends Cs{constructor(){super(...arguments),this.name="Emitter"}on(e,i){return e.split(/\W+/).forEach(o=>{gn(this._events)&&(this._events={}),this._events.hasOwnProperty(o)||(this._events[o]=[]),this._events[o].push(i)}),this}once(e,i){const a=(...o)=>{i(...o),this.off(e,a)};return this.on(e,a),this}off(e,i){return e.split(/\W+/).forEach(o=>{if(gn(this._events)&&(this._events={}),this._events.hasOwnProperty(o))if(gn(i))this._events[o]=[];else{const h=this._events[o];for(let f=h.length-1;f>=0;f--)h[f]===i&&h.splice(f,1)}}),this}emit(e,...i){if(this._events&&this._events.hasOwnProperty(e)){const a=this._events[e].slice(0);for(let o=0,h=a.length;o<h;o++)a[o].apply(this,i)}return this}static mixin(e){["on","once","off","emit"].forEach(i=>{const a=Object.getOwnPropertyDescriptor(Fl.prototype,i);Object.defineProperty(e.prototype,i,a)})}dispose(){return super.dispose(),this._events=void 0,this}}class g_ extends Fl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Wl extends g_{constructor(){var e,i;super(),this.name="Context",this._constants=new Map,this._timeouts=new Mn,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const a=dt(Wl.getDefaults(),arguments,["context"]);a.context?(this._context=a.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=JA({latencyHint:a.latencyHint}),this._latencyHint=a.latencyHint),this._ticker=new e2(this.emit.bind(this,"tick"),a.clockSource,a.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((i=arguments[0])===null||i===void 0)&&i.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=a.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(r2(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,i,a){return this._context.createBuffer(e,i,a)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,i){return this._context.createIIRFilter(e,i)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,i,a){return this._context.createPeriodicWave(e,i,a)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return _t(wa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return _t(wa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return _t(wa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){_t(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){_t(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){_t(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){_t(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,i){return t2(this.rawContext,e,i)}addAudioWorkletModule(e){return le(this,void 0,void 0,function*(){_t(wt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return le(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return wa(this._context)?this._context.resume():Promise.resolve()}close(){return le(this,void 0,void 0,function*(){wa(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&o2(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const i=this._context.createBuffer(1,128,this._context.sampleRate),a=i.getChannelData(0);for(let h=0;h<a.length;h++)a[h]=e;const o=this._context.createBufferSource();return o.channelCount=1,o.channelCountMode="explicit",o.buffer=i,o.loop=!0,o.start(0),this._constants.set(e,o),o}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,i=>{i.callback(),this._timeouts.remove(i)})}setTimeout(e,i){this._timeoutIds++;const a=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:a+i}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(i=>{i.id===e&&this._timeouts.remove(i)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,i){const a=++this._timeoutIds,o=()=>{const h=this.now();this._timeouts.add({callback:()=>{e(),o()},id:a,time:h+i})};return o(),a}}class c2 extends g_{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,i,a){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,i){return{}}createPanner(){return{}}createPeriodicWave(e,i,a){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,i){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return le(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,i){return 0}clearTimeout(e){return this}setInterval(e,i){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function Lt(r,e){en(e)?e.forEach(i=>Lt(r,i)):Object.defineProperty(r,e,{enumerable:!0,writable:!1})}function rf(r,e){en(e)?e.forEach(i=>rf(r,i)):Object.defineProperty(r,e,{writable:!0})}const jt=()=>{};class Ft extends Cs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=jt;const e=dt(Ft.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Ss(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:jt,onload:jt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:pn().sampleRate}set(e){return e instanceof Ft?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return le(this,void 0,void 0,function*(){const i=Ft.load(e).then(a=>{this.set(a),this.onload(this)});Ft.downloads.push(i);try{yield i}finally{const a=Ft.downloads.indexOf(i);Ft.downloads.splice(a,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const i=en(e)&&e[0].length>0,a=i?e.length:1,o=i?e[0].length:e.length,h=pn(),f=h.createBuffer(a,o,h.sampleRate),d=!i&&a===1?[e]:e;for(let m=0;m<a;m++)f.copyToChannel(d[m],m);return this._buffer=f,this}toMono(e){if(qn(e))this.fromArray(this.toArray(e));else{let i=new Float32Array(this.length);const a=this.numberOfChannels;for(let o=0;o<a;o++){const h=this.toArray(o);for(let f=0;f<h.length;f++)i[f]+=h[f]}i=i.map(o=>o/a),this.fromArray(i)}return this}toArray(e){if(qn(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const i=[];for(let a=0;a<this.numberOfChannels;a++)i[a]=this.getChannelData(a);return i}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,i=this.duration){_t(this.loaded,"Buffer is not loaded");const a=Math.floor(e*this.sampleRate),o=Math.floor(i*this.sampleRate);_t(a<o,"The start time must be less than the end time");const h=o-a,f=pn().createBuffer(this.numberOfChannels,h,this.sampleRate);for(let d=0;d<this.numberOfChannels;d++)f.copyToChannel(this.getChannelData(d).subarray(a,o),d);return new Ft(f)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new Ft().fromArray(e)}static fromUrl(e){return le(this,void 0,void 0,function*(){return yield new Ft().load(e)})}static load(e){return le(this,void 0,void 0,function*(){const i=Ft.baseUrl===""||Ft.baseUrl.endsWith("/")?Ft.baseUrl:Ft.baseUrl+"/",a=yield fetch(i+e);if(!a.ok)throw new Error(`could not load url: ${e}`);const o=yield a.arrayBuffer();return yield pn().decodeAudioData(o)})}static supportsType(e){const i=e.split("."),a=i[i.length-1];return document.createElement("audio").canPlayType("audio/"+a)!==""}static loaded(){return le(this,void 0,void 0,function*(){for(yield Promise.resolve();Ft.downloads.length;)yield Ft.downloads[0]})}}Ft.baseUrl="";Ft.downloads=[];class Jo extends Wl{constructor(){super({clockSource:"offline",context:Co(arguments[0])?arguments[0]:$A(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:Co(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=Co(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return le(this,void 0,void 0,function*(){let i=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,i++;const a=Math.floor(this.sampleRate/128);e&&i%a===0&&(yield new Promise(o=>setTimeout(o,1)))}})}render(){return le(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const i=yield this._context.startRendering();return new Ft(i)})}close(){return Promise.resolve()}}const __=new c2;let Di=__;function pn(){return Di===__&&PA&&u2(new Wl),Di}function u2(r,e=!1){e&&Di.dispose(),wa(r)?Di=new Wl(r):Co(r)?Di=new Jo(r):Di=r}function r0(){return Di.resume()}if(Ie&&!Ie.TONE_SILENCE_LOGGING){const e=` * Tone.js v${_0} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function h2(r){return Math.pow(10,r/20)}function f2(r){return 20*(Math.log(r)/Math.LN10)}function y_(r){return Math.pow(2,r/12)}let $o=440;function d2(){return $o}function p2(r){$o=r}function Ri(r){return Math.round(v_(r))}function v_(r){return 69+12*Math.log2(r/$o)}function b_(r){return $o*Math.pow(2,(r-69)/12)}class of extends Cs{constructor(e,i,a){super(),this.defaultUnits="s",this._val=i,this._units=a,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,i)=>{const a=parseInt(e,10),o=i==="."?1.5:1;return a===1?this._beatsToUnits(this._getTimeSignature())*o:this._beatsToUnits(4/a)*o},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const i=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(i)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,i,a)=>{let o=0;return e&&e!=="0"&&(o+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(o+=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o+=this._beatsToUnits(parseFloat(a)/4)),o},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof of&&this.fromType(this._val),gn(this._val))return this._noArg();if(Ss(this._val)&&gn(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(si(this._val)){let e=0;for(const i in this._val)if(wt(this._val[i])){const a=this._val[i],o=new this.constructor(this.context,i).valueOf()*a;e+=o}return e}if(wt(this._units)){const e=this._expressions[this._units],i=this._val.toString().trim().match(e.regexp);return i?e.method.apply(this,i.slice(1)):e.method.call(this,this._val)}else return Ss(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class On extends of{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const i=new On(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(i))},regexp:/^@(.+)/}})}quantize(e,i=1){const a=new this.constructor(this.context,e).valueOf(),o=this.valueOf(),d=Math.round(o/a)*a-o;return o+d*i}toNotation(){const e=this.toSeconds(),i=["1m"];for(let h=1;h<9;h++){const f=Math.pow(2,h);i.push(f+"n."),i.push(f+"n"),i.push(f+"t")}i.push("0");let a=i[0],o=new On(this.context,i[0]).toSeconds();return i.forEach(h=>{const f=new On(this.context,h).toSeconds();Math.abs(f-e)<Math.abs(o-e)&&(a=h,o=f)}),a}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let i=this.valueOf()/e;i=parseFloat(i.toFixed(4));const a=Math.floor(i/this._getTimeSignature());let o=i%1*4;i=Math.floor(i)%this._getTimeSignature();const h=o.toString();return h.length>3&&(o=parseFloat(parseFloat(h).toFixed(3))),[a,i,o].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return Ri(this.toFrequency())}_now(){return this.context.now()}}function m2(r,e){return new On(pn(),r,e)}class mn extends On{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return d2()}static set A4(e){p2(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:mn.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,i){const o=g2[e.toLowerCase()]+(parseInt(i,10)+1)*12;return this.defaultUnits==="midi"?o:mn.mtof(o)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,i,a){let o=1;return e&&e!=="0"&&(o*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),i&&i!=="0"&&(o*=this._beatsToUnits(parseFloat(i))),a&&a!=="0"&&(o*=this._beatsToUnits(parseFloat(a)/4)),o}}})}transpose(e){return new mn(this.context,this.valueOf()*y_(e))}harmonize(e){return e.map(i=>this.transpose(i))}toMidi(){return Ri(this.valueOf())}toNote(){const e=this.toFrequency(),i=Math.log2(e/mn.A4);let a=Math.round(12*i)+57;const o=Math.floor(a/12);return o<0&&(a+=-12*o),_2[a%12]+o.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),i=this.valueOf()/e;return Math.floor(i*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return b_(e)}static ftom(e){return Ri(e)}}const g2={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},_2=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Oa extends On{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class we extends Cs{constructor(){super();const e=dt(we.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:pn()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return WA(e),new On(this.context,e).toSeconds()}toFrequency(e){return new mn(this.context,e).toFrequency()}toTicks(e){return new Oa(this.context,e).toTicks()}_getPartialProperties(e){const i=this.get();return Object.keys(i).forEach(a=>{gn(e[a])&&delete i[a]}),i}get(){const e=a2(this);return Object.keys(e).forEach(i=>{if(Reflect.has(this,i)){const a=this[i];wt(a)&&wt(a.value)&&wt(a.setValueAtTime)?e[i]=a.value:a instanceof we?e[i]=a._getPartialProperties(e[i]):en(a)||qn(a)||Ss(a)||u_(a)?e[i]=a:delete e[i]}}),e}set(e){return Object.keys(e).forEach(i=>{Reflect.has(this,i)&&wt(this[i])&&(this[i]&&wt(this[i].value)&&wt(this[i].setValueAtTime)?this[i].value!==e[i]&&(this[i].value=e[i]):this[i]instanceof we?this[i].set(e[i]):this[i]=e[i])}),this}}class Kl extends Mn{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const i=this.get(e);return i!==null?i.state:this._initial}setStateAtTime(e,i,a){return Nn(i,0),this.add(Object.assign({},a,{state:e,time:i})),this}getLastState(e,i){const a=this._search(i);for(let o=a;o>=0;o--){const h=this._timeline[o];if(h.state===e)return h}}getNextState(e,i){const a=this._search(i);if(a!==-1)for(let o=a;o<this._timeline.length;o++){const h=this._timeline[o];if(h.state===e)return h}}}class kt extends we{constructor(){const e=dt(kt.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,_t(wt(e.param)&&(Vi(e.param)||e.param instanceof kt),"param must be an AudioParam");!Vi(e.param);)e.param=e.param._param;this._swappable=wt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Mn(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,wt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(we.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return wt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return wt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,i){return this.units===i}_assertRange(e){return wt(this.maxValue)&&wt(this.minValue)&&Nn(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?h2(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?f2(e):e}setValueAtTime(e,i){const a=this.toSeconds(i),o=this._fromType(e);return _t(isFinite(o)&&isFinite(a),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(o),this.log(this.units,"setValueAtTime",e,a),this._events.add({time:a,type:"setValueAtTime",value:o}),this._param.setValueAtTime(o,a),this}getValueAtTime(e){const i=Math.max(this.toSeconds(e),0),a=this._events.getAfter(i),o=this._events.get(i);let h=this._initialValue;if(o===null)h=this._initialValue;else if(o.type==="setTargetAtTime"&&(a===null||a.type==="setValueAtTime")){const f=this._events.getBefore(o.time);let d;f===null?d=this._initialValue:d=f.value,o.type==="setTargetAtTime"&&(h=this._exponentialApproach(o.time,d,o.value,o.constant,i))}else if(a===null)h=o.value;else if(a.type==="linearRampToValueAtTime"||a.type==="exponentialRampToValueAtTime"){let f=o.value;if(o.type==="setTargetAtTime"){const d=this._events.getBefore(o.time);d===null?f=this._initialValue:f=d.value}a.type==="linearRampToValueAtTime"?h=this._linearInterpolate(o.time,f,a.time,a.value,i):h=this._exponentialInterpolate(o.time,f,a.time,a.value,i)}else h=o.value;return this._toType(h)}setRampPoint(e){e=this.toSeconds(e);let i=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(i)===0&&(i=this._toType(this._minOutput)),this.setValueAtTime(i,e),this}linearRampToValueAtTime(e,i){const a=this._fromType(e),o=this.toSeconds(i);return _t(isFinite(a)&&isFinite(o),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._assertRange(a),this._events.add({time:o,type:"linearRampToValueAtTime",value:a}),this.log(this.units,"linearRampToValueAtTime",e,o),this._param.linearRampToValueAtTime(a,o),this}exponentialRampToValueAtTime(e,i){let a=this._fromType(e);a=zn(a,0)?this._minOutput:a,this._assertRange(a);const o=this.toSeconds(i);return _t(isFinite(a)&&isFinite(o),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({time:o,type:"exponentialRampToValueAtTime",value:a}),this.log(this.units,"exponentialRampToValueAtTime",e,o),this._param.exponentialRampToValueAtTime(a,o),this}exponentialRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialRampToValueAtTime(e,a+this.toSeconds(i)),this}linearRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.linearRampToValueAtTime(e,a+this.toSeconds(i)),this}targetRampTo(e,i,a){return a=this.toSeconds(a),this.setRampPoint(a),this.exponentialApproachValueAtTime(e,a,i),this}exponentialApproachValueAtTime(e,i,a){i=this.toSeconds(i),a=this.toSeconds(a);const o=Math.log(a+1)/Math.log(200);return this.setTargetAtTime(e,i,o),this.cancelAndHoldAtTime(i+a*.9),this.linearRampToValueAtTime(e,i+a),this}setTargetAtTime(e,i,a){const o=this._fromType(e);_t(isFinite(a)&&a>0,"timeConstant must be a number greater than 0");const h=this.toSeconds(i);return this._assertRange(o),_t(isFinite(o)&&isFinite(h),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(i)}`),this._events.add({constant:a,time:h,type:"setTargetAtTime",value:o}),this.log(this.units,"setTargetAtTime",e,h,a),this._param.setTargetAtTime(o,h,a),this}setValueCurveAtTime(e,i,a,o=1){a=this.toSeconds(a),i=this.toSeconds(i);const h=this._fromType(e[0])*o;this.setValueAtTime(this._toType(h),i);const f=a/(e.length-1);for(let d=1;d<e.length;d++){const m=this._fromType(e[d])*o;this.linearRampToValueAtTime(this._toType(m),i+d*f)}return this}cancelScheduledValues(e){const i=this.toSeconds(e);return _t(isFinite(i),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(i),this._param.cancelScheduledValues(i),this.log(this.units,"cancelScheduledValues",i),this}cancelAndHoldAtTime(e){const i=this.toSeconds(e),a=this._fromType(this.getValueAtTime(i));_t(isFinite(i),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",i,"value="+a);const o=this._events.get(i),h=this._events.getAfter(i);return o&&zn(o.time,i)?h?(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time)):(this._param.cancelAndHoldAtTime(i),this._events.cancel(i+this.sampleTime)):h&&(this._param.cancelScheduledValues(h.time),this._events.cancel(h.time),h.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(a),i):h.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(a),i)),this._events.add({time:i,type:"setValueAtTime",value:a}),this._param.setValueAtTime(a,i),this}rampTo(e,i=.1,a){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,i,a):this.linearRampTo(e,i,a),this}apply(e){const i=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(i),i);const a=this._events.get(i);if(a&&a.type==="setTargetAtTime"){const o=this._events.getAfter(a.time),h=o?o.time:i+2,f=(h-i)/10;for(let d=i;d<h;d+=f)e.linearRampToValueAtTime(this.getValueAtTime(d),d)}return this._events.forEachAfter(this.context.currentTime,o=>{o.type==="cancelScheduledValues"?e.cancelScheduledValues(o.time):o.type==="setTargetAtTime"?e.setTargetAtTime(o.value,o.time,o.constant):e[o.type](o.value,o.time)}),this}setParam(e){_t(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const i=this.input;return i.disconnect(this._param),this.apply(e),this._param=e,i.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,i,a,o,h){return a+(i-a)*Math.exp(-(h-e)/o)}_linearInterpolate(e,i,a,o,h){return i+(o-i)*((h-e)/(a-e))}_exponentialInterpolate(e,i,a,o,h){return i*Math.pow(o/i,(h-e)/(a-e))}}class mt extends we{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return wt(this.input)?Vi(this.input)||this.input instanceof kt?1:this.input.numberOfInputs:0}get numberOfOutputs(){return wt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return wt(e)&&(e instanceof mt||ii(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(a=>{a.channelCount=e.channelCount,a.channelCountMode=e.channelCountMode,a.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();_t(e.length>0,"ToneAudioNode does not have any internal nodes");const i=e[0];return{channelCount:i.channelCount,channelCountMode:i.channelCountMode,channelInterpretation:i.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const i=this._getChannelProperties();this._setChannelProperties(Object.assign(i,{channelInterpretation:e}))}connect(e,i=0,a=0){return li(this,e,i,a),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Fo("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,i=0,a=0){return y2(this,e,i,a),this}chain(...e){return Ll(this,...e),this}fan(...e){return e.forEach(i=>this.connect(i)),this}dispose(){return super.dispose(),wt(this.input)&&(this.input instanceof mt?this.input.dispose():ii(this.input)&&this.input.disconnect()),wt(this.output)&&(this.output instanceof mt?this.output.dispose():ii(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ll(...r){const e=r.shift();r.reduce((i,a)=>(i instanceof mt?i.connect(a):ii(i)&&li(i,a),a),e)}function li(r,e,i=0,a=0){for(_t(wt(r),"Cannot connect from undefined node"),_t(wt(e),"Cannot connect to undefined node"),(e instanceof mt||ii(e))&&_t(e.numberOfInputs>0,"Cannot connect to node with no inputs"),_t(r.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof mt||e instanceof kt;)wt(e.input)&&(e=e.input);for(;r instanceof mt;)wt(r.output)&&(r=r.output);Vi(e)?r.connect(e,i):r.connect(e,i,a)}function y2(r,e,i=0,a=0){if(wt(e))for(;e instanceof mt;)e=e.input;for(;!ii(r);)wt(r.output)&&(r=r.output);Vi(e)?r.disconnect(e,i):ii(e)?r.disconnect(e,i,a):r.disconnect()}class Gt extends mt{constructor(){const e=dt(Gt.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new kt({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Lt(this,"gain")}static getDefaults(){return Object.assign(mt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class za extends mt{constructor(e){super(e),this.onended=jt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gt({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(i){const a=this.toSeconds(i);return this._startTime!==-1&&a>=this._startTime&&(this._stopTime===-1||a<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(mt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:jt})}_startGain(e,i=1){_t(this._startTime===-1,"Source cannot be started more than once");const a=this.toSeconds(this._fadeIn);return this._startTime=e+a,this._startTime=Math.max(this._startTime,this.context.currentTime),a>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(i,e+a):this._gainNode.gain.exponentialApproachValueAtTime(i,e,a)):this._gainNode.gain.setValueAtTime(i,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){_t(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const i=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+i,this._stopTime=Math.max(this._stopTime,this.now()),i>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,i,e):this._gainNode.gain.targetRampTo(0,i,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const a=this._curve==="exponential"?i*2:0;this._stopSource(this.now()+a),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==jt&&(this.onended(this),this.onended=jt,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),_t(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=jt,this}}class cf extends za{constructor(){const e=dt(cf.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),li(this._source,this._gainNode),this.offset=new kt({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(za.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._source.start(i),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Wt extends mt{constructor(){const e=dt(Wt.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new cf({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(mt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,i=0,a=0){return uf(this,e,i,a),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,i){return this._param.setValueAtTime(e,i),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,i){return this._param.linearRampToValueAtTime(e,i),this}exponentialRampToValueAtTime(e,i){return this._param.exponentialRampToValueAtTime(e,i),this}exponentialRampTo(e,i,a){return this._param.exponentialRampTo(e,i,a),this}linearRampTo(e,i,a){return this._param.linearRampTo(e,i,a),this}targetRampTo(e,i,a){return this._param.targetRampTo(e,i,a),this}exponentialApproachValueAtTime(e,i,a){return this._param.exponentialApproachValueAtTime(e,i,a),this}setTargetAtTime(e,i,a){return this._param.setTargetAtTime(e,i,a),this}setValueCurveAtTime(e,i,a,o){return this._param.setValueCurveAtTime(e,i,a,o),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,i,a){return this._param.rampTo(e,i,a),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function uf(r,e,i,a){(e instanceof kt||Vi(e)||e instanceof Wt&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Wt&&(e.overridden=!0)),li(r,e,i,a)}class hf extends kt{constructor(){const e=dt(hf.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Mn(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(kt.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,i,a){i=this.toSeconds(i),this.setRampPoint(i);const o=this._fromType(e),h=this._events.get(i),f=Math.round(Math.max(1/a,1));for(let d=0;d<=f;d++){const m=a*d+i,p=this._exponentialApproach(h.time,h.value,o,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}setValueAtTime(e,i){const a=this.toSeconds(i);super.setValueAtTime(e,i);const o=this._events.get(a),h=this._events.previousEvent(o),f=this._getTicksUntilEvent(h,a);return o.ticks=Math.max(f,0),this}linearRampToValueAtTime(e,i){const a=this.toSeconds(i);super.linearRampToValueAtTime(e,i);const o=this._events.get(a),h=this._events.previousEvent(o),f=this._getTicksUntilEvent(h,a);return o.ticks=Math.max(f,0),this}exponentialRampToValueAtTime(e,i){i=this.toSeconds(i);const a=this._fromType(e),o=this._events.get(i),h=Math.round(Math.max((i-o.time)*10,1)),f=(i-o.time)/h;for(let d=0;d<=h;d++){const m=f*d+o.time,p=this._exponentialInterpolate(o.time,o.value,i,a,m);this.linearRampToValueAtTime(this._toType(p),m)}return this}_getTicksUntilEvent(e,i){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(gn(e.ticks)){const f=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(f,e.time)}const a=this._fromType(this.getValueAtTime(e.time));let o=this._fromType(this.getValueAtTime(i));const h=this._events.get(i);return h&&h.time===i&&h.type==="setValueAtTime"&&(o=this._fromType(this.getValueAtTime(i-this.sampleTime))),.5*(i-e.time)*(a+o)+e.ticks}getTicksAtTime(e){const i=this.toSeconds(e),a=this._events.get(i);return Math.max(this._getTicksUntilEvent(a,i),0)}getDurationOfTicks(e,i){const a=this.toSeconds(i),o=this.getTicksAtTime(i);return this.getTimeOfTick(o+e)-a}getTimeOfTick(e){const i=this._events.get(e,"ticks"),a=this._events.getAfter(e,"ticks");if(i&&i.ticks===e)return i.time;if(i&&a&&a.type==="linearRampToValueAtTime"&&i.value!==a.value){const o=this._fromType(this.getValueAtTime(i.time)),f=(this._fromType(this.getValueAtTime(a.time))-o)/(a.time-i.time),d=Math.sqrt(Math.pow(o,2)-2*f*(i.ticks-e)),m=(-o+d)/f,p=(-o-d)/f;return(m>0?m:p)+i.time}else return i?i.value===0?1/0:i.time+(e-i.ticks)/i.value:e/this._initialValue}ticksToTime(e,i){return this.getDurationOfTicks(e,i)}timeToTicks(e,i){const a=this.toSeconds(i),o=this.toSeconds(e),h=this.getTicksAtTime(a);return this.getTicksAtTime(a+o)-h}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const i=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(i,0)}}class ff extends Wt{constructor(){const e=dt(ff.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new hf({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Wt.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,i){return this._param.ticksToTime(e,i)}timeToTicks(e,i){return this._param.timeToTicks(e,i)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,i){return this._param.getDurationOfTicks(e,i)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class df extends we{constructor(){const e=dt(df.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new Kl,this._tickOffset=new Mn,this._ticksAtTime=new Mn,this._secondsAtTime=new Mn,this.frequency=new ff({context:this.context,units:e.units,value:e.frequency}),Lt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},we.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,i){const a=this.toSeconds(e);return this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),wt(i)&&this.setTicksAtTime(i,a),this._ticksAtTime.cancel(a),this._secondsAtTime.cancel(a)),this}stop(e){const i=this.toSeconds(e);if(this._state.getValueAtTime(i)==="stopped"){const a=this._state.get(i);a&&a.time>0&&(this._tickOffset.cancel(a.time),this._state.cancel(a.time))}return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this.setTicksAtTime(0,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const i=this.toSeconds(e),a=this._state.getLastState("stopped",i),o=this._ticksAtTime.get(i),h={state:"paused",time:i};this._state.add(h);let f=o||a,d=o?o.ticks:0,m=null;return this._state.forEachBetween(f.time,i+this.sampleTime,p=>{let _=f.time;const y=this._tickOffset.get(p.time);y&&y.time>=f.time&&(d=y.ticks,_=y.time),f.state==="started"&&p.state!=="started"&&(d+=this.frequency.getTicksAtTime(p.time)-this.frequency.getTicksAtTime(_),p.time!==h.time&&(m={state:p.state,time:p.time,ticks:d})),f=p}),this._state.remove(h),m&&this._ticksAtTime.add(m),d}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const i=this.now(),a=this.frequency.timeToTicks(e,i);this.setTicksAtTime(a,i)}getSecondsAtTime(e){e=this.toSeconds(e);const i=this._state.getLastState("stopped",e),a={state:"paused",time:e};this._state.add(a);const o=this._secondsAtTime.get(e);let h=o||i,f=o?o.seconds:0,d=null;return this._state.forEachBetween(h.time,e+this.sampleTime,m=>{let p=h.time;const _=this._tickOffset.get(m.time);_&&_.time>=h.time&&(f=_.seconds,p=_.time),h.state==="started"&&m.state!=="started"&&(f+=m.time-p,m.time!==a.time&&(d={state:m.state,time:m.time,seconds:f})),h=m}),this._state.remove(a),d&&this._secondsAtTime.add(d),f}setTicksAtTime(e,i){return i=this.toSeconds(i),this._tickOffset.cancel(i),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,i),ticks:e,time:i}),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,i=this.now()){const a=this._tickOffset.get(i),o=this._state.get(i),h=Math.max(a.time,o.time),f=this.frequency.getTicksAtTime(h)+e-a.ticks;return this.frequency.getTimeOfTick(f)}forEachTickBetween(e,i,a){let o=this._state.get(e);this._state.forEachBetween(e,i,f=>{o&&o.state==="started"&&f.state!=="started"&&this.forEachTickBetween(Math.max(o.time,e),f.time-this.sampleTime,a),o=f});let h=null;if(o&&o.state==="started"){const f=Math.max(o.time,e),d=this.frequency.getTicksAtTime(f),m=this.frequency.getTicksAtTime(o.time),p=d-m;let _=Math.ceil(p)-p;_=zn(_,1)?0:_;let y=this.frequency.getTimeOfTick(d+_);for(;y<i;){try{a(y,Math.round(this.getTicksAtTime(y)))}catch(b){h=b;break}y+=this.frequency.getDurationOfTicks(1,y)}}if(h)throw h;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Po extends we{constructor(){const e=dt(Po.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=jt,this._lastUpdate=0,this._state=new Kl("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new df({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Lt(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(we.getDefaults(),{callback:jt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,i){h_(this.context);const a=this.toSeconds(e);return this.log("start",a),this._state.getValueAtTime(a)!=="started"&&(this._state.setStateAtTime("started",a),this._tickSource.start(a,i),a<this._lastUpdate&&this.emit("start",a,i)),this}stop(e){const i=this.toSeconds(e);return this.log("stop",i),this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._tickSource.stop(i),i<this._lastUpdate&&this.emit("stop",i),this}pause(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)==="started"&&(this._state.setStateAtTime("paused",i),this._tickSource.pause(i),i<this._lastUpdate&&this.emit("pause",i)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,i){return this._tickSource.setTicksAtTime(e,i),this}getTimeOfTick(e,i=this.now()){return this._tickSource.getTimeOfTick(e,i)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,i){const a=this.toSeconds(i),o=this.getTicksAtTime(a);return this._tickSource.getTimeOfTick(o+e,a)}_loop(){const e=this._lastUpdate,i=this.now();this._lastUpdate=i,this.log("loop",e,i),e!==i&&(this._state.forEachBetween(e,i,a=>{switch(a.state){case"started":const o=this._tickSource.getTicksAtTime(a.time);this.emit("start",a.time,o);break;case"stopped":a.time!==0&&this.emit("stop",a.time);break;case"paused":this.emit("pause",a.time);break}}),this._tickSource.forEachTickBetween(e,i,(a,o)=>{this.callback(a,o)}))}getStateAtTime(e){const i=this.toSeconds(e);return this._state.getValueAtTime(i)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Fl.mixin(Po);class pf extends mt{constructor(){const e=dt(pf.getDefaults(),arguments,["delayTime","maxDelay"]);super(e),this.name="Delay";const i=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(i,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(i),this.delayTime=new kt({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),Lt(this,"delayTime")}static getDefaults(){return Object.assign(mt.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}class Ui extends mt{constructor(){const e=dt(Ui.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Gt({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Lt(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(mt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class mf extends mt{constructor(){const e=dt(mf.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ui({context:this.context}),this.output=new Gt({context:this.context}),this.volume=this.input.volume,Ll(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(mt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ll(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Wo(r=>{r.destination=new mf({context:r})});Ko(r=>{r.destination.dispose()});class v2 extends mt{constructor(){super(...arguments),this.name="Listener",this.positionX=new kt({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new kt({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new kt({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new kt({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new kt({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new kt({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new kt({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new kt({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new kt({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(mt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Wo(r=>{r.listener=new v2({context:r})});Ko(r=>{r.listener.dispose()});class gf extends Cs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=dt(gf.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(i=>{this._loadingCount++;const a=e.urls[i];this.add(i,a,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:jt,onload:jt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return _t(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,i])=>i.loaded)}add(e,i,a=jt,o=jt){return Ss(i)?(this.baseUrl&&i.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new Ft(this.baseUrl+i,a,o))):this._buffers.set(e.toString(),new Ft(i,a,o)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class jo extends mn{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Ri(super._frequencyToUnits(e))}_ticksToUnits(e){return Ri(super._ticksToUnits(e))}_beatsToUnits(e){return Ri(super._beatsToUnits(e))}_secondsToUnits(e){return Ri(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return b_(this.toMidi())}transpose(e){return new jo(this.context,this.toMidi()+e)}}class Se extends Oa{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class b2 extends we{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Mn,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,i){return this._events.add({callback:e,time:this.toSeconds(i)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,i=>{e-i.time<=this.expiration&&i.callback(),this._events.remove(i)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Wo(r=>{r.draw=new b2({context:r})});Ko(r=>{r.draw.dispose()});class S2 extends Cs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){_t(wt(e.time),"Events must have a time property"),_t(wt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let i=new T2(e.time,e.time+e.duration,e);for(this._root===null?this._root=i:this._root.insert(i),this._length++;i!==null;)i.updateHeight(),i.updateMax(),this._rebalance(i),i=i.parent;return this}remove(e){if(this._root!==null){const i=[];this._root.search(e.time,i);for(const a of i)if(a.event===e){this._removeNode(a),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,i=>this.remove(i)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,i){e.parent!==null?(e.isLeftChild()?e.parent.left=i:e.parent.right=i,this._rebalance(e.parent)):this._setRoot(i)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const i=e.getBalance();let a,o=null;if(i>0)if(e.left.right===null)a=e.left,a.right=e.right,o=a;else{for(a=e.left.right;a.right!==null;)a=a.right;a.parent&&(a.parent.right=a.left,o=a.parent,a.left=e.left,a.right=e.right)}else if(e.right.left===null)a=e.right,a.left=e.left,o=a;else{for(a=e.right.left;a.left!==null;)a=a.left;a.parent&&(a.parent.left=a.right,o=a.parent,a.left=e.left,a.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=a:e.parent.right=a:this._setRoot(a),o&&this._rebalance(o)}e.dispose()}_rotateLeft(e){const i=e.parent,a=e.isLeftChild(),o=e.right;o&&(e.right=o.left,o.left=e),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rotateRight(e){const i=e.parent,a=e.isLeftChild(),o=e.left;o&&(e.left=o.right,o.right=e),i!==null?a?i.left=o:i.right=o:this._setRoot(o)}_rebalance(e){const i=e.getBalance();i>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):i<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const i=[];if(this._root.search(e,i),i.length>0){let a=i[0];for(let o=1;o<i.length;o++)i[o].low>a.low&&(a=i[o]);return a.event}}return null}forEach(e){if(this._root!==null){const i=[];this._root.traverse(a=>i.push(a)),i.forEach(a=>{a.event&&e(a.event)})}return this}forEachAtTime(e,i){if(this._root!==null){const a=[];this._root.search(e,a),a.forEach(o=>{o.event&&i(o.event)})}return this}forEachFrom(e,i){if(this._root!==null){const a=[];this._root.searchAfter(e,a),a.forEach(o=>{o.event&&i(o.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class T2{constructor(e,i,a){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=a,this.low=e,this.high=i,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,i){e>this.max||(this.left!==null&&this.left.search(e,i),this.low<=e&&this.high>e&&i.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,i))}searchAfter(e,i){this.low>=e&&(i.push(this),this.left!==null&&this.left.searchAfter(e,i)),this.right!==null&&this.right.searchAfter(e,i)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class x2 extends Cs{constructor(e){super(),this.name="TimelineValue",this._timeline=new Mn({memory:10}),this._initialValue=e}set(e,i){return this._timeline.add({value:e,time:i}),this}get(e){const i=this._timeline.get(e);return i?i.value:this._initialValue}}class Ts extends mt{constructor(){super(dt(Ts.getDefaults(),arguments,["context"]))}connect(e,i=0,a=0){return uf(this,e,i,a),this}}class Li extends Ts{constructor(){const e=dt(Li.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,en(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):FA(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Wt.getDefaults(),{length:1024})}setMap(e,i=1024){const a=new Float32Array(i);for(let o=0,h=i;o<h;o++){const f=o/(h-1)*2-1;a[o]=e(f,o)}return this.curve=a,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const i=["none","2x","4x"].some(a=>a.includes(e));_t(i,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class _f extends Ts{constructor(){const e=dt(_f.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Li({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Ts.getDefaults(),{value:1})}_expFunc(e){return i=>Math.pow(Math.abs(i),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class ri{constructor(e,i){this.id=ri._eventId++,this._remainderTime=0;const a=Object.assign(ri.getDefaults(),i);this.transport=e,this.callback=a.callback,this._once=a.once,this.time=Math.floor(a.time),this._remainderTime=a.time-this.time}static getDefaults(){return{callback:jt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const i=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*i),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}ri._eventId=0;class yf extends ri{constructor(e,i){super(e,i),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const a=Object.assign(yf.getDefaults(),i);this.duration=a.duration,this._interval=a.interval,this._nextTick=a.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ri.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Vo(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Se(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Vo(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Se(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const i=this.transport.getTicksAtTime(e);ka(i,this.time)&&(this._nextTick=this.floatTime+Math.ceil((i-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class tc extends we{constructor(){const e=dt(tc.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new x2(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Mn,this._repeatedEvents=new S2,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Po({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Lt(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(we.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,i){if(this._loop.get(e)&&i>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),i=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&i%this._ppq!==0&&i%(this._swingTicks*2)!==0){const a=i%(this._swingTicks*2)/(this._swingTicks*2),o=Math.sin(a*Math.PI)*this._swingAmount;e+=new Se(this.context,this._swingTicks*2/3).toSeconds()*o}l0(!0),this._timeline.forEachAtTime(i,a=>a.invoke(e)),l0(!1)}schedule(e,i){const a=new ri(this,{callback:e,time:new Oa(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}scheduleRepeat(e,i,a,o=1/0){const h=new yf(this,{callback:e,duration:new On(this.context,o).toTicks(),interval:new On(this.context,i).toTicks(),time:new Oa(this.context,a).toTicks()});return this._addEvent(h,this._repeatedEvents)}scheduleOnce(e,i){const a=new ri(this,{callback:e,once:!0,time:new Oa(this.context,i).toTicks()});return this._addEvent(a,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const i=this._scheduledEvents[e.toString()];i.timeline.remove(i.event),i.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,i){return this._scheduledEvents[e.id.toString()]={event:e,timeline:i},i.add(e),e.id}cancel(e=0){const i=this.toTicks(e);return this._timeline.forEachFrom(i,a=>this.clear(a.id)),this._repeatedEvents.forEachFrom(i,a=>this.clear(a.id)),this}_bindClockEvents(){this._clock.on("start",(e,i)=>{i=new Se(this.context,i).toSeconds(),this.emit("start",e,i)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,i){this.context.resume();let a;return wt(i)&&(a=this.toTicks(i)),this._clock.start(e,a),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){en(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new On(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new On(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Se(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),i=this._clock.getTicksAtTime(e);return new Se(this.context,i).toBarsBeatsSixteenths()}set position(e){const i=this.toTicks(e);this.ticks=i}get seconds(){return this._clock.seconds}set seconds(e){const i=this.now(),a=this._clock.frequency.timeToTicks(e,i);this.ticks=a}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const i=this.now();if(this.state==="started"){const a=this._clock.getTicksAtTime(i),o=this._clock.frequency.getDurationOfTicks(Math.ceil(a)-a,i),h=i+o;this.emit("stop",h),this._clock.setTicksAtTime(e,h),this.emit("start",h,this._clock.getSecondsAtTime(h))}else this.emit("ticks",i),this._clock.setTicksAtTime(e,i)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const i=this.now(),a=this.getTicksAtTime(i),o=e-a%e;return this._clock.nextTickTime(o,i)}}syncSignal(e,i){const a=this.now();let o=this.bpm,h=1/(60/o.getValueAtTime(a)/this.PPQ),f=[];if(e.units==="time"){const m=.015625/h,p=new Gt(m),_=new _f(-1),y=new Gt(m);o.chain(p,_,y),o=y,h=1/h,f=[p,_,y]}i||(e.getValueAtTime(a)!==0?i=e.getValueAtTime(a)/h:i=0);const d=new Gt(i);return o.connect(d),d.connect(e._param),f.push(d),this._syncedSignals.push({initial:e.value,nodes:f,signal:e}),e.value=0,this}unsyncSignal(e){for(let i=this._syncedSignals.length-1;i>=0;i--){const a=this._syncedSignals[i];a.signal===e&&(a.nodes.forEach(o=>o.dispose()),a.signal.value=a.initial,this._syncedSignals.splice(i,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),rf(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Fl.mixin(tc);Wo(r=>{r.transport=new tc({context:r})});Ko(r=>{r.transport.dispose()});class Ue extends mt{constructor(e){super(e),this.input=void 0,this._state=new Kl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=jt,this._syncedStop=jt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ui({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Lt(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(mt.getDefaults(),{mute:!1,onstop:jt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,i,a){let o=gn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(o=this._clampToCurrentTime(o),!this._synced&&this._state.getValueAtTime(o)==="started")_t(ka(o,this._state.get(o).time),"Start time must be strictly greater than previous start time"),this._state.cancel(o),this._state.setStateAtTime("started",o),this.log("restart",o),this.restart(o,i,a);else if(this.log("start",o),this._state.setStateAtTime("started",o),this._synced){const h=this._state.get(o);h&&(h.offset=this.toSeconds(Qn(i,0)),h.duration=a?this.toSeconds(a):void 0);const f=this.context.transport.schedule(d=>{this._start(d,i,a)},o);this._scheduled.push(f),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>o&&this._syncedStart(this.now(),this.context.transport.seconds)}else h_(this.context),this._start(o,i,a);return this}stop(e){let i=gn(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(i=this._clampToCurrentTime(i),this._state.getValueAtTime(i)==="started"||wt(this._state.getNextState("started",i))){if(this.log("stop",i),!this._synced)this._stop(i);else{const a=this.context.transport.schedule(this._stop.bind(this),i);this._scheduled.push(a)}this._state.cancel(i),this._state.setStateAtTime("stopped",i)}return this}restart(e,i,a){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,i,a)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,i)=>{if(ka(i,0)){const a=this._state.get(i);if(a&&a.state==="started"&&a.time!==i){const o=i-this.toSeconds(a.time);let h;a.duration&&(h=this.toSeconds(a.duration)-o),this._start(e,this.toSeconds(a.offset)+o,h)}}},this._syncedStop=e=>{const i=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(i)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=jt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Jl extends za{constructor(){const e=dt(Jl.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,li(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new kt({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Ft(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(za.getDefaults(),{url:new Ft,loop:!1,loopEnd:0,loopStart:0,onload:jt,onerror:jt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,i,a,o=1){_t(this.buffer.loaded,"buffer is either not set or not loaded");const h=this.toSeconds(e);this._startGain(h,o),this.loop?i=Qn(i,this.loopStart):i=Qn(i,0);let f=Math.max(this.toSeconds(i),0);if(this.loop){const d=this.toSeconds(this.loopEnd)||this.buffer.duration,m=this.toSeconds(this.loopStart),p=d-m;Lh(f,d)&&(f=(f-m)%p+m),zn(f,this.buffer.duration)&&(f=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Vo(f,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(h,f)),wt(a)){let d=this.toSeconds(a);d=Math.max(d,0),this.stop(h+d)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Va extends Ue{constructor(){const e=dt(Va.getDefaults(),arguments,["type"]);super(e),this.name="Noise",this._source=null,this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ue.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(_t(e in o0,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,this.state==="started")){const i=this.now();this._stop(i),this._start(i)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const i=o0[this._type];this._source=new Jl({url:i,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(i.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const Ca=44100*5,Oh=2,_s={brown:null,pink:null,white:null},o0={get brown(){if(!_s.brown){const r=[];for(let e=0;e<Oh;e++){const i=new Float32Array(Ca);r[e]=i;let a=0;for(let o=0;o<Ca;o++){const h=Math.random()*2-1;i[o]=(a+.02*h)/1.02,a=i[o],i[o]*=3.5}}_s.brown=new Ft().fromArray(r)}return _s.brown},get pink(){if(!_s.pink){const r=[];for(let e=0;e<Oh;e++){const i=new Float32Array(Ca);r[e]=i;let a,o,h,f,d,m,p;a=o=h=f=d=m=p=0;for(let _=0;_<Ca;_++){const y=Math.random()*2-1;a=.99886*a+y*.0555179,o=.99332*o+y*.0750759,h=.969*h+y*.153852,f=.8665*f+y*.3104856,d=.55*d+y*.5329522,m=-.7616*m-y*.016898,i[_]=a+o+h+f+d+m+p+y*.5362,i[_]*=.11,p=y*.115926}}_s.pink=new Ft().fromArray(r)}return _s.pink},get white(){if(!_s.white){const r=[];for(let e=0;e<Oh;e++){const i=new Float32Array(Ca);r[e]=i;for(let a=0;a<Ca;a++)i[a]=Math.random()*2-1}_s.white=new Ft().fromArray(r)}return _s.white}};function Bi(r,e){return le(this,void 0,void 0,function*(){const i=e/r.context.sampleRate,a=new Jo(1,i,r.context.sampleRate);return new r.constructor(Object.assign(r.get(),{frequency:2/i,detune:0,context:a})).toDestination().start(0),(yield a.render()).getChannelData(0)})}class vf extends za{constructor(){const e=dt(vf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],li(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new kt({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new kt({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Lt(this,["frequency","detune"])}static getDefaults(){return Object.assign(za.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const i=this.toSeconds(e);return this.log("start",i),this._startGain(i),this._oscillator.start(i),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class ve extends Ue{constructor(){const e=dt(ve.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency}),Lt(this,"frequency"),this.detune=new Wt({context:this.context,units:"cents",value:e.detune}),Lt(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Ue.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const i=this.toSeconds(e),a=new vf({context:this.context,onended:()=>this.onstop(this)});this._oscillator=a,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(i)}_stop(e){const i=this.toSeconds(e);this._oscillator&&this._oscillator.stop(i)}_restart(e){const i=this.toSeconds(e);return this.log("restart",i),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(i),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return ve._periodicWaveCache.find(i=>i.phase===this._phase&&i2(i.partials,this._partials));{const e=ve._periodicWaveCache.find(i=>i.type===this._type&&i.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const i=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&i)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const a=this._getCachedPeriodicWave();if(wt(a)){const{partials:o,wave:h}=a;this._wave=h,this._partials=o,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[o,h]=this._getRealImaginary(e,this._phase),f=this.context.createPeriodicWave(o,h);this._wave=f,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),ve._periodicWaveCache.push({imag:h,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:o,type:this._type,wave:this._wave}),ve._periodicWaveCache.length>100&&ve._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Nn(e,0);let i=this._type;const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(a&&(i=a[1]),this._type!=="custom")e===0?this.type=i:this.type=i+e.toString();else{const o=new Float32Array(e);this._partials.forEach((h,f)=>o[f]=h),this._partials=Array.from(o),this.type=this._type}}_getRealImaginary(e,i){let o=2048;const h=new Float32Array(o),f=new Float32Array(o);let d=1;if(e==="custom"){if(d=this._partials.length+1,this._partialCount=this._partials.length,o=d,this._partials.length===0)return[h,f]}else{const m=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);m?(d=parseInt(m[2],10)+1,this._partialCount=parseInt(m[2],10),e=m[1],d=Math.max(d,2),o=d):this._partialCount=0,this._partials=[]}for(let m=1;m<o;++m){const p=2/(m*Math.PI);let _;switch(e){case"sine":_=m<=d?1:0,this._partials[m-1]=_;break;case"square":_=m&1?2*p:0,this._partials[m-1]=_;break;case"sawtooth":_=p*(m&1?1:-1),this._partials[m-1]=_;break;case"triangle":m&1?_=2*(p*p)*(m-1>>1&1?-1:1):_=0,this._partials[m-1]=_;break;case"custom":_=this._partials[m-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}_!==0?(h[m]=-_*Math.sin(i*m),f[m]=_*Math.cos(i*m)):(h[m]=0,f[m]=0)}return[h,f]}_inverseFFT(e,i,a){let o=0;const h=e.length;for(let f=0;f<h;f++)o+=e[f]*Math.cos(f*a)+i[f]*Math.sin(f*a);return o}getInitialValue(){const[e,i]=this._getRealImaginary(this._type,0);let a=0;const o=Math.PI*2,h=32;for(let f=0;f<h;f++)a=Math.max(this._inverseFFT(e,i,f/h*o),a);return l2(-this._inverseFFT(e,i,this._phase)/a,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}ve._periodicWaveCache=[];class A2 extends Ts{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Li({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class oi extends Wt{constructor(){const e=dt(oi.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Gt({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Wt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class ec extends Ue{constructor(){const e=dt(ec.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new A2({context:this.context}),this._modulationNode=new Gt({context:this.context}),this._carrier=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new ve({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new oi({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Lt(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ve.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class $l extends Ue{constructor(){const e=dt($l.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Gt({context:this.context,gain:0}),this._carrier=new ve({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new ve({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new oi({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new oi({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Lt(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(ve.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Pl extends Ue{constructor(){const e=dt(Pl.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Gt({context:this.context,gain:0}),this._thresh=new Li({context:this.context,mapping:i=>i<=0?-1:1}),this.width=new Wt({context:this.context,units:"audioRange",value:e.width}),this._triangle=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Lt(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Ue.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class nc extends Ue{constructor(){const e=dt(nc.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Wt({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Lt(this,["frequency","detune"])}static getDefaults(){return Object.assign(ve.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(i=>i.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(i=>i.stop(e))}_restart(e){this._forEach(i=>i.restart(e))}_forEach(e){for(let i=0;i<this._oscillators.length;i++)e(this._oscillators[i],i)}get type(){return this._type}set type(e){this._type=e,this._forEach(i=>i.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const i=-e/2,a=e/(this._oscillators.length-1);this._forEach((o,h)=>o.detune.value=i+a*h)}}get count(){return this._oscillators.length}set count(e){if(Nn(e,1),this._oscillators.length!==e){this._forEach(i=>i.dispose()),this._oscillators=[];for(let i=0;i<e;i++){const a=new ve({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+i/e*360,partialCount:this._partialCount,onstop:i===0?()=>this.onstop(this):jt});this.type==="custom"&&(a.partials=this._partials),this.frequency.connect(a.frequency),this.detune.connect(a.detune),a.detune.overridden=!1,a.connect(this.output),this._oscillators[i]=a}this.spread=this._spread,this.state==="started"&&this._forEach(i=>i.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((i,a)=>i.phase=this._phase+a/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(i=>i.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(i=>i.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(i=>i.partialCount=e),this._type=this._oscillators[0].type}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class sc extends Ue{constructor(){const e=dt(sc.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new oi({context:this.context,value:2}),this._pulse=new Pl({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new ve({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Lt(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Ue.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const c0={am:ec,fat:nc,fm:$l,oscillator:ve,pulse:Pl,pwm:sc};class qo extends Ue{constructor(){const e=dt(qo.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Wt({context:this.context,units:"cents",value:e.detune}),Lt(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(ve.getDefaults(),$l.getDefaults(),ec.getDefaults(),nc.getDefaults(),Pl.getDefaults(),sc.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(i=>this._sourceType===i)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const i=c0[e],a=this.now();if(this._oscillator){const o=this._oscillator;o.stop(a),this.context.setTimeout(()=>o.dispose(),this.blockTime)}this._oscillator=new i({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(a)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let i="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(i=this._oscillator.type),e==="fm"?this.type="fm"+i:e==="am"?this.type="am"+i:e==="fat"?this.type="fat"+i:e==="oscillator"?this.type=i:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,i){return e instanceof c0[i]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&qn(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&qn(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ss(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return le(this,arguments,void 0,function*(e=1024){return Bi(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class bf extends Wt{constructor(){super(dt(bf.getDefaults(),arguments,["value"])),this.override=!1,this.name="Add",this._sum=new Gt({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ll(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Wt.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Sf extends Ts{constructor(){const e=dt(Sf.getDefaults(),arguments,["min","max"]);super(e),this.name="Scale",this._mult=this.input=new oi({context:this.context,value:e.max-e.min}),this._add=this.output=new bf({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Ts.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}function S_(r,e=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(h){Nn(h,r,e),i.set(this,h)}})}}function ws(r,e=1/0){const i=new WeakMap;return function(a,o){Reflect.defineProperty(a,o,{configurable:!0,enumerable:!0,get:function(){return i.get(this)},set:function(h){Nn(this.toSeconds(h),r,e),i.set(this,h)}})}}class ic extends Ue{constructor(){const e=dt(ic.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Ft({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Ue.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:jt,onerror:jt,playbackRate:1,reverse:!1})}load(e){return le(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=jt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,i,a){return super.start(e,i,a),this}_start(e,i,a){this._loop?i=Qn(i,this._loopStart):i=Qn(i,0);const o=this.toSeconds(i),h=a;a=Qn(a,Math.max(this._buffer.duration-o,0));let f=this.toSeconds(a);f=f/this._playbackRate,e=this.toSeconds(e);const d=new Jl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+f),this._state.setStateAtTime("stopped",e+f,{implicitEnd:!0})),this._activeSources.add(d),this._loop&&gn(h)?d.start(e,o):d.start(e,o,f-this.toSeconds(this.fadeOut))}_stop(e){const i=this.toSeconds(e);this._activeSources.forEach(a=>a.stop(i))}restart(e,i,a){return super.restart(e,i,a),this}_restart(e,i,a){var o;(o=[...this._activeSources].pop())===null||o===void 0||o.stop(e),this._start(e,i,a)}seek(e,i){const a=this.toSeconds(i);if(this._state.getValueAtTime(a)==="started"){const o=this.toSeconds(e);this._stop(a),this._start(a,o)}return this}setLoopPoints(e,i){return this.loopStart=e,this.loopEnd=i,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Nn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Nn(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(i=>{i.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(i=>{i.loop=e}),e)){const i=this._state.getNextState("stopped",this.now());i&&this._state.cancel(i.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const i=this.now(),a=this._state.getNextState("stopped",i);a&&a.implicitEnd&&(this._state.cancel(a.time),this._activeSources.forEach(o=>o.cancelStop())),this._activeSources.forEach(o=>{o.playbackRate.setValueAtTime(e,i)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Hn([ws(0)],ic.prototype,"fadeIn",void 0);Hn([ws(0)],ic.prototype,"fadeOut",void 0);class C2 extends Ts{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Li({context:this.context,mapping:e=>Math.abs(e)*2-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Un extends mt{constructor(){const e=dt(Un.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new Wt({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(mt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,i){if(Ss(e))return e;{let a;for(a in To)if(To[a][i]===e)return a;return e}}_setCurve(e,i,a){if(Ss(a)&&Reflect.has(To,a)){const o=To[a];si(o)?e!=="_decayCurve"&&(this[e]=o[i]):this[e]=o}else if(en(a)&&e!=="_decayCurve")this[e]=a;else throw new Error("Envelope: invalid curve: "+a)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,i=1){this.log("triggerAttack",e,i),e=this.toSeconds(e);let o=this.toSeconds(this.attack);const h=this.toSeconds(this.decay),f=this.getValueAtTime(e);if(f>0){const d=1/o;o=(1-f)/d}if(o<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(i,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(i,o,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(i,o,e);else{this._sig.cancelAndHoldAtTime(e);let d=this._attackCurve;for(let m=1;m<d.length;m++)if(d[m-1]<=f&&f<=d[m]){d=this._attackCurve.slice(m),d[0]=f;break}this._sig.setValueCurveAtTime(d,e,o,i)}if(h&&this.sustain<1){const d=i*this.sustain,m=e+o;this.log("decay",m),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(d,h+m):this._sig.exponentialApproachValueAtTime(d,m,h)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const i=this.getValueAtTime(e);if(i>0){const a=this.toSeconds(this.release);a<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,a,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,a,e):(_t(en(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,a,i))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,i,a=1){return i=this.toSeconds(i),this.triggerAttack(i,a),this.triggerRelease(i+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,i=0,a=0){return uf(this,e,i,a),this}asArray(){return le(this,arguments,void 0,function*(e=1024){const i=e/this.context.sampleRate,a=new Jo(1,i,this.context.sampleRate),o=this.toSeconds(this.attack)+this.toSeconds(this.decay),h=o+this.toSeconds(this.release),f=h*.1,d=h+f,m=new this.constructor(Object.assign(this.get(),{attack:i*this.toSeconds(this.attack)/d,decay:i*this.toSeconds(this.decay)/d,release:i*this.toSeconds(this.release)/d,context:a}));return m._sig.toDestination(),m.triggerAttackRelease(i*(o+f)/d,0),(yield a.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Hn([ws(0)],Un.prototype,"attack",void 0);Hn([ws(0)],Un.prototype,"decay",void 0);Hn([S_(0,1)],Un.prototype,"sustain",void 0);Hn([ws(0)],Un.prototype,"release",void 0);const To=(()=>{let e,i;const a=[];for(e=0;e<128;e++)a[e]=Math.sin(e/127*(Math.PI/2));const o=[],h=6.4;for(e=0;e<127;e++){i=e/127;const b=Math.sin(i*(Math.PI*2)*h-Math.PI/2)+1;o[e]=b/10+i*.83}o[127]=1;const f=[],d=5;for(e=0;e<128;e++)f[e]=Math.ceil(e/127*d)/d;const m=[];for(e=0;e<128;e++)i=e/127,m[e]=.5*(1-Math.cos(Math.PI*i));const p=[];for(e=0;e<128;e++){i=e/127;const b=Math.pow(i,3)*4+.2,T=Math.cos(b*Math.PI*2*i);p[e]=Math.abs(T*(1-i))}function _(b){const T=new Array(b.length);for(let S=0;S<b.length;S++)T[S]=1-b[S];return T}function y(b){return b.slice(0).reverse()}return{bounce:{In:_(p),Out:p},cosine:{In:a,Out:y(a)},exponential:"exponential",linear:"linear",ripple:{In:o,Out:_(o)},sine:{In:m,Out:_(m)},step:{In:f,Out:_(f)}}})();class Wn extends mt{constructor(){const e=dt(Wn.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=i=>this._original_triggerRelease(i),this._volume=this.output=new Ui({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Lt(this,"volume")}static getDefaults(){return Object.assign(mt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,i){const a=this["_original_"+e]=this[e];this[e]=(...o)=>{const h=o[i],f=this.context.transport.schedule(d=>{o[i]=d,a.apply(this,o)},h);this._scheduledEvents.push(f)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,i,a,o){const h=this.toSeconds(a),f=this.toSeconds(i);return this.triggerAttack(e,h,o),this.triggerRelease(h+f),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class xs extends Wn{constructor(){const e=dt(xs.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Wn.getDefaults(),{detune:0,onsilence:jt,portamento:0})}triggerAttack(e,i,a=1){this.log("triggerAttack",e,i,a);const o=this.toSeconds(i);return this._triggerEnvelopeAttack(o,a),this.setNote(e,o),this}triggerRelease(e){this.log("triggerRelease",e);const i=this.toSeconds(e);return this._triggerEnvelopeRelease(i),this}setNote(e,i){const a=this.toSeconds(i),o=e instanceof mn?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(a)>.05){const h=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(o,h,a)}else this.frequency.setValueAtTime(o,a);return this}}Hn([ws(0)],xs.prototype,"portamento",void 0);class ac extends Un{constructor(){super(dt(ac.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gt({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Vn extends xs{constructor(){const e=dt(Vn.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new qo(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ac(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Lt(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(xs.getDefaults(),{envelope:Object.assign(Ra(Un.getDefaults(),Object.keys(mt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ra(qo.getDefaults(),[...Object.keys(Ue.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,i){if(this.envelope.triggerAttack(e,i),this.oscillator.start(e),this.envelope.sustain===0){const a=this.toSeconds(this.envelope.attack),o=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+a+o)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Uo extends mt{constructor(){const e=dt(Uo.getDefaults(),arguments,["frequency","type"]);super(e),this.name="BiquadFilter",this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new kt({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new kt({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new kt({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new kt({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(mt.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){_t(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const i=new Float32Array(e);for(let f=0;f<e;f++){const m=Math.pow(f/e,2)*19980+20;i[f]=m}const a=new Float32Array(e),o=new Float32Array(e),h=this.context.createBiquadFilter();return h.type=this.type,h.Q.value=this.Q.value,h.frequency.value=this.frequency.value,h.gain.value=this.gain.value,h.getFrequencyResponse(i,a,o),a}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class lc extends mt{constructor(){const e=dt(lc.getDefaults(),arguments,["frequency","type","rolloff"]);super(e),this.name="Filter",this.input=new Gt({context:this.context}),this.output=new Gt({context:this.context}),this._filters=[],this._filters=[],this.Q=new Wt({context:this.context,units:"positive",value:e.Q}),this.frequency=new Wt({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Wt({context:this.context,units:"cents",value:e.detune}),this.gain=new Wt({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,Lt(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(mt.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){_t(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e)!==-1,`Invalid filter type: ${e}`),this._type=e,this._filters.forEach(a=>a.type=e)}get rolloff(){return this._rolloff}set rolloff(e){const i=qn(e)?e:parseInt(e,10),a=[-12,-24,-48,-96];let o=a.indexOf(i);_t(o!==-1,`rolloff can only be ${a.join(", ")}`),o+=1,this._rolloff=i,this.input.disconnect(),this._filters.forEach(h=>h.disconnect()),this._filters=new Array(o);for(let h=0;h<o;h++){const f=new Uo({context:this.context});f.type=this._type,this.frequency.connect(f.frequency),this.detune.connect(f.detune),this.Q.connect(f.Q),this.gain.connect(f.gain),this._filters[h]=f}this._internalChannels=this._filters,Ll(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const i=new Uo({context:this.context,frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),a=new Float32Array(e).map(()=>1);return this._filters.forEach(()=>{i.getFrequencyResponse(e).forEach((h,f)=>a[f]*=h)}),i.dispose(),a}dispose(){return super.dispose(),this._filters.forEach(e=>{e.dispose()}),rf(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}const u0=[1,1.483,1.932,2.546,2.63,3.897];class Lo extends xs{constructor(){const e=dt(Lo.getDefaults(),arguments);super(e),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[],this.detune=new Wt({context:this.context,units:"cents",value:e.detune}),this.frequency=new Wt({context:this.context,units:"frequency"}),this._amplitude=new Gt({context:this.context,gain:0}).connect(this.output),this._highpass=new lc({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let i=0;i<u0.length;i++){const a=new $l({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:i===0?()=>this.onsilence(this):jt,type:"square"});a.connect(this._highpass),this._oscillators[i]=a;const o=new oi({context:this.context,value:u0[i]});this._freqMultipliers[i]=o,this.frequency.chain(o,a.frequency),this.detune.connect(a.detune)}this._filterFreqScaler=new Sf({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new Un({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return ai(xs.getDefaults(),{envelope:Object.assign(Ra(Un.getDefaults(),Object.keys(mt.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,i=1){return this.envelope.triggerAttack(e,i),this._oscillators.forEach(a=>a.start(e)),this.envelope.sustain===0&&this._oscillators.forEach(a=>{a.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))}),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach(i=>i.stop(e+this.toSeconds(this.envelope.release))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach(i=>i.modulationIndex.value=e)}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach(i=>i.harmonicity.value=e)}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach(e=>e.dispose()),this._freqMultipliers.forEach(e=>e.dispose()),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class ei extends Vn{constructor(){const e=dt(ei.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Lt(this,["oscillator","envelope"])}static getDefaults(){return ai(xs.getDefaults(),Vn.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,i){const a=this.toSeconds(i),o=this.toFrequency(e instanceof mn?e.toFrequency():e),h=o*this.octaves;return this.oscillator.frequency.setValueAtTime(h,a),this.oscillator.frequency.exponentialRampToValueAtTime(o,a+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Hn([S_(0)],ei.prototype,"octaves",void 0);Hn([ws(0)],ei.prototype,"pitchDecay",void 0);class Mi extends Wn{constructor(){const e=dt(Mi.getDefaults(),arguments);super(e),this.name="NoiseSynth",this.noise=new Va(Object.assign({context:this.context},e.noise)),this.envelope=new ac(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Wn.getDefaults(),{envelope:Object.assign(Ra(Un.getDefaults(),Object.keys(mt.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ra(Va.getDefaults(),Object.keys(Ue.getDefaults())),{type:"white"})})}triggerAttack(e,i=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,i),this.noise.start(e),this.envelope.sustain===0&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,i,a=1){return i=this.toSeconds(i),e=this.toSeconds(e),this.triggerAttack(i,a),this.triggerRelease(i+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const T_=new Set;function Tf(r){T_.add(r)}function x_(r,e){const i=`registerProcessor("${r}", ${e})`;T_.add(i)}const w2=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;Tf(w2);const E2=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;Tf(E2);const N2=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;Tf(N2);const O2="feedback-comb-filter",M2=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;x_(O2,M2);class vs extends Wn{constructor(){const e=dt(vs.getDefaults(),arguments,["voice","options"]);super(e),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0,this._syncedRelease=o=>this.releaseAll(o),_t(!qn(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const i=e.voice.getDefaults();this.options=Object.assign(i,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const a=this._voices.indexOf(this._dummyVoice);this._voices.splice(a,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Wn.getDefaults(),{maxPolyphony:32,options:{},voice:Vn})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const i=this._activeVoices.findIndex(a=>a.voice===e);this._activeVoices.splice(i,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return _t(e instanceof xs,"Voice must extend Monophonic class"),e.connect(this.output),this._voices.push(e),e}else Fo("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(this._averageActiveVoices*.95,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),i=this._voices.indexOf(e);this._voices.splice(i,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,i,a){e.forEach(o=>{const h=new jo(this.context,o).toMidi(),f=this._getNextAvailableVoice();f&&(f.triggerAttack(o,i,a),this._activeVoices.push({midi:h,voice:f,released:!1}),this.log("triggerAttack",o,i))})}_triggerRelease(e,i){e.forEach(a=>{const o=new jo(this.context,a).toMidi(),h=this._activeVoices.find(({midi:f,released:d})=>f===o&&!d);h&&(h.voice.triggerRelease(i),h.released=!0,this.log("triggerRelease",a,i))})}_scheduleEvent(e,i,a,o){_t(!this.disposed,"Synth was already disposed"),a<=this.now()?e==="attack"?this._triggerAttack(i,a,o):this._triggerRelease(i,a):this.context.setTimeout(()=>{this.disposed||this._scheduleEvent(e,i,a,o)},a-this.now())}triggerAttack(e,i,a){Array.isArray(e)||(e=[e]);const o=this.toSeconds(i);return this._scheduleEvent("attack",e,o,a),this}triggerRelease(e,i){Array.isArray(e)||(e=[e]);const a=this.toSeconds(i);return this._scheduleEvent("release",e,a),this}triggerAttackRelease(e,i,a,o){const h=this.toSeconds(a);if(this.triggerAttack(e,h,o),en(i)){_t(en(e),"If the duration is an array, the notes must also be an array"),e=e;for(let f=0;f<e.length;f++){const d=i[Math.min(f,i.length-1)],m=this.toSeconds(d);_t(m>0,"The duration must be greater than 0"),this.triggerRelease(e[f],h+m)}}else{const f=this.toSeconds(i);_t(f>0,"The duration must be greater than 0"),this.triggerRelease(e,h+f)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}set(e){const i=Ra(e,["onsilence","context"]);return this.options=ai(this.options,i),this._voices.forEach(a=>a.set(i)),this._dummyVoice.set(i),this}get(){return this._dummyVoice.get()}releaseAll(e){const i=this.toSeconds(e);return this._activeVoices.forEach(({voice:a})=>{a.triggerRelease(i)}),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach(e=>e.dispose()),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class rc extends Wn{constructor(){const e=dt(rc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const i={};Object.keys(e.urls).forEach(a=>{const o=parseInt(a,10);if(_t(So(a)||qn(o)&&isFinite(o),`url key is neither a note or midi pitch: ${a}`),So(a)){const h=new mn(this.context,a).toMidi();i[h]=e.urls[a]}else qn(o)&&isFinite(o)&&(i[o]=e.urls[o])}),this._buffers=new gf({urls:i,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Wn.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:jt,onerror:jt,release:.1,urls:{}})}_findClosest(e){let a=0;for(;a<96;){if(this._buffers.has(e+a))return-a;if(this._buffers.has(e-a))return a;a++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,i,a=1){return this.log("triggerAttack",e,i,a),Array.isArray(e)||(e=[e]),e.forEach(o=>{const h=v_(new mn(this.context,o).toFrequency()),f=Math.round(h),d=h-f,m=this._findClosest(f),p=f-m,_=this._buffers.get(p),y=y_(m+d),b=new Jl({url:_,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:y}).connect(this.output);b.start(i,0,_.duration/y,a),en(this._activeSources.get(f))||this._activeSources.set(f,[]),this._activeSources.get(f).push(b),b.onended=()=>{if(this._activeSources&&this._activeSources.has(f)){const T=this._activeSources.get(f),S=T.indexOf(b);S!==-1&&T.splice(S,1)}}}),this}triggerRelease(e,i){return this.log("triggerRelease",e,i),Array.isArray(e)||(e=[e]),e.forEach(a=>{const o=new mn(this.context,a).toMidi();if(this._activeSources.has(o)&&this._activeSources.get(o).length){const h=this._activeSources.get(o);i=this.toSeconds(i),h.forEach(f=>{f.stop(i)}),this._activeSources.set(o,[])}}),this}releaseAll(e){const i=this.toSeconds(e);return this._activeSources.forEach(a=>{for(;a.length;)a.shift().stop(i)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,i,a,o=1){const h=this.toSeconds(a);return this.triggerAttack(e,h,o),en(i)?(_t(en(e),"notes must be an array when duration is array"),e.forEach((f,d)=>{const m=i[Math.min(d,i.length-1)];this.triggerRelease(f,h+this.toSeconds(m))})):this.triggerRelease(e,h+this.toSeconds(i)),this}add(e,i,a){if(_t(So(e)||isFinite(e),`note must be a pitch or midi: ${e}`),So(e)){const o=new mn(this.context,e).toMidi();this._buffers.add(o,i,a)}else this._buffers.add(e,i,a);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(i=>i.dispose())}),this._activeSources.clear(),this}}Hn([ws(0)],rc.prototype,"attack",void 0);Hn([ws(0)],rc.prototype,"release",void 0);class ki extends we{constructor(){const e=dt(ki.getDefaults(),arguments,["callback","value"]);super(e),this.name="ToneEvent",this._state=new Kl("stopped"),this._startOffset=0,this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(we.getDefaults(),{callback:jt,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,i=>{let a;if(i.state==="started"){i.id!==-1&&this.context.transport.clear(i.id);const o=i.time+Math.round(this.startOffset/this._playbackRate);if(this._loop===!0||qn(this._loop)&&this._loop>1){a=1/0,qn(this._loop)&&(a=this._loop*this._getLoopDuration());const h=this._state.getAfter(o);h!==null&&(a=Math.min(a,h.time-o)),a!==1/0&&(a=new Se(this.context,a));const f=new Se(this.context,this._getLoopDuration());i.id=this.context.transport.scheduleRepeat(this._tick.bind(this),f,new Se(this.context,o),a)}else i.id=this.context.transport.schedule(this._tick.bind(this),new Se(this.context,o))}})}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const i=this.toTicks(e);return this._state.getValueAtTime(i)==="stopped"&&(this._state.add({id:-1,state:"started",time:i}),this._rescheduleEvents(i)),this}stop(e){this.cancel(e);const i=this.toTicks(e);if(this._state.getValueAtTime(i)==="started"){this._state.setStateAtTime("stopped",i,{id:-1});const a=this._state.getBefore(i);let o=i;a!==null&&(o=a.time),this._rescheduleEvents(o)}return this}cancel(e){e=Qn(e,-1/0);const i=this.toTicks(e);return this._state.forEachFrom(i,a=>{this.context.transport.clear(a.id)}),this._state.cancel(i),this}_tick(e){const i=this.context.transport.getTicksAtTime(e);if(!this.mute&&this._state.getValueAtTime(i)==="started"){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let a=.02;u_(this.humanize)||(a=this.toSeconds(this.humanize)),e+=(Math.random()*2-1)*a}this.callback(e,this.value)}}_getLoopDuration(){return(this._loopEnd-this._loopStart)/this._playbackRate}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new Se(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new Se(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,i=this._state.get(e);if(i!==null&&i.state==="started"){const a=this._getLoopDuration();return(e-i.time)%a/a}else return 0}else return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class xf extends we{constructor(){const e=dt(xf.getDefaults(),arguments,["callback","interval"]);super(e),this.name="Loop",this._event=new ki({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability,humanize:e.humanize}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(we.getDefaults(),{interval:"4n",callback:jt,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return this._event.loop===!0?1/0:this._event.loop}set iterations(e){e===1/0?this._event.loop=!0:this._event.loop=e}dispose(){return super.dispose(),this._event.dispose(),this}}class Bo extends ki{constructor(){const e=dt(Bo.getDefaults(),arguments,["callback","events"]);super(e),this.name="Part",this._state=new Kl("stopped"),this._events=new Set,this._state.increasing=!0,e.events.forEach(i=>{en(i)?this.add(i[0],i[1]):this.add(i)})}static getDefaults(){return Object.assign(ki.getDefaults(),{events:[]})}start(e,i){const a=this.toTicks(e);if(this._state.getValueAtTime(a)!=="started"){i=Qn(i,this._loop?this._loopStart:0),this._loop?i=Qn(i,this._loopStart):i=Qn(i,0);const o=this.toTicks(i);this._state.add({id:-1,offset:o,state:"started",time:a}),this._forEach(h=>{this._startNote(h,a,o)})}return this}_startNote(e,i,a){i-=a,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<a&&(i+=this._getLoopDuration()),e.start(new Se(this.context,i))):e.startOffset<this._loopStart&&e.startOffset>=a&&(e.loop=!1,e.start(new Se(this.context,i))):e.startOffset>=a&&e.start(new Se(this.context,i))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach(i=>{i.startOffset+=this._startOffset})}stop(e){const i=this.toTicks(e);return this._state.cancel(i),this._state.setStateAtTime("stopped",i),this._forEach(a=>{a.stop(e)}),this}at(e,i){const a=new Oa(this.context,e).toTicks(),o=new Se(this.context,1).toSeconds(),h=this._events.values();let f=h.next();for(;!f.done;){const d=f.value;if(Math.abs(a-d.startOffset)<o)return wt(i)&&(d.value=i),d;f=h.next()}return wt(i)?(this.add(e,i),this.at(e)):null}add(e,i){e instanceof Object&&Reflect.has(e,"time")&&(i=e,e=i.time);const a=this.toTicks(e);let o;return i instanceof ki?(o=i,o.callback=this._tick.bind(this)):o=new ki({callback:this._tick.bind(this),context:this.context,value:i}),o.startOffset=a,o.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(o),this._restartEvent(o),this}_restartEvent(e){this._state.forEach(i=>{i.state==="started"?this._startNote(e,i.time,i.offset):e.stop(new Se(this.context,i.time))})}remove(e,i){return si(e)&&e.hasOwnProperty("time")&&(i=e,e=i.time),e=this.toTicks(e),this._events.forEach(a=>{a.startOffset===e&&(gn(i)||wt(i)&&a.value===i)&&(this._events.delete(a),a.dispose())}),this}clear(){return this._forEach(e=>e.dispose()),this._events.clear(),this}cancel(e){return this._forEach(i=>i.cancel(e)),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach(i=>{i instanceof Bo?i._forEach(e):e(i)}),this}_setAll(e,i){this._forEach(a=>{a[e]=i})}_tick(e,i){this.mute||this.callback(e,i)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):e.state==="stopped"&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach(i=>{i.loopStart=this.loopStart,i.loopEnd=this.loopEnd,i.loop=e,this._testLoopBoundries(i)})}get loopEnd(){return new Se(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach(i=>{i.loopEnd=e,this._testLoopBoundries(i)})}get loopStart(){return new Se(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach(i=>{i.loopStart=this.loopStart,this._testLoopBoundries(i)})}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}class Af extends mt{constructor(){const e=dt(Af.getDefaults(),arguments,["fade"]);super(e),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new C2({context:this.context}),this.a=new Gt({context:this.context,gain:0}),this.b=new Gt({context:this.context,gain:0}),this.output=new Gt({context:this.context}),this._internalChannels=[this.a,this.b],this.fade=new Wt({context:this.context,units:"normalRange",value:e.fade}),Lt(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",li(this._split,this.a.gain,0),li(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(mt.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class ja extends mt{constructor(e){super(e),this.name="Effect",this._dryWet=new Af({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gt({context:this.context}),this.effectReturn=new Gt({context:this.context}),this.input=new Gt({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Lt(this,"wet")}static getDefaults(){return Object.assign(mt.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class oc extends mt{constructor(){const e=dt(oc.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new kt({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Lt(this,"pan")}static getDefaults(){return Object.assign(mt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const D2="bit-crusher",R2=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;x_(D2,R2);class Cf extends mt{constructor(){const e=dt(Cf.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(mt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class wf extends ja{constructor(){const e=dt(wf.getDefaults(),arguments,["distortion"]);super(e),this.name="Distortion",this._shaper=new Li({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(ja.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const i=e*100,a=Math.PI/180;this._shaper.setMap(o=>Math.abs(o)<.001?0:(3+i)*o*20*a/(Math.PI+i*Math.abs(o)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class h0 extends ja{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Gt({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Lt(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(ja.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Ef extends h0{constructor(){const e=dt(Ef.getDefaults(),arguments,["delayTime","feedback"]);super(e),this.name="FeedbackDelay",this._delayNode=new pf({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Lt(this,"delayTime")}static getDefaults(){return Object.assign(h0.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Nf extends ja{constructor(){const e=dt(Nf.getDefaults(),arguments,["decay"]);super(e),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const i=this.toSeconds(e.decay);Nn(i,.001),this._decay=i;const a=this.toSeconds(e.preDelay);Nn(a,0),this._preDelay=a,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(ja.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){e=this.toSeconds(e),Nn(e,.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){e=this.toSeconds(e),Nn(e,0),this._preDelay=e,this.generate()}generate(){return le(this,void 0,void 0,function*(){const e=this.ready,i=new Jo(2,this._decay+this._preDelay,this.context.sampleRate),a=new Va({context:i}),o=new Va({context:i}),h=new Cf({context:i});a.connect(h,0,0),o.connect(h,0,1);const f=new Gt({context:i}).toDestination();h.connect(f),a.start(0),o.start(0),f.gain.setValueAtTime(0,0),f.gain.setValueAtTime(1,this._preDelay),f.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const d=i.render();return this.ready=d.then(jt),yield e,this._convolver.buffer=(yield d).get(),this})}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class ye extends mt{constructor(){const e=dt(ye.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Gt({context:this.context}),ye._allSolos.has(this.context)||ye._allSolos.set(this.context,new Set),ye._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(mt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ye._allSolos.get(this.context).forEach(i=>i._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){ye._soloed.has(this.context)||ye._soloed.set(this.context,new Set),ye._soloed.get(this.context).add(this)}_removeSolo(){ye._soloed.has(this.context)&&ye._soloed.get(this.context).delete(this)}_isSoloed(){return ye._soloed.has(this.context)&&ye._soloed.get(this.context).has(this)}_noSolos(){return!ye._soloed.has(this.context)||ye._soloed.has(this.context)&&ye._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ye._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ye._allSolos=new Map;ye._soloed=new Map;class Of extends mt{constructor(){const e=dt(Of.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new oc({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ui({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Lt(this,["pan","volume"])}static getDefaults(){return Object.assign(mt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Na extends mt{constructor(){const e=dt(Na.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ye({solo:e.solo,context:this.context}),this._panVol=this.output=new Of({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Lt(this,["pan","volume"])}static getDefaults(){return Object.assign(mt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Na.buses.has(e)||Na.buses.set(e,new Gt({context:this.context})),Na.buses.get(e)}send(e,i=0){const a=this._getBus(e),o=new Gt({context:this.context,units:"decibels",gain:i});return this.connect(o),o.connect(a),o}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Na.buses=new Map;class Ho extends mt{constructor(){const e=dt(Ho.getDefaults(),arguments);super(e),this.name="Recorder",this.input=new Gt({context:this.context}),_t(Ho.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return mt.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return Ie!==null&&Reflect.has(Ie,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return le(this,void 0,void 0,function*(){_t(this.state!=="started","Recorder is already started");const e=new Promise(i=>{const a=()=>{this._recorder.removeEventListener("start",a,!1),i()};this._recorder.addEventListener("start",a,!1)});return this.state==="stopped"?this._recorder.start():this._recorder.resume(),yield e})}stop(){return le(this,void 0,void 0,function*(){_t(this.state!=="stopped","Recorder is not started");const e=new Promise(i=>{const a=o=>{this._recorder.removeEventListener("dataavailable",a,!1),i(o.data)};this._recorder.addEventListener("dataavailable",a,!1)});return this._recorder.stop(),yield e})}pause(){return _t(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Mf extends mt{constructor(){const e=dt(Mf.getDefaults(),arguments,["threshold","ratio"]);super(e),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor,this.threshold=new kt({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new kt({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new kt({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new kt({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new kt({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),Lt(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(mt.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Df extends mt{constructor(){const e=dt(Df.getDefaults(),arguments,["threshold"]);super(e),this.name="Limiter",this._compressor=this.input=this.output=new Mf({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,Lt(this,"threshold")}static getDefaults(){return Object.assign(mt.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}const En=pn().transport,xo=pn().destination;pn().destination;pn().listener;const f0=pn().draw,k2=pn(),Pe={MAX_TOTAL_VOICES:32,MAX_VOICES_PER_TRACK:8,MAX_ACTIVE_PARTS:16,VOICE_CLEANUP_THRESHOLD:28},z2={BUFFER_SIZE:4096,SAMPLE_RATE:48e3},V2={FILTER_FREQ:8e3},ee={ENABLED:!0,LOG_INTERVAL_MS:2e3};class j2{constructor(){ze(this,"activeVoices",new Map)}getActiveVoices(e){return e?this.activeVoices.get(e)||0:Array.from(this.activeVoices.values()).reduce((i,a)=>i+a,0)}incrementVoice(e){const i=this.getActiveVoices();if(i>=Pe.MAX_TOTAL_VOICES)return console.warn(`[POLYPHONY] Max voices reached (${i}/${Pe.MAX_TOTAL_VOICES})`),!1;const a=this.activeVoices.get(e)||0;return a>=Pe.MAX_VOICES_PER_TRACK?(console.warn(`[POLYPHONY] Track ${e} max voices (${a}/${Pe.MAX_VOICES_PER_TRACK})`),!1):(this.activeVoices.set(e,a+1),!0)}decrementVoice(e){const i=this.activeVoices.get(e)||0;i>0&&this.activeVoices.set(e,i-1)}isNearCapacity(){return this.getActiveVoices()>=Pe.VOICE_CLEANUP_THRESHOLD}reset(){this.activeVoices.clear()}}class q2{constructor(){ze(this,"gains",new Map);ze(this,"maxGain",1)}registerTrack(e,i){this.gains.set(e,i),this.recalculateNormalization()}unregisterTrack(e){this.gains.delete(e),this.recalculateNormalization()}getGain(e){return this.gains.get(e)??.8}recalculateNormalization(){const e=Array.from(this.gains.values()).reduce((i,a)=>i+a,0);e>1?this.maxGain=1/e:this.maxGain=1}getScaledGain(e){const i=this.getGain(e);return Math.min(1,i*this.maxGain*.95)}reset(){this.gains.clear(),this.maxGain=1}}class U2{constructor(){ze(this,"channels",new Map);ze(this,"parts",new Map);ze(this,"partStates",new Map);ze(this,"currentTracks",new Map);ze(this,"polyphonyManager",new j2);ze(this,"gainLimiter",new q2);ze(this,"masterLoop",null);ze(this,"masterLimiter");ze(this,"recorder");ze(this,"playedTestTone",!1);ze(this,"isRunning",!1);ze(this,"lastStatsLog",0);ze(this,"pageVisibilityHandler",null);this.setupAudioContext(),this.masterLimiter=new Df(-3).toDestination(),this.recorder=new Ho,this.masterLimiter.connect(this.recorder),this.pageVisibilityHandler=this.handlePageVisibilityChange.bind(this),document.addEventListener("visibilitychange",this.pageVisibilityHandler)}setupAudioContext(){const e=pn();if("createScriptProcessor"in e)try{e.createScriptProcessor(z2.BUFFER_SIZE,1,1).disconnect()}catch{console.log("[AUDIO] Buffer size setting not available")}console.log(`[AUDIO] Context initialized - Sample Rate: ${e.sampleRate}Hz, State: ${e.state}`)}handlePageVisibilityChange(){document.hidden&&this.isRunning&&(console.log("[AUDIO] Tab hidden - pausing audio"),this.hardStop())}async start(){try{const e=xo==null?void 0:xo.context;e&&e.state==="suspended"&&(ee.ENABLED&&console.log("[AUDIO] Attempting to resume AudioContext from state:",e.state),await e.resume(),ee.ENABLED&&console.log("[AUDIO] AudioContext resumed! New state:",e.state))}catch(e){console.warn("[AUDIO] Could not resume context:",e)}await r0(),En.state!=="started"&&(En.position=0,En.start(),this.isRunning=!0,console.log("[AUDIO] Engine started"));try{if(this.parts.forEach((e,i)=>{try{e.started||(e.start(0),ee.ENABLED&&console.log(`[AUDIO] Restarted part for track ${i}`))}catch(a){ee.ENABLED&&console.warn(`[AUDIO] Could not restart part ${i}:`,a)}}),this.masterLoop&&!this.masterLoop.running)try{this.masterLoop.start(0),ee.ENABLED&&console.log("[AUDIO] Master loop restarted")}catch(e){ee.ENABLED&&console.warn("[AUDIO] Could not restart master loop:",e)}}catch(e){console.warn("[AUDIO] Error while restarting parts/master loop:",e)}}stop(){En.stop(),this.parts.forEach(e=>e.stop()),this.isRunning=!1,console.log("[AUDIO] Engine stopped gracefully - Transport state:",En.state)}hardStop(){console.log("[AUDIO] HARD STOP triggered"),this.parts.forEach(e=>{e.stop(),e.dispose()}),this.parts.clear(),this.channels.forEach(e=>{e.synth instanceof vs&&e.synth.triggerRelease()}),En.stop(),En.position=0,this.masterLoop&&(this.masterLoop.dispose(),this.masterLoop=null),this.polyphonyManager.reset(),this.isRunning=!1}setBpm(e){En.bpm.value=e}createSynth(e){switch(e){case"kick":return new ei({pitchDecay:.05,octaves:6,oscillator:{type:"sine"},envelope:{attack:.001,decay:.4,sustain:0,release:1.2}});case"tom":return new ei({pitchDecay:.05,octaves:3,oscillator:{type:"sine"},envelope:{attack:.001,decay:.3,sustain:0,release:1}});case"snare":case"rim":case"clap":return new Mi({noise:{type:"white"},envelope:{attack:.001,decay:.15,sustain:0,release:.1}});case"hat":case"open_hat":case"ride":case"crash":return new Lo({envelope:{attack:.001,decay:.08,release:.01},harmonicity:3.5,modulationIndex:20,resonance:3e3,octaves:1});case"perc":return new ei;case"sine":return new vs(Vn,{oscillator:{type:"sine"},maxVoices:Pe.MAX_VOICES_PER_TRACK});case"triangle":return new vs(Vn,{oscillator:{type:"triangle"},maxVoices:Pe.MAX_VOICES_PER_TRACK});case"square":return new vs(Vn,{oscillator:{type:"square"},maxVoices:Pe.MAX_VOICES_PER_TRACK});case"sawtooth":return new vs(Vn,{oscillator:{type:"sawtooth"},maxVoices:Pe.MAX_VOICES_PER_TRACK});case"white":return new Mi({noise:{type:"white"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}});case"pink":return new Mi({noise:{type:"pink"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}});case"brown":return new Mi({noise:{type:"brown"},envelope:{attack:.001,decay:.2,sustain:0,release:.1}});default:return new Vn({maxVoices:Pe.MAX_VOICES_PER_TRACK})}}getChannel(e,i){let a=this.channels.get(e);if(a&&a.type!==i){try{a.synth.dispose()}catch(T){console.warn(`[AUDIO] Error disposing old synth: ${T}`)}const b=this.createSynth(i);return b.connect(a.filter),a.synth=b,a.type=i,a}if(a)return a;const o=this.createSynth(i),h=new lc({frequency:V2.FILTER_FREQ,type:"lowpass",rolloff:-24}),f=new wf(0),d=new Ef("8n",.5);d.wet.value=0,d.maxDelay=1;const m=new Nf(1.2);m.wet.value=0,m.decay=2;const p=new oc(0),_=new Ui(0);o.connect(h),h.connect(f),f.connect(d),d.connect(m),m.connect(_),_.connect(p),p.connect(this.masterLimiter),p.connect(this.recorder);try{o.connect(xo),ee.ENABLED&&console.log(`[AUDIO DEBUG] Direct connect from synth to Destination for track ${e}`)}catch(b){console.warn(`[AUDIO DEBUG] Could not directly connect synth for ${e}:`,b)}const y={type:i,synth:o,filter:h,distortion:f,delay:d,reverb:m,panner:p,volume:_,voiceCount:0};return this.channels.set(e,y),this.gainLimiter.registerTrack(e,.8),console.log(`[AUDIO] Channel created for track ${e} (type: ${i})`),y}updateSequence(e,i,a){const o=new Set(e.map(h=>h.id));for(const[h]of this.currentTracks)o.has(h)||this.cleanupTrack(h);if(e.forEach(h=>{const f=this.currentTracks.get(h.id);(f==null?void 0:f.steps)!==h.steps&&console.log(`[AUDIO] Track ${h.id} steps updated (${h.steps.length} total)`),this.currentTracks.set(h.id,h)}),e.forEach(h=>{const f=this.getChannel(h.id,h.instrument),d=this.gainLimiter.getScaledGain(h.id),m=h.volume<=.001?-100:20*Math.log10(h.volume*d);f.volume.volume.rampTo(m,.05),f.panner.pan.rampTo(h.pan,.05),f.distortion.distortion=Math.min(.8,.4+h.distortion/200),f.distortion.wet.value=Math.min(.8,h.distortion/100),f.delay.wet.value=Math.min(.6,h.delay/100),f.reverb.wet.value=Math.min(.5,h.reverb/100);const p=Math.max(1,Math.min(32,h.stepCount||16)),_=this.parts.get(h.id),y=this.partStates.get(h.id),b=!_||!y||y.stepCount!==p;if(_&&(_.mute=h.muted),b){if(_&&En.state==="stopped")try{_.stop(),_.dispose()}catch(D){console.warn(`[AUDIO] Error disposing part: ${D}`)}else if(_)try{_.stop()}catch(D){console.warn(`[AUDIO] Error stopping part: ${D}`)}if(this.parts.size>=Pe.MAX_ACTIVE_PARTS){console.warn(`[POLYPHONY] Max active parts reached (${this.parts.size})`);return}const T=En.PPQ,A=T*4/p,C=Array.from({length:p},(D,k)=>({time:Math.round(k*A)+"i",stepIdx:k}));console.log(`[AUDIO] Creating Part for ${h.id}: ${p} steps, PPQ=${T}, ticksPerStep=${Math.round(A)}`),console.log(`[AUDIO] Step times (first 4): ${C.slice(0,4).map(D=>D.time).join(", ")}`);const M=new Bo((D,k)=>{k.stepIdx===0&&ee.ENABLED&&console.log(`[AUDIO CALLBACK] Step 0 callback fired at Transport time ${D}`);const H=this.currentTracks.get(h.id);if(!H||H.muted){k.stepIdx===0&&ee.ENABLED&&console.log(`[AUDIO STEP 0] track muted=${H==null?void 0:H.muted} or not found=${!H}`);return}f0.schedule(()=>{i(h.id,k.stepIdx)},D);const N=H.steps[k.stepIdx];if(k.stepIdx===0&&ee.ENABLED&&console.log(`[AUDIO STEP 0] stepIdx=0, steps array length=${H.steps.length}, step exists=${!!N}, step=${JSON.stringify(N)}`),N&&N.active){console.log(`[AUDIO TRIGGER] Step ${k.stepIdx}: Note=${N.note}, Velocity=${N.velocity}`);const z=ni.find(O=>O.id===H.instrument),w=this.channels.get(h.id);if(w&&z){if(!this.polyphonyManager.incrementVoice(h.id)){console.warn(`[POLYPHONY] Voice limit hit for ${h.id}`);return}const O=N.note||z.defaultNote||"C2",X=(N.velocity??100)/100,Z=A/2+"i";try{ee.ENABLED&&console.log(`[AUDIO TRIGGER] Playing Note: ${O}, Track: ${h.instrument}, Velocity: ${X.toFixed(2)}`);const F=w.synth;if(F instanceof ei||F instanceof Vn)F.triggerAttackRelease(O,"8n",D,X);else if(F instanceof Mi)F.triggerAttackRelease("8n",D,X);else if(F instanceof Lo){const it=z.id.includes("hat")||z.id==="ride"?"32n":"16n";F.triggerAttackRelease(O,it,D,X)}else F instanceof vs&&F.triggerAttackRelease(O,Z,D,X);const W=m2(Z).toSeconds();setTimeout(()=>{this.polyphonyManager.decrementVoice(h.id)},W*1e3+100)}catch(F){console.error(`[AUDIO] Error triggering note: ${F}`),this.polyphonyManager.decrementVoice(h.id)}}else k.stepIdx===0&&console.warn(`[AUDIO TRIGGER] Step 0: Channel not found=${!w}, instDef not found=${!z}`)}else k.stepIdx===0&&ee.ENABLED&&N&&console.log(`[AUDIO STEP 0] step.active=${N.active}, skipping audio trigger`)},C);M.loop=!0,M.loopEnd="1m";try{if(En.state==="started"&&this.isRunning){if(M.start("+0"),_)try{_.stop("+0.02"),setTimeout(()=>{try{_.dispose()}catch(D){ee.ENABLED&&console.warn(`[AUDIO] Error disposing old part after hot-swap: ${D}`)}},100)}catch(D){ee.ENABLED&&console.warn(`[AUDIO] Could not gracefully stop existing part: ${D}`);try{_.dispose()}catch{}}}else if(M.start(0),_)try{_.stop(),_.dispose()}catch(D){ee.ENABLED&&console.warn(`[AUDIO] Error disposing existing part: ${D}`)}}catch(D){console.warn(`[AUDIO] Error while starting part: ${D}`);try{M.start(0)}catch(k){console.warn("[AUDIO] Fallback start failed:",k)}}this.parts.set(h.id,M),this.partStates.set(h.id,{stepCount:p}),console.log(`[AUDIO] Part created for track ${h.id} with ${p} steps (started ${En.state==="started"&&this.isRunning?"synced (+0)":"at 0"})`),this.parts.set(h.id,M),this.partStates.set(h.id,{stepCount:p}),console.log(`[AUDIO] Part created for track ${h.id} with ${p} steps`)}}),!this.masterLoop){let h=0;this.masterLoop=new xf(f=>{f0.schedule(()=>{a(h),h=(h+1)%16},f)},"16n").start(0)}this.logStatsIfNeeded()}logStatsIfNeeded(){const e=Date.now();if(e-this.lastStatsLog>=ee.LOG_INTERVAL_MS){const i=this.getAudioStats();console.log(`[AUDIO STATS] Voices: ${i.activeVoices}/${Pe.MAX_TOTAL_VOICES} | Parts: ${i.activeParts} | CPU: ~${i.estimatedCpuLoad.toFixed(1)}% | Overloaded: ${i.isOverloaded}`),this.lastStatsLog=e}}getAudioStats(){const e=this.polyphonyManager.getActiveVoices(),i=this.parts.size,a=e/Pe.MAX_TOTAL_VOICES*100,o=e>=Pe.VOICE_CLEANUP_THRESHOLD;return{totalVoices:e,activeVoices:e,activeParts:i,estimatedCpuLoad:a,isOverloaded:o}}cleanupTrack(e){try{const i=this.channels.get(e);if(i){i.synth instanceof vs&&i.synth.triggerRelease();try{i.synth.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing synth: ${o}`)}try{i.filter.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing filter: ${o}`)}try{i.distortion.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing distortion: ${o}`)}try{i.delay.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing delay: ${o}`)}try{i.reverb.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing reverb: ${o}`)}try{i.panner.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing panner: ${o}`)}try{i.volume.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing volume: ${o}`)}this.channels.delete(e)}const a=this.parts.get(e);if(a){try{a.stop(),a.dispose()}catch(o){ee.ENABLED&&console.warn(`Error disposing part: ${o}`)}this.parts.delete(e)}this.partStates.delete(e),this.currentTracks.delete(e),this.gainLimiter.unregisterTrack(e),ee.ENABLED&&console.log(`[AUDIO] Track ${e} cleaned up`)}catch(i){console.error(`[AUDIO] Error cleaning up track ${e}: ${i}`)}}dispose(){console.log("[AUDIO] Disposing audio engine"),this.pageVisibilityHandler&&document.removeEventListener("visibilitychange",this.pageVisibilityHandler),this.hardStop();for(const e of this.channels.keys())this.cleanupTrack(e);try{this.masterLimiter.dispose()}catch(e){console.warn(`Error disposing limiter: ${e}`)}try{this.recorder.dispose()}catch(e){console.warn(`Error disposing recorder: ${e}`)}this.channels.clear(),this.parts.clear(),this.currentTracks.clear()}async startRecording(){k2.state!=="running"&&await r0(),this.recorder.start()}async stopRecording(){const e=await this.recorder.stop();return URL.createObjectURL(e)}}let Ps=new U2;function A_(r){var e,i,a="";if(typeof r=="string"||typeof r=="number")a+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(i=A_(r[e]))&&(a&&(a+=" "),a+=i)}else for(i in r)r[i]&&(a&&(a+=" "),a+=i);return a}function ce(){for(var r,e,i=0,a="",o=arguments.length;i<o;i++)(r=arguments[i])&&(e=A_(r))&&(a&&(a+=" "),a+=e);return a}const L2=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],B2=[1,2,3,4,5,6],H2=({value:r,onChange:e})=>{const[i,a]=Tt.useState(r.toString());Tt.useEffect(()=>{a(r.toString())},[r]);const o=()=>{let f=parseInt(i);isNaN(f)&&(f=16),f=Math.max(1,Math.min(32,f)),a(f.toString()),f!==r&&e(f)},h=f=>{f.key==="Enter"&&f.target.blur()};return j.jsx("input",{type:"number",min:"1",max:"32",value:i,onChange:f=>a(f.target.value),onBlur:o,onKeyDown:h,className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs rounded p-1.5 w-full text-center focus:border-cyan-500 outline-none font-mono"})},G2=({tracks:r,currentTrackSteps:e,onUpdateTrack:i,onRemoveTrack:a})=>{const[o,h]=Tt.useState(null),[f,d]=Tt.useState(null),[m,p]=Tt.useState(null),_=Tt.useRef(null),y=Tt.useRef(null);Tt.useEffect(()=>{const D=k=>{_.current&&!_.current.contains(k.target)&&h(null),y.current&&!y.current.contains(k.target)&&p(null)};return document.addEventListener("mousedown",D),()=>document.removeEventListener("mousedown",D)},[]);const b=(D,k,H)=>{H.stopPropagation();const N=D.steps[k];if(N.active)h({trackId:D.id,stepIndex:k});else{const z=[...D.steps];z[k]={...N,active:!0,velocity:100},i(D.id,{steps:z})}},T=D=>{if(!o)return;const k=r.find(N=>N.id===o.trackId);if(!k)return;const H=[...k.steps];H[o.stepIndex]={...H[o.stepIndex],note:D},i(k.id,{steps:H})},S=D=>{if(!o)return;const k=r.find(N=>N.id===o.trackId);if(!k)return;const H=[...k.steps];H[o.stepIndex]={...H[o.stepIndex],velocity:D},i(k.id,{steps:H})},A=()=>{if(!o)return;const D=r.find(H=>H.id===o.trackId);if(!D)return;const k=[...D.steps];k[o.stepIndex]={...k[o.stepIndex],active:!1},i(D.id,{steps:k}),h(null)},C=(D,k)=>{const H=r.find(w=>w.id===D);if(!H)return;const N=Math.max(1,Math.min(32,k));let z=[...H.steps];if(z.length<32){const w=ni.find(O=>O.id===H.instrument);for(;z.length<32;)z.push({active:!1,note:(w==null?void 0:w.defaultNote)||"C3",velocity:100})}i(D,{stepCount:N,steps:z})},M=(D,k)=>{i(D,{instrument:k}),p(null)};return j.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-5xl mx-auto p-4 pb-32",children:[r.map(D=>{const k=ni.find(w=>w.id===D.instrument),H=f===D.id,N=e[D.id]??-1,z=D.stepCount||16;return j.jsxs("div",{className:"bg-slate-800 rounded-xl p-4 shadow-lg border border-slate-700 flex flex-col gap-4 relative transition-all duration-300",children:[j.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center",children:[j.jsxs("div",{className:"flex items-center gap-3 w-full md:w-48 relative",children:[j.jsx("button",{onClick:()=>p(m===D.id?null:D.id),className:ce("w-10 h-10 rounded-full flex items-center justify-center text-white font-bold shadow-md transition-transform hover:scale-105",k==null?void 0:k.color),title:"Change Instrument",children:j.jsx(m0,{size:18})}),m===D.id&&j.jsxs("div",{ref:y,className:"absolute top-12 left-0 z-50 bg-slate-800 border border-slate-600 shadow-2xl rounded-xl w-64 max-h-80 overflow-y-auto custom-scrollbar p-2 animate-in fade-in slide-in-from-top-2",children:[j.jsx("div",{className:"text-xs font-bold text-slate-500 px-2 py-1 uppercase",children:"Select Instrument"}),["Drums","Synths","Noise"].map(w=>j.jsxs("div",{children:[j.jsx("div",{className:"text-[10px] font-bold text-slate-600 px-2 py-1 mt-1 uppercase tracking-wider",children:w}),ni.filter(O=>O.category===w).map(O=>j.jsxs("button",{onClick:()=>M(D.id,O.id),className:ce("w-full flex items-center gap-2 px-2 py-1.5 rounded hover:bg-slate-700 transition-colors text-left",D.instrument===O.id&&"bg-slate-700/50"),children:[j.jsx("div",{className:ce("w-2 h-2 rounded-full",O.color)}),j.jsx("span",{className:ce("text-xs",D.instrument===O.id?"text-cyan-400 font-bold":"text-slate-300"),children:O.name})]},O.id))]},w))]}),j.jsxs("div",{className:"flex-1 min-w-0",children:[j.jsxs("button",{onClick:()=>p(m===D.id?null:D.id),className:"text-slate-100 font-medium truncate hover:text-cyan-400 transition-colors flex items-center gap-1",children:[k==null?void 0:k.name,j.jsx(o1,{size:12,className:"opacity-50"})]}),j.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[j.jsx("button",{onClick:()=>i(D.id,{muted:!D.muted}),className:ce("p-1 rounded hover:bg-slate-700 transition",D.muted?"text-red-400":"text-slate-400"),children:D.muted?j.jsx(j1,{size:16}):j.jsx(z1,{size:16})}),j.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:D.volume??1,onChange:w=>i(D.id,{volume:parseFloat(w.target.value)}),className:"w-16 h-1 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-cyan-500"})]})]})]}),j.jsx("div",{className:"flex-1 w-full relative",children:j.jsx("div",{className:"grid gap-1 w-full",style:{gridTemplateColumns:`repeat(${z}, minmax(0, 1fr))`},children:D.steps.slice(0,z).map((w,O)=>{var X;return j.jsxs("div",{className:"relative",children:[j.jsxs("button",{onClick:Z=>b(D,O,Z),className:ce("w-full h-8 md:h-12 rounded-md transition-all duration-75 border border-slate-700/50 relative overflow-hidden flex items-center justify-center group",w.active?ce("bg-trackActive shadow-[0_0_10px_rgba(0,0,0,0.3)] brightness-110",`opacity-${Math.round(40+(w.velocity??100)/100*60)}`):ce(k==null?void 0:k.color,"hover:opacity-75"),O%4===0&&!w.active&&"opacity-50",N===O&&"ring-2 ring-white ring-opacity-50 z-10"),children:[w.active&&j.jsxs("span",{className:"text-[9px] font-bold text-white/70 hidden md:block leading-tight",children:[w.note,j.jsx("br",{}),j.jsx("span",{className:"opacity-70",children:w.velocity??100})]}),N===O&&w.active&&j.jsx("div",{className:"absolute inset-0 bg-white/40 animate-flash pointer-events-none"})]}),(o==null?void 0:o.trackId)===D.id&&(o==null?void 0:o.stepIndex)===O&&j.jsxs("div",{ref:_,className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 z-50 bg-slate-800 border border-slate-600 shadow-2xl rounded-lg p-3 w-48 animate-in fade-in zoom-in-95 duration-100",children:[j.jsxs("div",{className:"flex justify-between items-center mb-2 pb-2 border-b border-slate-700",children:[j.jsx("span",{className:"text-xs font-bold text-slate-400",children:"EDIT STEP"}),j.jsx("button",{onClick:A,className:"text-red-400 hover:text-red-300",title:"Rimuovi Step",children:j.jsx(Mh,{size:14})})]}),j.jsxs("div",{className:"flex gap-2 mb-3",children:[j.jsx("select",{className:"bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded p-1 flex-1 focus:border-cyan-500 outline-none",value:w.note.replace(/\d+/,""),onChange:Z=>{var W;const F=((W=w.note.match(/\d+/))==null?void 0:W[0])||"3";T(`${Z.target.value}${F}`)},children:L2.map(Z=>j.jsx("option",{value:Z,children:Z},Z))}),j.jsx("select",{className:"bg-slate-900 border border-slate-700 text-slate-200 text-sm rounded p-1 w-14 focus:border-cyan-500 outline-none",value:((X=w.note.match(/\d+/))==null?void 0:X[0])||"3",onChange:Z=>{const F=w.note.replace(/\d+/,"");T(`${F}${Z.target.value}`)},children:B2.map(Z=>j.jsx("option",{value:Z,children:Z},Z))})]}),j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase",children:[j.jsx("span",{children:"Velocity"}),j.jsx("span",{children:w.velocity??100})]}),j.jsx("input",{type:"range",min:"1",max:"100",value:w.velocity??100,onChange:Z=>S(parseInt(Z.target.value)),className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-green-500"})]}),j.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-1 border-8 border-transparent border-t-slate-800"})]})]},O)})})}),j.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[j.jsx("button",{onClick:()=>a(D.id),className:"p-2 text-slate-500 hover:text-red-400 hover:bg-slate-700/50 rounded-full transition",title:"Rimuovi traccia",children:j.jsx(Mh,{size:20})}),j.jsxs("button",{onClick:()=>d(H?null:D.id),className:ce("p-2 rounded-full transition flex flex-col items-center gap-1",H?"text-cyan-400 bg-slate-700":"text-slate-500 hover:text-cyan-400 hover:bg-slate-700/50"),title:"Mix & Effetti",children:[j.jsx(O1,{size:20}),j.jsx("span",{className:"text-[8px] font-mono",children:z})]})]})]}),H&&j.jsxs("div",{className:"mt-2 pt-4 border-t border-slate-700/50 grid grid-cols-2 md:grid-cols-5 gap-6 animate-in slide-in-from-top-2 fade-in duration-200",children:[j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase items-center",children:[j.jsx("span",{children:"Steps"}),j.jsx(d1,{size:10})]}),j.jsx(H2,{value:z,onChange:w=>C(D.id,w)})]}),j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase",children:[j.jsx("span",{children:"Pan"}),j.jsx("span",{children:(D.pan??0).toFixed(1)})]}),j.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:D.pan??0,onChange:w=>i(D.id,{pan:parseFloat(w.target.value)}),className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-blue-500"}),j.jsxs("div",{className:"flex justify-between text-[9px] text-slate-600",children:[j.jsx("span",{children:"L"}),j.jsx("span",{children:"R"})]})]}),j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase",children:[j.jsx("span",{children:"Delay"}),j.jsxs("span",{children:[D.delay??0,"%"]})]}),j.jsx("input",{type:"range",min:"0",max:"100",value:D.delay??0,onChange:w=>i(D.id,{delay:parseInt(w.target.value)}),className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-purple-500"})]}),j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase",children:[j.jsx("span",{children:"Reverb"}),j.jsxs("span",{children:[D.reverb??0,"%"]})]}),j.jsx("input",{type:"range",min:"0",max:"100",value:D.reverb??0,onChange:w=>i(D.id,{reverb:parseInt(w.target.value)}),className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]}),j.jsxs("div",{className:"flex flex-col gap-1",children:[j.jsxs("div",{className:"flex justify-between text-[10px] text-slate-400 font-bold uppercase",children:[j.jsx("span",{children:"Distortion"}),j.jsxs("span",{children:[D.distortion??0,"%"]})]}),j.jsx("input",{type:"range",min:"0",max:"100",value:D.distortion??0,onChange:w=>i(D.id,{distortion:parseInt(w.target.value)}),className:"w-full h-1.5 bg-slate-600 rounded-lg appearance-none cursor-pointer accent-orange-500"})]})]})]},D.id)}),r.length===0&&j.jsxs("div",{className:"text-center py-20 text-slate-500 border-1 border-dashed border-slate-700 rounded-xl",children:[j.jsx("p",{className:"text-lg",children:"Nessuna traccia attiva."}),j.jsx("p",{className:"text-sm mt-2",children:'Clicca su "+" per iniziare a creare musica!'})]})]})},I2=({sequences:r,activeSequenceId:e,pinnedSequenceId:i,onSelect:a,onPin:o,onCreate:h,onDuplicate:f,onDelete:d,onRename:m,playMode:p,onTogglePlayMode:_})=>{const[y,b]=Tt.useState(null),[T,S]=Tt.useState(""),A=Tt.useRef(null);Tt.useEffect(()=>{y&&A.current&&A.current.focus()},[y]);const C=(k,H)=>{H.stopPropagation(),b(k.id),S(k.name)},M=()=>{y&&T.trim()&&m(y,T.trim()),b(null)},D=k=>{k.key==="Enter"&&M(),k.key==="Escape"&&b(null)};return j.jsxs("div",{className:"w-full max-w-5xl mx-auto",children:[j.jsxs("div",{className:"flex items-center justify-between mb-3 px-1",children:[j.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider flex items-center gap-2",children:["Sequenze",j.jsx("span",{className:"bg-slate-800 text-slate-500 px-1.5 py-0.5 rounded text-[10px] border border-slate-700",children:r.length})]}),j.jsxs("div",{className:"flex bg-slate-800 p-1 rounded-lg border border-slate-700",children:[j.jsx("button",{onClick:_,className:ce("px-3 py-1 text-xs font-medium rounded transition-all",p==="single"?"bg-slate-700 text-white shadow-sm":"text-slate-400 hover:text-slate-200"),children:"Loop Current"}),j.jsx("button",{onClick:_,className:ce("px-3 py-1 text-xs font-medium rounded transition-all",p==="all"?"bg-cyan-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"),children:"Play All"})]})]}),j.jsxs("div",{className:"flex gap-3 overflow-x-auto custom-scrollbar pb-2",children:[r.map(k=>{const H=e===k.id,N=i===k.id;return j.jsxs("div",{onClick:()=>a(k.id),className:ce("group relative flex-shrink-0 w-40 h-24 rounded-xl border-1 transition-all cursor-pointer overflow-hidden flex flex-col",N?"border-cyan-400 bg-slate-800":H?"bborder-cyan-500/50 bg-slate-800 shadow-[0_0_15px_rgba(16,185,129,0.2)]":"bg-slate-900 border-slate-700 hover:border-slate-600 opacity-70 hover:opacity-100"),children:[j.jsx("div",{className:ce("px-3 py-2 flex items-center justify-between border-b",N?"border-cyan-500/30 bg-cyan-950/30":H?"border-cyan-500/20 bg-cyan-950/20":"border-slate-800 bg-slate-900"),children:y===k.id?j.jsx("div",{className:"flex items-center gap-1 w-full",children:j.jsx("input",{ref:A,value:T,onChange:z=>S(z.target.value),onBlur:M,onKeyDown:D,onClick:z=>z.stopPropagation(),className:"w-full bg-slate-950 text-white text-xs px-1 py-0.5 rounded border border-cyan-500 outline-none"})}):j.jsxs(j.Fragment,{children:[j.jsx("span",{className:ce("text-xs font-bold truncate",N||H?"text-cyan-300":"text-slate-200"),title:k.name,children:k.name}),j.jsx("button",{onClick:z=>{z.stopPropagation(),o(k.id)},className:ce("p-1 rounded transition-colors",N?"text-cyan-400 hover:text-cyan-300 bg-cyan-900/50":"text-slate-600 hover:text-cyan-400 opacity-0 group-hover:opacity-100"),title:N?"Unpin View":"Pin View for Editing",children:N?j.jsx(T1,{size:12}):j.jsx(A1,{size:12})})]})}),j.jsxs("div",{className:"flex-1 p-2 flex flex-col gap-1 justify-center relative",children:[H&&j.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:j.jsx("div",{className:"w-full h-full bg-cyan-500/5 animate-pulse"})}),k.tracks.length>0?j.jsx("div",{className:"flex gap-0.5 h-full items-end opacity-50",children:Array.from({length:16}).map((z,w)=>{const O=k.tracks.filter(X=>X.steps[w].active).length;return j.jsx("div",{className:ce("flex-1 rounded-sm",N||H?"bg-cyan-400":"bg-slate-500"),style:{height:`${Math.min(100,O*20)}%`}},w)})}):j.jsx("span",{className:"text-[10px] text-slate-600 text-center",children:"Empty"})]}),j.jsxs("div",{className:"absolute bottom-1 right-1 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900/90 rounded p-0.5 backdrop-blur-sm border border-slate-800",children:[j.jsx("button",{onClick:z=>C(k,z),className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded",title:"Rinomina",children:j.jsx(b1,{size:12})}),j.jsx("button",{onClick:z=>{z.stopPropagation(),f(k.id)},className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-700 rounded",title:"Duplica",children:j.jsx(h1,{size:12})}),r.length>1&&j.jsx("button",{onClick:z=>{z.stopPropagation(),d(k.id)},className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-slate-700 rounded",title:"Elimina",children:j.jsx(Mh,{size:12})})]})]},k.id)}),j.jsx("button",{onClick:h,className:"flex-shrink-0 w-12 h-24 rounded-xl border-2 border-dashed border-slate-700 hover:border-cyan-500/50 hover:bg-slate-800/50 flex items-center justify-center text-slate-600 hover:text-cyan-500 transition-all",title:"Nuova Sequenza",children:j.jsx(g0,{size:24})})]})]})},d0=({value:r,onChange:e,min:i=0,max:a=100,label:o=""})=>{const[h,f]=Tt.useState(r.toString());Tt.useEffect(()=>{f(r.toString())},[r]);const d=_=>{let y=parseInt(_);isNaN(y)&&(y=r),y=Math.max(i,Math.min(a,y)),f(y.toString()),y!==r&&e(y)},m=()=>{d(h)},p=_=>{_.key==="Enter"?(d(h),_.target.blur()):_.key==="Escape"&&(f(r.toString()),_.target.blur())};return j.jsxs("div",{className:"flex items-center gap-2 bg-slate-800 px-3 py-1.5 rounded-lg border border-slate-700 group hover:border-slate-600 transition-colors",children:[j.jsx("span",{className:"text-xs text-slate-400 font-bold tracking-wider group-hover:text-slate-300 whitespace-nowrap",children:o}),j.jsx("input",{type:"number",value:h,onChange:_=>f(_.target.value),onBlur:m,onKeyDown:p,className:"w-12 bg-transparent text-center font-mono focus:outline-none text-cyan-400 font-bold",min:i,max:a})]})};function Y2(){const[r,e]=Tt.useState([{id:"seq-1",name:"Pattern A",tracks:[]}]),[i,a]=Tt.useState("seq-1"),[o,h]=Tt.useState(null),[f,d]=Tt.useState("single"),p=(r.find(ht=>ht.id===i)||r[0]).tracks,_=o||i,b=(r.find(ht=>ht.id===_)||r[0]).tracks,[T,S]=Tt.useState(!1),[A,C]=Tt.useState(120),[M,D]=Tt.useState(L1),[k,H]=Tt.useState({}),[N,z]=Tt.useState(-1),[w,O]=Tt.useState(!1),[X,Z]=Tt.useState(!1),[F,W]=Tt.useState(!1),[it,st]=Tt.useState(""),ot=Tt.useRef(r),V=Tt.useRef(i),Y=Tt.useRef(f);Tt.useEffect(()=>{ot.current=r},[r]),Tt.useEffect(()=>{V.current=i},[i]),Tt.useEffect(()=>{Y.current=f},[f]),Tt.useEffect(()=>()=>{Ps.dispose()},[]),Tt.useEffect(()=>{Ps.setBpm(A)},[A]);const $=Tt.useCallback((ht,bt)=>{H(St=>({...St,[ht]:bt}))},[]),et=Tt.useCallback(ht=>{if(z(ht),ht===15&&Y.current==="all"){const bt=ot.current,St=V.current,tt=bt.findIndex(pt=>pt.id===St);if(tt!==-1){const pt=(tt+1)%bt.length,ae=bt[pt];a(ae.id)}}},[]);Tt.useEffect(()=>{Ps.updateSequence(p,$,et)},[p,$,et]),Tt.useEffect(()=>{const ht=B1(b,A);st(ht)},[b,A]);const lt=ht=>{e(bt=>bt.map(St=>St.id===_?{...St,tracks:ht}:St))},x=()=>{const ht={id:Math.random().toString(36).substr(2,9),name:`Pattern ${String.fromCharCode(65+r.length)}`,tracks:[]};e([...r,ht]),a(ht.id),h(null)},G=ht=>{const bt=r.find(St=>St.id===ht);if(bt){const St={...bt,id:Math.random().toString(36).substr(2,9),name:`${bt.name} (Copy)`,tracks:bt.tracks.map(tt=>({...tt,steps:tt.steps.map(pt=>({...pt}))}))};e([...r,St]),a(St.id),h(null)}},P=ht=>{if(r.length<=1)return;const bt=r.filter(St=>St.id!==ht);e(bt),i===ht&&a(bt[0].id),o===ht&&h(null)},at=(ht,bt)=>{e(St=>St.map(tt=>tt.id===ht?{...tt,name:bt}:tt))},nt=async()=>{var ht,bt,St;T?(Ps.stop(),S(!1),z(-1),H({})):(((St=(bt=(ht=window.Tone)==null?void 0:ht.Destination)==null?void 0:bt.context)==null?void 0:St.state)==="suspended"&&await window.Tone.Destination.context.resume(),await Ps.start(),S(!0))},ut=ht=>{const bt=ni.find(tt=>tt.id===ht),St={id:Math.random().toString(36).substr(2,9),instrument:ht,stepCount:M,steps:Array(32).fill(null).map(()=>({active:!1,note:(bt==null?void 0:bt.defaultNote)||"C3",velocity:100})),volume:.8,muted:!1,pan:0,delay:0,reverb:0,distortion:0};lt([...b,St]),W(!1)},vt=(ht,bt)=>{const St=b.map(tt=>tt.id===ht?{...tt,...bt}:tt);lt(St)},rt=ht=>{Ps.cleanupTrack(ht);const bt=b.filter(St=>St.id!==ht);lt(bt)},qt=async()=>{if(X){const ht=await Ps.stopRecording();Z(!1);const bt=document.createElement("a");bt.href=ht,bt.download=`strudel-session-${new Date().toISOString().slice(0,19)}.webm`,bt.click()}else Ps.startRecording(),Z(!0)},Be=ht=>{st(ht.target.value)},sn=()=>{const ht=H1(it);if(ht){const bt=ht.map(St=>({id:St.id||Math.random().toString(),instrument:St.instrument,stepCount:St.stepCount||16,steps:St.steps||Array(32).fill(null).map(()=>({active:!1,note:"C3",velocity:100})),volume:St.volume??.8,muted:St.muted??!1,pan:St.pan??0,delay:St.delay??0,reverb:St.reverb??0,distortion:St.distortion??0}));lt(bt)}else alert("Codice non valido o formato non supportato per il parsing inverso.")};return j.jsxs("div",{className:"min-h-screen bg-slate-900 text-slate-100 font-sans selection:bg-cyan-500/30",children:[j.jsx("header",{className:"sticky top-0 z-50 bg-slate-900/95 backdrop-blur border-b border-slate-800 shadow-xl",children:j.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-2",children:[j.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-cyan-500 to-blue-600 rounded-lg flex items-center justify-center shadow-lg shadow-cyan-500/20",children:j.jsx(m0,{size:20,className:"text-white"})}),j.jsx("h1",{className:"text-xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-cyan-400 to-blue-400 hidden sm:block",children:"Strudel UI"})]}),j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx(d0,{value:A,onChange:C,min:40,max:300,label:"BPM"}),j.jsx(d0,{value:M,onChange:D,min:1,max:32,label:"STEPS"}),j.jsxs("button",{onClick:nt,className:ce("flex items-center gap-2 px-4 py-1.5 rounded-lg font-medium transition-all shadow-lg",T?"bg-trackActive/10 text-cyan-400 hover:bg-trackActive/20 border border-cyan-500/50":"bg-cyan-500 text-slate-900 hover:bg-cyan-400 shadow-cyan-500/20 animate-pulse"),children:[T?j.jsx(D1,{size:18,fill:"currentColor"}):j.jsx(w1,{size:18,fill:"currentColor"}),j.jsx("span",{className:"hidden sm:inline",children:T?"Stop":"Play"})]}),j.jsx("button",{onClick:qt,className:ce("p-2 rounded-lg transition-all border",X?"bg-red-500 text-white border-red-500 animate-pulse":"bg-slate-800 text-slate-400 border-slate-700 hover:text-red-400 hover:border-red-400/50"),title:"Registra Audio",children:X?j.jsx(m1,{size:18}):j.jsx(_1,{size:18})}),j.jsx("button",{onClick:()=>O(!w),className:ce("p-2 rounded-lg transition-all border",w?"bg-slate-700 text-cyan-400 border-cyan-500/50":"bg-slate-800 text-slate-400 border-slate-700 hover:text-cyan-400"),title:"Mostra/Nascondi Codice",children:j.jsx(Hg,{size:18})})]})]})}),j.jsxs("main",{className:"flex h-[calc(100vh-64px)] relative overflow-hidden",children:[j.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar relative",children:[j.jsx("div",{className:"sticky top-0 z-30 bg-slate-900/95 backdrop-blur border-b border-slate-800 pt-4 pb-2 px-4 shadow-lg",children:j.jsx(I2,{sequences:r,activeSequenceId:i,pinnedSequenceId:o,onSelect:a,onPin:ht=>h(bt=>bt===ht?null:ht),onCreate:x,onDuplicate:G,onDelete:P,onRename:at,playMode:f,onTogglePlayMode:()=>d(ht=>ht==="single"?"all":"single")})}),j.jsx("div",{className:"py-6 px-4",children:j.jsx(G2,{tracks:b,currentTrackSteps:k,onUpdateTrack:vt,onRemoveTrack:rt})}),j.jsx("div",{className:"fixed bottom-8 right-8 z-30",children:j.jsxs("div",{className:"relative",children:[F&&j.jsx("div",{className:"absolute bottom-16 right-0 bg-slate-800 border border-slate-700 rounded-xl shadow-2xl p-2 w-64 max-h-[70vh] overflow-y-auto custom-scrollbar flex flex-col gap-1 animate-in slide-in-from-bottom-4 fade-in duration-200",children:["Drums","Synths","Noise"].map(ht=>j.jsxs("div",{className:"mb-2",children:[j.jsx("div",{className:"px-3 py-1 text-[10px] font-bold text-slate-500 uppercase tracking-wider sticky top-0 bg-slate-800 z-10",children:ht}),ni.filter(bt=>bt.category===ht).map(bt=>j.jsxs("button",{onClick:()=>ut(bt.id),className:"w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-slate-700 text-left transition-colors group",children:[j.jsx("div",{className:ce("w-3 h-3 rounded-full",bt.color)}),j.jsx("span",{className:"text-slate-200 group-hover:text-white text-sm",children:bt.name})]},bt.id))]},ht))}),j.jsx("button",{onClick:()=>W(!F),className:ce("w-14 h-14 rounded-full flex items-center justify-center shadow-lg shadow-cyan-500/30 transition-all hover:scale-105 active:scale-95",F?"bg-slate-700 text-white rotate-45":"bg-cyan-500 text-slate-900 hover:bg-cyan-400"),children:j.jsx(g0,{size:28})})]})})]}),j.jsxs("div",{className:ce("fixed inset-y-0 right-0 w-full md:w-[450px] bg-slate-950 border-l border-slate-800 transform transition-transform duration-300 ease-in-out z-40 shadow-2xl flex flex-col pt-16",w?"translate-x-0":"translate-x-full"),children:[j.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-slate-800 bg-slate-900",children:[j.jsxs("h2",{className:"font-mono text-sm text-cyan-400 font-bold flex items-center gap-2",children:[j.jsx(Hg,{size:16}),"STRUDEL CODE",o&&j.jsx("span",{className:"text-[10px] bg-cyan-900/50 text-cyan-300 px-1.5 py-0.5 rounded border border-cyan-700/50",children:"PINNED VIEW"})]}),j.jsxs("div",{className:"flex gap-2",children:[j.jsx("button",{onClick:sn,className:"text-xs bg-slate-800 hover:bg-slate-700 px-2 py-1 rounded text-slate-300 border border-slate-700",children:"Applica Modifiche"}),j.jsx("button",{onClick:()=>O(!1),className:"text-slate-500 hover:text-white",children:j.jsx(U1,{size:20})})]})]}),j.jsx("div",{className:"flex-1 relative",children:j.jsx("textarea",{value:it,onChange:Be,className:"w-full h-full bg-slate-950 text-slate-300 font-mono text-sm p-4 resize-none focus:outline-none leading-relaxed",spellCheck:!1})}),j.jsxs("div",{className:"p-4 bg-slate-900 border-t border-slate-800 text-xs text-slate-500",children:[j.jsx("p",{children:"Modifica il codice per aggiornare la UI (sperimentale)."}),j.jsxs("p",{className:"mt-1",children:["Supporta ",j.jsx("code",{children:".note"}),", ",j.jsx("code",{children:".gain"}),", ",j.jsx("code",{children:".pan"}),", ",j.jsx("code",{children:".delay"}),", ",j.jsx("code",{children:".reverb"}),", ",j.jsx("code",{children:".distortion"}),"."]})]})]})]}),j.jsxs("footer",{className:"w-full bg-slate-900 border-t border-slate-800 text-slate-500 text-xs py-2 px-4 flex flex-col sm:flex-row justify-between items-center gap-1",children:[j.jsxs("span",{children:[" ",new Date().getFullYear()," StrudelJam. Licensed under"," ",j.jsx("a",{href:"https://www.gnu.org/licenses/agpl-3.0.html",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:"AGPL-3.0"}),"."]}),j.jsxs("span",{children:["Source code:"," ",j.jsx("a",{href:"https://github.com/michfioravera/strudeljam",target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:underline",children:"GitHub"})]})]})]})}e1.createRoot(document.getElementById("root")).render(j.jsx(Tt.StrictMode,{children:j.jsx(Y2,{})}));
